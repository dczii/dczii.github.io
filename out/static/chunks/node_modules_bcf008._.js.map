{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/tweakpane/dist/tweakpane.js"],"sourcesContent":["/*! Tweakpane 4.0.5 (c) 2016 cocopon, licensed under the MIT license. */\nfunction forceCast(v) {\n    return v;\n}\nfunction isEmpty(value) {\n    return value === null || value === undefined;\n}\nfunction isObject$1(value) {\n    return value !== null && typeof value === 'object';\n}\nfunction isRecord(value) {\n    return value !== null && typeof value === 'object';\n}\nfunction deepEqualsArray(a1, a2) {\n    if (a1.length !== a2.length) {\n        return false;\n    }\n    for (let i = 0; i < a1.length; i++) {\n        if (a1[i] !== a2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction deepMerge(r1, r2) {\n    const keys = Array.from(new Set([...Object.keys(r1), ...Object.keys(r2)]));\n    return keys.reduce((result, key) => {\n        const v1 = r1[key];\n        const v2 = r2[key];\n        return isRecord(v1) && isRecord(v2)\n            ? Object.assign(Object.assign({}, result), { [key]: deepMerge(v1, v2) }) : Object.assign(Object.assign({}, result), { [key]: key in r2 ? v2 : v1 });\n    }, {});\n}\n\nfunction isBinding(value) {\n    if (!isObject$1(value)) {\n        return false;\n    }\n    return 'target' in value;\n}\n\nconst CREATE_MESSAGE_MAP = {\n    alreadydisposed: () => 'View has been already disposed',\n    invalidparams: (context) => `Invalid parameters for '${context.name}'`,\n    nomatchingcontroller: (context) => `No matching controller for '${context.key}'`,\n    nomatchingview: (context) => `No matching view for '${JSON.stringify(context.params)}'`,\n    notbindable: () => `Value is not bindable`,\n    notcompatible: (context) => `Not compatible with  plugin '${context.id}'`,\n    propertynotfound: (context) => `Property '${context.name}' not found`,\n    shouldneverhappen: () => 'This error should never happen',\n};\nclass TpError {\n    static alreadyDisposed() {\n        return new TpError({ type: 'alreadydisposed' });\n    }\n    static notBindable() {\n        return new TpError({\n            type: 'notbindable',\n        });\n    }\n    static notCompatible(bundleId, id) {\n        return new TpError({\n            type: 'notcompatible',\n            context: {\n                id: `${bundleId}.${id}`,\n            },\n        });\n    }\n    static propertyNotFound(name) {\n        return new TpError({\n            type: 'propertynotfound',\n            context: {\n                name: name,\n            },\n        });\n    }\n    static shouldNeverHappen() {\n        return new TpError({ type: 'shouldneverhappen' });\n    }\n    constructor(config) {\n        var _a;\n        this.message =\n            (_a = CREATE_MESSAGE_MAP[config.type](forceCast(config.context))) !== null && _a !== void 0 ? _a : 'Unexpected error';\n        this.name = this.constructor.name;\n        this.stack = new Error(this.message).stack;\n        this.type = config.type;\n    }\n    toString() {\n        return this.message;\n    }\n}\n\nclass BindingTarget {\n    constructor(obj, key) {\n        this.obj_ = obj;\n        this.key = key;\n    }\n    static isBindable(obj) {\n        if (obj === null) {\n            return false;\n        }\n        if (typeof obj !== 'object' && typeof obj !== 'function') {\n            return false;\n        }\n        return true;\n    }\n    read() {\n        return this.obj_[this.key];\n    }\n    write(value) {\n        this.obj_[this.key] = value;\n    }\n    writeProperty(name, value) {\n        const valueObj = this.read();\n        if (!BindingTarget.isBindable(valueObj)) {\n            throw TpError.notBindable();\n        }\n        if (!(name in valueObj)) {\n            throw TpError.propertyNotFound(name);\n        }\n        valueObj[name] = value;\n    }\n}\n\nclass Emitter {\n    constructor() {\n        this.observers_ = {};\n    }\n    on(eventName, handler, opt_options) {\n        var _a;\n        let observers = this.observers_[eventName];\n        if (!observers) {\n            observers = this.observers_[eventName] = [];\n        }\n        observers.push({\n            handler: handler,\n            key: (_a = opt_options === null || opt_options === void 0 ? void 0 : opt_options.key) !== null && _a !== void 0 ? _a : handler,\n        });\n        return this;\n    }\n    off(eventName, key) {\n        const observers = this.observers_[eventName];\n        if (observers) {\n            this.observers_[eventName] = observers.filter((observer) => {\n                return observer.key !== key;\n            });\n        }\n        return this;\n    }\n    emit(eventName, event) {\n        const observers = this.observers_[eventName];\n        if (!observers) {\n            return;\n        }\n        observers.forEach((observer) => {\n            observer.handler(event);\n        });\n    }\n}\n\nclass ComplexValue {\n    constructor(initialValue, config) {\n        var _a;\n        this.constraint_ = config === null || config === void 0 ? void 0 : config.constraint;\n        this.equals_ = (_a = config === null || config === void 0 ? void 0 : config.equals) !== null && _a !== void 0 ? _a : ((v1, v2) => v1 === v2);\n        this.emitter = new Emitter();\n        this.rawValue_ = initialValue;\n    }\n    get constraint() {\n        return this.constraint_;\n    }\n    get rawValue() {\n        return this.rawValue_;\n    }\n    set rawValue(rawValue) {\n        this.setRawValue(rawValue, {\n            forceEmit: false,\n            last: true,\n        });\n    }\n    setRawValue(rawValue, options) {\n        const opts = options !== null && options !== void 0 ? options : {\n            forceEmit: false,\n            last: true,\n        };\n        const constrainedValue = this.constraint_\n            ? this.constraint_.constrain(rawValue)\n            : rawValue;\n        const prevValue = this.rawValue_;\n        const changed = !this.equals_(prevValue, constrainedValue);\n        if (!changed && !opts.forceEmit) {\n            return;\n        }\n        this.emitter.emit('beforechange', {\n            sender: this,\n        });\n        this.rawValue_ = constrainedValue;\n        this.emitter.emit('change', {\n            options: opts,\n            previousRawValue: prevValue,\n            rawValue: constrainedValue,\n            sender: this,\n        });\n    }\n}\n\nclass PrimitiveValue {\n    constructor(initialValue) {\n        this.emitter = new Emitter();\n        this.value_ = initialValue;\n    }\n    get rawValue() {\n        return this.value_;\n    }\n    set rawValue(value) {\n        this.setRawValue(value, {\n            forceEmit: false,\n            last: true,\n        });\n    }\n    setRawValue(value, options) {\n        const opts = options !== null && options !== void 0 ? options : {\n            forceEmit: false,\n            last: true,\n        };\n        const prevValue = this.value_;\n        if (prevValue === value && !opts.forceEmit) {\n            return;\n        }\n        this.emitter.emit('beforechange', {\n            sender: this,\n        });\n        this.value_ = value;\n        this.emitter.emit('change', {\n            options: opts,\n            previousRawValue: prevValue,\n            rawValue: this.value_,\n            sender: this,\n        });\n    }\n}\n\nclass ReadonlyPrimitiveValue {\n    constructor(value) {\n        this.emitter = new Emitter();\n        this.onValueBeforeChange_ = this.onValueBeforeChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value_ = value;\n        this.value_.emitter.on('beforechange', this.onValueBeforeChange_);\n        this.value_.emitter.on('change', this.onValueChange_);\n    }\n    get rawValue() {\n        return this.value_.rawValue;\n    }\n    onValueBeforeChange_(ev) {\n        this.emitter.emit('beforechange', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n    onValueChange_(ev) {\n        this.emitter.emit('change', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n}\n\nfunction createValue(initialValue, config) {\n    const constraint = config === null || config === void 0 ? void 0 : config.constraint;\n    const equals = config === null || config === void 0 ? void 0 : config.equals;\n    if (!constraint && !equals) {\n        return new PrimitiveValue(initialValue);\n    }\n    return new ComplexValue(initialValue, config);\n}\nfunction createReadonlyValue(value) {\n    return [\n        new ReadonlyPrimitiveValue(value),\n        (rawValue, options) => {\n            value.setRawValue(rawValue, options);\n        },\n    ];\n}\n\nclass ValueMap {\n    constructor(valueMap) {\n        this.emitter = new Emitter();\n        this.valMap_ = valueMap;\n        for (const key in this.valMap_) {\n            const v = this.valMap_[key];\n            v.emitter.on('change', () => {\n                this.emitter.emit('change', {\n                    key: key,\n                    sender: this,\n                });\n            });\n        }\n    }\n    static createCore(initialValue) {\n        const keys = Object.keys(initialValue);\n        return keys.reduce((o, key) => {\n            return Object.assign(o, {\n                [key]: createValue(initialValue[key]),\n            });\n        }, {});\n    }\n    static fromObject(initialValue) {\n        const core = this.createCore(initialValue);\n        return new ValueMap(core);\n    }\n    get(key) {\n        return this.valMap_[key].rawValue;\n    }\n    set(key, value) {\n        this.valMap_[key].rawValue = value;\n    }\n    value(key) {\n        return this.valMap_[key];\n    }\n}\n\nclass DefiniteRangeConstraint {\n    constructor(config) {\n        this.values = ValueMap.fromObject({\n            max: config.max,\n            min: config.min,\n        });\n    }\n    constrain(value) {\n        const max = this.values.get('max');\n        const min = this.values.get('min');\n        return Math.min(Math.max(value, min), max);\n    }\n}\n\nclass RangeConstraint {\n    constructor(config) {\n        this.values = ValueMap.fromObject({\n            max: config.max,\n            min: config.min,\n        });\n    }\n    constrain(value) {\n        const max = this.values.get('max');\n        const min = this.values.get('min');\n        let result = value;\n        if (!isEmpty(min)) {\n            result = Math.max(result, min);\n        }\n        if (!isEmpty(max)) {\n            result = Math.min(result, max);\n        }\n        return result;\n    }\n}\n\nclass StepConstraint {\n    constructor(step, origin = 0) {\n        this.step = step;\n        this.origin = origin;\n    }\n    constrain(value) {\n        const o = this.origin % this.step;\n        const r = Math.round((value - o) / this.step);\n        return o + r * this.step;\n    }\n}\n\nclass NumberLiteralNode {\n    constructor(text) {\n        this.text = text;\n    }\n    evaluate() {\n        return Number(this.text);\n    }\n    toString() {\n        return this.text;\n    }\n}\nconst BINARY_OPERATION_MAP = {\n    '**': (v1, v2) => Math.pow(v1, v2),\n    '*': (v1, v2) => v1 * v2,\n    '/': (v1, v2) => v1 / v2,\n    '%': (v1, v2) => v1 % v2,\n    '+': (v1, v2) => v1 + v2,\n    '-': (v1, v2) => v1 - v2,\n    '<<': (v1, v2) => v1 << v2,\n    '>>': (v1, v2) => v1 >> v2,\n    '>>>': (v1, v2) => v1 >>> v2,\n    '&': (v1, v2) => v1 & v2,\n    '^': (v1, v2) => v1 ^ v2,\n    '|': (v1, v2) => v1 | v2,\n};\nclass BinaryOperationNode {\n    constructor(operator, left, right) {\n        this.left = left;\n        this.operator = operator;\n        this.right = right;\n    }\n    evaluate() {\n        const op = BINARY_OPERATION_MAP[this.operator];\n        if (!op) {\n            throw new Error(`unexpected binary operator: '${this.operator}`);\n        }\n        return op(this.left.evaluate(), this.right.evaluate());\n    }\n    toString() {\n        return [\n            'b(',\n            this.left.toString(),\n            this.operator,\n            this.right.toString(),\n            ')',\n        ].join(' ');\n    }\n}\nconst UNARY_OPERATION_MAP = {\n    '+': (v) => v,\n    '-': (v) => -v,\n    '~': (v) => ~v,\n};\nclass UnaryOperationNode {\n    constructor(operator, expr) {\n        this.operator = operator;\n        this.expression = expr;\n    }\n    evaluate() {\n        const op = UNARY_OPERATION_MAP[this.operator];\n        if (!op) {\n            throw new Error(`unexpected unary operator: '${this.operator}`);\n        }\n        return op(this.expression.evaluate());\n    }\n    toString() {\n        return ['u(', this.operator, this.expression.toString(), ')'].join(' ');\n    }\n}\n\nfunction combineReader(parsers) {\n    return (text, cursor) => {\n        for (let i = 0; i < parsers.length; i++) {\n            const result = parsers[i](text, cursor);\n            if (result !== '') {\n                return result;\n            }\n        }\n        return '';\n    };\n}\nfunction readWhitespace(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^\\s+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readNonZeroDigit(text, cursor) {\n    const ch = text.substr(cursor, 1);\n    return ch.match(/^[1-9]$/) ? ch : '';\n}\nfunction readDecimalDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[0-9]+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readSignedInteger(text, cursor) {\n    const ds = readDecimalDigits(text, cursor);\n    if (ds !== '') {\n        return ds;\n    }\n    const sign = text.substr(cursor, 1);\n    cursor += 1;\n    if (sign !== '-' && sign !== '+') {\n        return '';\n    }\n    const sds = readDecimalDigits(text, cursor);\n    if (sds === '') {\n        return '';\n    }\n    return sign + sds;\n}\nfunction readExponentPart(text, cursor) {\n    const e = text.substr(cursor, 1);\n    cursor += 1;\n    if (e.toLowerCase() !== 'e') {\n        return '';\n    }\n    const si = readSignedInteger(text, cursor);\n    if (si === '') {\n        return '';\n    }\n    return e + si;\n}\nfunction readDecimalIntegerLiteral(text, cursor) {\n    const ch = text.substr(cursor, 1);\n    if (ch === '0') {\n        return ch;\n    }\n    const nzd = readNonZeroDigit(text, cursor);\n    cursor += nzd.length;\n    if (nzd === '') {\n        return '';\n    }\n    return nzd + readDecimalDigits(text, cursor);\n}\nfunction readDecimalLiteral1(text, cursor) {\n    const dil = readDecimalIntegerLiteral(text, cursor);\n    cursor += dil.length;\n    if (dil === '') {\n        return '';\n    }\n    const dot = text.substr(cursor, 1);\n    cursor += dot.length;\n    if (dot !== '.') {\n        return '';\n    }\n    const dds = readDecimalDigits(text, cursor);\n    cursor += dds.length;\n    return dil + dot + dds + readExponentPart(text, cursor);\n}\nfunction readDecimalLiteral2(text, cursor) {\n    const dot = text.substr(cursor, 1);\n    cursor += dot.length;\n    if (dot !== '.') {\n        return '';\n    }\n    const dds = readDecimalDigits(text, cursor);\n    cursor += dds.length;\n    if (dds === '') {\n        return '';\n    }\n    return dot + dds + readExponentPart(text, cursor);\n}\nfunction readDecimalLiteral3(text, cursor) {\n    const dil = readDecimalIntegerLiteral(text, cursor);\n    cursor += dil.length;\n    if (dil === '') {\n        return '';\n    }\n    return dil + readExponentPart(text, cursor);\n}\nconst readDecimalLiteral = combineReader([\n    readDecimalLiteral1,\n    readDecimalLiteral2,\n    readDecimalLiteral3,\n]);\nfunction parseBinaryDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[01]+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readBinaryIntegerLiteral(text, cursor) {\n    const prefix = text.substr(cursor, 2);\n    cursor += prefix.length;\n    if (prefix.toLowerCase() !== '0b') {\n        return '';\n    }\n    const bds = parseBinaryDigits(text, cursor);\n    if (bds === '') {\n        return '';\n    }\n    return prefix + bds;\n}\nfunction readOctalDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[0-7]+/);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readOctalIntegerLiteral(text, cursor) {\n    const prefix = text.substr(cursor, 2);\n    cursor += prefix.length;\n    if (prefix.toLowerCase() !== '0o') {\n        return '';\n    }\n    const ods = readOctalDigits(text, cursor);\n    if (ods === '') {\n        return '';\n    }\n    return prefix + ods;\n}\nfunction readHexDigits(text, cursor) {\n    var _a;\n    const m = text.substr(cursor).match(/^[0-9a-f]+/i);\n    return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n}\nfunction readHexIntegerLiteral(text, cursor) {\n    const prefix = text.substr(cursor, 2);\n    cursor += prefix.length;\n    if (prefix.toLowerCase() !== '0x') {\n        return '';\n    }\n    const hds = readHexDigits(text, cursor);\n    if (hds === '') {\n        return '';\n    }\n    return prefix + hds;\n}\nconst readNonDecimalIntegerLiteral = combineReader([\n    readBinaryIntegerLiteral,\n    readOctalIntegerLiteral,\n    readHexIntegerLiteral,\n]);\nconst readNumericLiteral = combineReader([\n    readNonDecimalIntegerLiteral,\n    readDecimalLiteral,\n]);\n\nfunction parseLiteral(text, cursor) {\n    const num = readNumericLiteral(text, cursor);\n    cursor += num.length;\n    if (num === '') {\n        return null;\n    }\n    return {\n        evaluable: new NumberLiteralNode(num),\n        cursor: cursor,\n    };\n}\nfunction parseParenthesizedExpression(text, cursor) {\n    const op = text.substr(cursor, 1);\n    cursor += op.length;\n    if (op !== '(') {\n        return null;\n    }\n    const expr = parseExpression(text, cursor);\n    if (!expr) {\n        return null;\n    }\n    cursor = expr.cursor;\n    cursor += readWhitespace(text, cursor).length;\n    const cl = text.substr(cursor, 1);\n    cursor += cl.length;\n    if (cl !== ')') {\n        return null;\n    }\n    return {\n        evaluable: expr.evaluable,\n        cursor: cursor,\n    };\n}\nfunction parsePrimaryExpression(text, cursor) {\n    var _a;\n    return ((_a = parseLiteral(text, cursor)) !== null && _a !== void 0 ? _a : parseParenthesizedExpression(text, cursor));\n}\nfunction parseUnaryExpression(text, cursor) {\n    const expr = parsePrimaryExpression(text, cursor);\n    if (expr) {\n        return expr;\n    }\n    const op = text.substr(cursor, 1);\n    cursor += op.length;\n    if (op !== '+' && op !== '-' && op !== '~') {\n        return null;\n    }\n    const num = parseUnaryExpression(text, cursor);\n    if (!num) {\n        return null;\n    }\n    cursor = num.cursor;\n    return {\n        cursor: cursor,\n        evaluable: new UnaryOperationNode(op, num.evaluable),\n    };\n}\nfunction readBinaryOperator(ops, text, cursor) {\n    cursor += readWhitespace(text, cursor).length;\n    const op = ops.filter((op) => text.startsWith(op, cursor))[0];\n    if (!op) {\n        return null;\n    }\n    cursor += op.length;\n    cursor += readWhitespace(text, cursor).length;\n    return {\n        cursor: cursor,\n        operator: op,\n    };\n}\nfunction createBinaryOperationExpressionParser(exprParser, ops) {\n    return (text, cursor) => {\n        const firstExpr = exprParser(text, cursor);\n        if (!firstExpr) {\n            return null;\n        }\n        cursor = firstExpr.cursor;\n        let expr = firstExpr.evaluable;\n        for (;;) {\n            const op = readBinaryOperator(ops, text, cursor);\n            if (!op) {\n                break;\n            }\n            cursor = op.cursor;\n            const nextExpr = exprParser(text, cursor);\n            if (!nextExpr) {\n                return null;\n            }\n            cursor = nextExpr.cursor;\n            expr = new BinaryOperationNode(op.operator, expr, nextExpr.evaluable);\n        }\n        return expr\n            ? {\n                cursor: cursor,\n                evaluable: expr,\n            }\n            : null;\n    };\n}\nconst parseBinaryOperationExpression = [\n    ['**'],\n    ['*', '/', '%'],\n    ['+', '-'],\n    ['<<', '>>>', '>>'],\n    ['&'],\n    ['^'],\n    ['|'],\n].reduce((parser, ops) => {\n    return createBinaryOperationExpressionParser(parser, ops);\n}, parseUnaryExpression);\nfunction parseExpression(text, cursor) {\n    cursor += readWhitespace(text, cursor).length;\n    return parseBinaryOperationExpression(text, cursor);\n}\nfunction parseEcmaNumberExpression(text) {\n    const expr = parseExpression(text, 0);\n    if (!expr) {\n        return null;\n    }\n    const cursor = expr.cursor + readWhitespace(text, expr.cursor).length;\n    if (cursor !== text.length) {\n        return null;\n    }\n    return expr.evaluable;\n}\n\nfunction parseNumber(text) {\n    var _a;\n    const r = parseEcmaNumberExpression(text);\n    return (_a = r === null || r === void 0 ? void 0 : r.evaluate()) !== null && _a !== void 0 ? _a : null;\n}\nfunction numberFromUnknown(value) {\n    if (typeof value === 'number') {\n        return value;\n    }\n    if (typeof value === 'string') {\n        const pv = parseNumber(value);\n        if (!isEmpty(pv)) {\n            return pv;\n        }\n    }\n    return 0;\n}\nfunction numberToString(value) {\n    return String(value);\n}\nfunction createNumberFormatter(digits) {\n    return (value) => {\n        return value.toFixed(Math.max(Math.min(digits, 20), 0));\n    };\n}\n\nfunction mapRange(value, start1, end1, start2, end2) {\n    const p = (value - start1) / (end1 - start1);\n    return start2 + p * (end2 - start2);\n}\nfunction getDecimalDigits(value) {\n    const text = String(value.toFixed(10));\n    const frac = text.split('.')[1];\n    return frac.replace(/0+$/, '').length;\n}\nfunction constrainRange(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\nfunction loopRange(value, max) {\n    return ((value % max) + max) % max;\n}\nfunction getSuitableDecimalDigits(params, rawValue) {\n    return !isEmpty(params.step)\n        ? getDecimalDigits(params.step)\n        : Math.max(getDecimalDigits(rawValue), 2);\n}\nfunction getSuitableKeyScale(params) {\n    var _a;\n    return (_a = params.step) !== null && _a !== void 0 ? _a : 1;\n}\nfunction getSuitablePointerScale(params, rawValue) {\n    var _a;\n    const base = Math.abs((_a = params.step) !== null && _a !== void 0 ? _a : rawValue);\n    return base === 0 ? 0.1 : Math.pow(10, Math.floor(Math.log10(base)) - 1);\n}\nfunction createStepConstraint(params, initialValue) {\n    if (!isEmpty(params.step)) {\n        return new StepConstraint(params.step, initialValue);\n    }\n    return null;\n}\nfunction createRangeConstraint(params) {\n    if (!isEmpty(params.max) && !isEmpty(params.min)) {\n        return new DefiniteRangeConstraint({\n            max: params.max,\n            min: params.min,\n        });\n    }\n    if (!isEmpty(params.max) || !isEmpty(params.min)) {\n        return new RangeConstraint({\n            max: params.max,\n            min: params.min,\n        });\n    }\n    return null;\n}\nfunction createNumberTextPropsObject(params, initialValue) {\n    var _a, _b, _c;\n    return {\n        formatter: (_a = params.format) !== null && _a !== void 0 ? _a : createNumberFormatter(getSuitableDecimalDigits(params, initialValue)),\n        keyScale: (_b = params.keyScale) !== null && _b !== void 0 ? _b : getSuitableKeyScale(params),\n        pointerScale: (_c = params.pointerScale) !== null && _c !== void 0 ? _c : getSuitablePointerScale(params, initialValue),\n    };\n}\nfunction createNumberTextInputParamsParser(p) {\n    return {\n        format: p.optional.function,\n        keyScale: p.optional.number,\n        max: p.optional.number,\n        min: p.optional.number,\n        pointerScale: p.optional.number,\n        step: p.optional.number,\n    };\n}\n\nfunction createPointAxis(config) {\n    return {\n        constraint: config.constraint,\n        textProps: ValueMap.fromObject(createNumberTextPropsObject(config.params, config.initialValue)),\n    };\n}\n\nclass BladeApi {\n    constructor(controller) {\n        this.controller = controller;\n    }\n    get element() {\n        return this.controller.view.element;\n    }\n    get disabled() {\n        return this.controller.viewProps.get('disabled');\n    }\n    set disabled(disabled) {\n        this.controller.viewProps.set('disabled', disabled);\n    }\n    get hidden() {\n        return this.controller.viewProps.get('hidden');\n    }\n    set hidden(hidden) {\n        this.controller.viewProps.set('hidden', hidden);\n    }\n    dispose() {\n        this.controller.viewProps.set('disposed', true);\n    }\n    importState(state) {\n        return this.controller.importState(state);\n    }\n    exportState() {\n        return this.controller.exportState();\n    }\n}\n\nclass TpEvent {\n    constructor(target) {\n        this.target = target;\n    }\n}\nclass TpChangeEvent extends TpEvent {\n    constructor(target, value, last) {\n        super(target);\n        this.value = value;\n        this.last = last !== null && last !== void 0 ? last : true;\n    }\n}\nclass TpFoldEvent extends TpEvent {\n    constructor(target, expanded) {\n        super(target);\n        this.expanded = expanded;\n    }\n}\nclass TpTabSelectEvent extends TpEvent {\n    constructor(target, index) {\n        super(target);\n        this.index = index;\n    }\n}\nclass TpMouseEvent extends TpEvent {\n    constructor(target, nativeEvent) {\n        super(target);\n        this.native = nativeEvent;\n    }\n}\n\nclass BindingApi extends BladeApi {\n    constructor(controller) {\n        super(controller);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.emitter_ = new Emitter();\n        this.controller.value.emitter.on('change', this.onValueChange_);\n    }\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get key() {\n        return this.controller.value.binding.target.key;\n    }\n    get tag() {\n        return this.controller.tag;\n    }\n    set tag(tag) {\n        this.controller.tag = tag;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n    refresh() {\n        this.controller.value.fetch();\n    }\n    onValueChange_(ev) {\n        const value = this.controller.value;\n        this.emitter_.emit('change', new TpChangeEvent(this, forceCast(value.binding.target.read()), ev.options.last));\n    }\n}\n\nclass InputBindingValue {\n    constructor(value, binding) {\n        this.onValueBeforeChange_ = this.onValueBeforeChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.binding = binding;\n        this.value_ = value;\n        this.value_.emitter.on('beforechange', this.onValueBeforeChange_);\n        this.value_.emitter.on('change', this.onValueChange_);\n        this.emitter = new Emitter();\n    }\n    get rawValue() {\n        return this.value_.rawValue;\n    }\n    set rawValue(rawValue) {\n        this.value_.rawValue = rawValue;\n    }\n    setRawValue(rawValue, options) {\n        this.value_.setRawValue(rawValue, options);\n    }\n    fetch() {\n        this.value_.rawValue = this.binding.read();\n    }\n    push() {\n        this.binding.write(this.value_.rawValue);\n    }\n    onValueBeforeChange_(ev) {\n        this.emitter.emit('beforechange', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n    onValueChange_(ev) {\n        this.push();\n        this.emitter.emit('change', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n}\nfunction isInputBindingValue(v) {\n    if (!('binding' in v)) {\n        return false;\n    }\n    const b = v['binding'];\n    return isBinding(b) && 'read' in b && 'write' in b;\n}\n\nfunction parseObject(value, keyToParserMap) {\n    const keys = Object.keys(keyToParserMap);\n    const result = keys.reduce((tmp, key) => {\n        if (tmp === undefined) {\n            return undefined;\n        }\n        const parser = keyToParserMap[key];\n        const result = parser(value[key]);\n        return result.succeeded\n            ? Object.assign(Object.assign({}, tmp), { [key]: result.value }) : undefined;\n    }, {});\n    return forceCast(result);\n}\nfunction parseArray(value, parseItem) {\n    return value.reduce((tmp, item) => {\n        if (tmp === undefined) {\n            return undefined;\n        }\n        const result = parseItem(item);\n        if (!result.succeeded || result.value === undefined) {\n            return undefined;\n        }\n        return [...tmp, result.value];\n    }, []);\n}\nfunction isObject(value) {\n    if (value === null) {\n        return false;\n    }\n    return typeof value === 'object';\n}\nfunction createMicroParserBuilder(parse) {\n    return (optional) => (v) => {\n        if (!optional && v === undefined) {\n            return {\n                succeeded: false,\n                value: undefined,\n            };\n        }\n        if (optional && v === undefined) {\n            return {\n                succeeded: true,\n                value: undefined,\n            };\n        }\n        const result = parse(v);\n        return result !== undefined\n            ? {\n                succeeded: true,\n                value: result,\n            }\n            : {\n                succeeded: false,\n                value: undefined,\n            };\n    };\n}\nfunction createMicroParserBuilders(optional) {\n    return {\n        custom: (parse) => createMicroParserBuilder(parse)(optional),\n        boolean: createMicroParserBuilder((v) => typeof v === 'boolean' ? v : undefined)(optional),\n        number: createMicroParserBuilder((v) => typeof v === 'number' ? v : undefined)(optional),\n        string: createMicroParserBuilder((v) => typeof v === 'string' ? v : undefined)(optional),\n        function: createMicroParserBuilder((v) =>\n        typeof v === 'function' ? v : undefined)(optional),\n        constant: (value) => createMicroParserBuilder((v) => (v === value ? value : undefined))(optional),\n        raw: createMicroParserBuilder((v) => v)(optional),\n        object: (keyToParserMap) => createMicroParserBuilder((v) => {\n            if (!isObject(v)) {\n                return undefined;\n            }\n            return parseObject(v, keyToParserMap);\n        })(optional),\n        array: (itemParser) => createMicroParserBuilder((v) => {\n            if (!Array.isArray(v)) {\n                return undefined;\n            }\n            return parseArray(v, itemParser);\n        })(optional),\n    };\n}\nconst MicroParsers = {\n    optional: createMicroParserBuilders(true),\n    required: createMicroParserBuilders(false),\n};\nfunction parseRecord(value, keyToParserMap) {\n    const map = keyToParserMap(MicroParsers);\n    const result = MicroParsers.required.object(map)(value);\n    return result.succeeded ? result.value : undefined;\n}\n\nfunction importBladeState(state, superImport, parser, callback) {\n    if (superImport && !superImport(state)) {\n        return false;\n    }\n    const result = parseRecord(state, parser);\n    return result ? callback(result) : false;\n}\nfunction exportBladeState(superExport, thisState) {\n    var _a;\n    return deepMerge((_a = superExport === null || superExport === void 0 ? void 0 : superExport()) !== null && _a !== void 0 ? _a : {}, thisState);\n}\n\nfunction isValueBladeController(bc) {\n    return 'value' in bc;\n}\n\nfunction isBindingValue(v) {\n    if (!isObject$1(v) || !('binding' in v)) {\n        return false;\n    }\n    const b = v.binding;\n    return isBinding(b);\n}\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\nfunction forceReflow(element) {\n    element.offsetHeight;\n}\nfunction disableTransitionTemporarily(element, callback) {\n    const t = element.style.transition;\n    element.style.transition = 'none';\n    callback();\n    element.style.transition = t;\n}\nfunction supportsTouch(doc) {\n    return doc.ontouchstart !== undefined;\n}\nfunction getGlobalObject() {\n    return globalThis;\n}\nfunction getWindowDocument() {\n    const globalObj = forceCast(getGlobalObject());\n    return globalObj.document;\n}\nfunction getCanvasContext(canvasElement) {\n    const win = canvasElement.ownerDocument.defaultView;\n    if (!win) {\n        return null;\n    }\n    const isBrowser = 'document' in win;\n    return isBrowser\n        ? canvasElement.getContext('2d', {\n            willReadFrequently: true,\n        })\n        : null;\n}\nconst ICON_ID_TO_INNER_HTML_MAP = {\n    check: '<path d=\"M2 8l4 4l8 -8\"/>',\n    dropdown: '<path d=\"M5 7h6l-3 3 z\"/>',\n    p2dpad: '<path d=\"M8 4v8\"/><path d=\"M4 8h8\"/><circle cx=\"12\" cy=\"12\" r=\"1.2\"/>',\n};\nfunction createSvgIconElement(document, iconId) {\n    const elem = document.createElementNS(SVG_NS, 'svg');\n    elem.innerHTML = ICON_ID_TO_INNER_HTML_MAP[iconId];\n    return elem;\n}\nfunction insertElementAt(parentElement, element, index) {\n    parentElement.insertBefore(element, parentElement.children[index]);\n}\nfunction removeElement(element) {\n    if (element.parentElement) {\n        element.parentElement.removeChild(element);\n    }\n}\nfunction removeChildElements(element) {\n    while (element.children.length > 0) {\n        element.removeChild(element.children[0]);\n    }\n}\nfunction removeChildNodes(element) {\n    while (element.childNodes.length > 0) {\n        element.removeChild(element.childNodes[0]);\n    }\n}\nfunction findNextTarget(ev) {\n    if (ev.relatedTarget) {\n        return forceCast(ev.relatedTarget);\n    }\n    if ('explicitOriginalTarget' in ev) {\n        return ev.explicitOriginalTarget;\n    }\n    return null;\n}\n\nfunction bindValue(value, applyValue) {\n    value.emitter.on('change', (ev) => {\n        applyValue(ev.rawValue);\n    });\n    applyValue(value.rawValue);\n}\nfunction bindValueMap(valueMap, key, applyValue) {\n    bindValue(valueMap.value(key), applyValue);\n}\n\nconst PREFIX = 'tp';\nfunction ClassName(viewName) {\n    const fn = (opt_elementName, opt_modifier) => {\n        return [\n            PREFIX,\n            '-',\n            viewName,\n            'v',\n            opt_elementName ? `_${opt_elementName}` : '',\n            opt_modifier ? `-${opt_modifier}` : '',\n        ].join('');\n    };\n    return fn;\n}\n\nconst cn$r = ClassName('lbl');\nfunction createLabelNode(doc, label) {\n    const frag = doc.createDocumentFragment();\n    const lineNodes = label.split('\\n').map((line) => {\n        return doc.createTextNode(line);\n    });\n    lineNodes.forEach((lineNode, index) => {\n        if (index > 0) {\n            frag.appendChild(doc.createElement('br'));\n        }\n        frag.appendChild(lineNode);\n    });\n    return frag;\n}\nclass LabelView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$r());\n        config.viewProps.bindClassModifiers(this.element);\n        const labelElem = doc.createElement('div');\n        labelElem.classList.add(cn$r('l'));\n        bindValueMap(config.props, 'label', (value) => {\n            if (isEmpty(value)) {\n                this.element.classList.add(cn$r(undefined, 'nol'));\n            }\n            else {\n                this.element.classList.remove(cn$r(undefined, 'nol'));\n                removeChildNodes(labelElem);\n                labelElem.appendChild(createLabelNode(doc, value));\n            }\n        });\n        this.element.appendChild(labelElem);\n        this.labelElement = labelElem;\n        const valueElem = doc.createElement('div');\n        valueElem.classList.add(cn$r('v'));\n        this.element.appendChild(valueElem);\n        this.valueElement = valueElem;\n    }\n}\n\nclass LabelController {\n    constructor(doc, config) {\n        this.props = config.props;\n        this.valueController = config.valueController;\n        this.viewProps = config.valueController.viewProps;\n        this.view = new LabelView(doc, {\n            props: config.props,\n            viewProps: this.viewProps,\n        });\n        this.view.valueElement.appendChild(this.valueController.view.element);\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            label: p.optional.string,\n        }), (result) => {\n            this.props.set('label', result.label);\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            label: this.props.get('label'),\n        });\n    }\n}\n\nfunction getAllBladePositions() {\n    return ['veryfirst', 'first', 'last', 'verylast'];\n}\n\nconst cn$q = ClassName('');\nconst POS_TO_CLASS_NAME_MAP = {\n    veryfirst: 'vfst',\n    first: 'fst',\n    last: 'lst',\n    verylast: 'vlst',\n};\nclass BladeController {\n    constructor(config) {\n        this.parent_ = null;\n        this.blade = config.blade;\n        this.view = config.view;\n        this.viewProps = config.viewProps;\n        const elem = this.view.element;\n        this.blade.value('positions').emitter.on('change', () => {\n            getAllBladePositions().forEach((pos) => {\n                elem.classList.remove(cn$q(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n            });\n            this.blade.get('positions').forEach((pos) => {\n                elem.classList.add(cn$q(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n            });\n        });\n        this.viewProps.handleDispose(() => {\n            removeElement(elem);\n        });\n    }\n    get parent() {\n        return this.parent_;\n    }\n    set parent(parent) {\n        this.parent_ = parent;\n        this.viewProps.set('parent', this.parent_ ? this.parent_.viewProps : null);\n    }\n    importState(state) {\n        return importBladeState(state, null, (p) => ({\n            disabled: p.required.boolean,\n            hidden: p.required.boolean,\n        }), (result) => {\n            this.viewProps.importState(result);\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(null, Object.assign({}, this.viewProps.exportState()));\n    }\n}\n\nclass LabeledValueBladeController extends BladeController {\n    constructor(doc, config) {\n        if (config.value !== config.valueController.value) {\n            throw TpError.shouldNeverHappen();\n        }\n        const viewProps = config.valueController.viewProps;\n        const lc = new LabelController(doc, {\n            blade: config.blade,\n            props: config.props,\n            valueController: config.valueController,\n        });\n        super(Object.assign(Object.assign({}, config), { view: new LabelView(doc, {\n                props: config.props,\n                viewProps: viewProps,\n            }), viewProps: viewProps }));\n        this.labelController = lc;\n        this.value = config.value;\n        this.valueController = config.valueController;\n        this.view.valueElement.appendChild(this.valueController.view.element);\n    }\n    importState(state) {\n        return importBladeState(state, (s) => {\n            var _a, _b, _c;\n            return super.importState(s) &&\n                this.labelController.importProps(s) &&\n                ((_c = (_b = (_a = this.valueController).importProps) === null || _b === void 0 ? void 0 : _b.call(_a, state)) !== null && _c !== void 0 ? _c : true);\n        }, (p) => ({\n            value: p.optional.raw,\n        }), (result) => {\n            if (result.value) {\n                this.value.rawValue = result.value;\n            }\n            return true;\n        });\n    }\n    exportState() {\n        var _a, _b, _c;\n        return exportBladeState(() => super.exportState(), Object.assign(Object.assign({ value: this.value.rawValue }, this.labelController.exportProps()), ((_c = (_b = (_a = this.valueController).exportProps) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : {})));\n    }\n}\n\nfunction excludeValue(state) {\n    const result = Object.assign({}, state);\n    delete result.value;\n    return result;\n}\nclass BindingController extends LabeledValueBladeController {\n    constructor(doc, config) {\n        super(doc, config);\n        this.tag = config.tag;\n    }\n    importState(state) {\n        return importBladeState(state,\n        (_s) => super.importState(excludeValue(state)), (p) => ({\n            tag: p.optional.string,\n        }), (result) => {\n            this.tag = result.tag;\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(() => excludeValue(super.exportState()), {\n            binding: {\n                key: this.value.binding.target.key,\n                value: this.value.binding.target.read(),\n            },\n            tag: this.tag,\n        });\n    }\n}\nfunction isBindingController(bc) {\n    return isValueBladeController(bc) && isBindingValue(bc.value);\n}\n\nclass InputBindingController extends BindingController {\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            binding: p.required.object({\n                value: p.required.raw,\n            }),\n        }), (result) => {\n            this.value.binding.inject(result.binding.value);\n            this.value.fetch();\n            return true;\n        });\n    }\n}\nfunction isInputBindingController(bc) {\n    return isValueBladeController(bc) && isInputBindingValue(bc.value);\n}\n\nfunction fillBuffer(buffer, bufferSize) {\n    while (buffer.length < bufferSize) {\n        buffer.push(undefined);\n    }\n}\nfunction initializeBuffer(bufferSize) {\n    const buffer = [];\n    fillBuffer(buffer, bufferSize);\n    return buffer;\n}\nfunction createTrimmedBuffer(buffer) {\n    const index = buffer.indexOf(undefined);\n    return forceCast(index < 0 ? buffer : buffer.slice(0, index));\n}\nfunction createPushedBuffer(buffer, newValue) {\n    const newBuffer = [...createTrimmedBuffer(buffer), newValue];\n    if (newBuffer.length > buffer.length) {\n        newBuffer.splice(0, newBuffer.length - buffer.length);\n    }\n    else {\n        fillBuffer(newBuffer, buffer.length);\n    }\n    return newBuffer;\n}\n\nclass MonitorBindingValue {\n    constructor(config) {\n        this.emitter = new Emitter();\n        this.onTick_ = this.onTick_.bind(this);\n        this.onValueBeforeChange_ = this.onValueBeforeChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.binding = config.binding;\n        this.value_ = createValue(initializeBuffer(config.bufferSize));\n        this.value_.emitter.on('beforechange', this.onValueBeforeChange_);\n        this.value_.emitter.on('change', this.onValueChange_);\n        this.ticker = config.ticker;\n        this.ticker.emitter.on('tick', this.onTick_);\n        this.fetch();\n    }\n    get rawValue() {\n        return this.value_.rawValue;\n    }\n    set rawValue(rawValue) {\n        this.value_.rawValue = rawValue;\n    }\n    setRawValue(rawValue, options) {\n        this.value_.setRawValue(rawValue, options);\n    }\n    fetch() {\n        this.value_.rawValue = createPushedBuffer(this.value_.rawValue, this.binding.read());\n    }\n    onTick_() {\n        this.fetch();\n    }\n    onValueBeforeChange_(ev) {\n        this.emitter.emit('beforechange', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n    onValueChange_(ev) {\n        this.emitter.emit('change', Object.assign(Object.assign({}, ev), { sender: this }));\n    }\n}\nfunction isMonitorBindingValue(v) {\n    if (!('binding' in v)) {\n        return false;\n    }\n    const b = v['binding'];\n    return isBinding(b) && 'read' in b && !('write' in b);\n}\n\nclass MonitorBindingController extends BindingController {\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            binding: {\n                readonly: true,\n            },\n        });\n    }\n}\nfunction isMonitorBindingController(bc) {\n    return (isValueBladeController(bc) &&\n        isMonitorBindingValue(bc.value));\n}\n\nclass ButtonApi extends BladeApi {\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get title() {\n        var _a;\n        return (_a = this.controller.buttonController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n    }\n    set title(title) {\n        this.controller.buttonController.props.set('title', title);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        const emitter = this.controller.buttonController.emitter;\n        emitter.on(eventName, (ev) => {\n            bh(new TpMouseEvent(this, ev.nativeEvent));\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        const emitter = this.controller.buttonController.emitter;\n        emitter.off(eventName, handler);\n        return this;\n    }\n}\n\nfunction applyClass(elem, className, active) {\n    if (active) {\n        elem.classList.add(className);\n    }\n    else {\n        elem.classList.remove(className);\n    }\n}\nfunction valueToClassName(elem, className) {\n    return (value) => {\n        applyClass(elem, className, value);\n    };\n}\nfunction bindValueToTextContent(value, elem) {\n    bindValue(value, (text) => {\n        elem.textContent = text !== null && text !== void 0 ? text : '';\n    });\n}\n\nconst cn$p = ClassName('btn');\nclass ButtonView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$p());\n        config.viewProps.bindClassModifiers(this.element);\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$p('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(cn$p('t'));\n        bindValueToTextContent(config.props.value('title'), titleElem);\n        this.buttonElement.appendChild(titleElem);\n    }\n}\n\nclass ButtonController {\n    constructor(doc, config) {\n        this.emitter = new Emitter();\n        this.onClick_ = this.onClick_.bind(this);\n        this.props = config.props;\n        this.viewProps = config.viewProps;\n        this.view = new ButtonView(doc, {\n            props: this.props,\n            viewProps: this.viewProps,\n        });\n        this.view.buttonElement.addEventListener('click', this.onClick_);\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            title: p.optional.string,\n        }), (result) => {\n            this.props.set('title', result.title);\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            title: this.props.get('title'),\n        });\n    }\n    onClick_(ev) {\n        this.emitter.emit('click', {\n            nativeEvent: ev,\n            sender: this,\n        });\n    }\n}\n\nclass ButtonBladeController extends BladeController {\n    constructor(doc, config) {\n        const bc = new ButtonController(doc, {\n            props: config.buttonProps,\n            viewProps: config.viewProps,\n        });\n        const lc = new LabelController(doc, {\n            blade: config.blade,\n            props: config.labelProps,\n            valueController: bc,\n        });\n        super({\n            blade: config.blade,\n            view: lc.view,\n            viewProps: config.viewProps,\n        });\n        this.buttonController = bc;\n        this.labelController = lc;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s) &&\n            this.buttonController.importProps(s) &&\n            this.labelController.importProps(s), () => ({}), () => true);\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), Object.assign(Object.assign({}, this.buttonController.exportProps()), this.labelController.exportProps()));\n    }\n}\n\nclass Semver {\n    constructor(text) {\n        const [core, prerelease] = text.split('-');\n        const coreComps = core.split('.');\n        this.major = parseInt(coreComps[0], 10);\n        this.minor = parseInt(coreComps[1], 10);\n        this.patch = parseInt(coreComps[2], 10);\n        this.prerelease = prerelease !== null && prerelease !== void 0 ? prerelease : null;\n    }\n    toString() {\n        const core = [this.major, this.minor, this.patch].join('.');\n        return this.prerelease !== null ? [core, this.prerelease].join('-') : core;\n    }\n}\n\nconst VERSION$1 = new Semver('2.0.5');\n\nfunction createPlugin(plugin) {\n    return Object.assign({ core: VERSION$1 }, plugin);\n}\n\nconst ButtonBladePlugin = createPlugin({\n    id: 'button',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            title: p.required.string,\n            view: p.required.constant('button'),\n            label: p.optional.string,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        return new ButtonBladeController(args.document, {\n            blade: args.blade,\n            buttonProps: ValueMap.fromObject({\n                title: args.params.title,\n            }),\n            labelProps: ValueMap.fromObject({\n                label: args.params.label,\n            }),\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (args.controller instanceof ButtonBladeController) {\n            return new ButtonApi(args.controller);\n        }\n        return null;\n    },\n});\n\nfunction addButtonAsBlade(api, params) {\n    return api.addBlade(Object.assign(Object.assign({}, params), { view: 'button' }));\n}\nfunction addFolderAsBlade(api, params) {\n    return api.addBlade(Object.assign(Object.assign({}, params), { view: 'folder' }));\n}\nfunction addTabAsBlade(api, params) {\n    return api.addBlade(Object.assign(Object.assign({}, params), { view: 'tab' }));\n}\n\nfunction isRefreshable(value) {\n    if (!isObject$1(value)) {\n        return false;\n    }\n    return 'refresh' in value && typeof value.refresh === 'function';\n}\n\nfunction createBindingTarget(obj, key) {\n    if (!BindingTarget.isBindable(obj)) {\n        throw TpError.notBindable();\n    }\n    return new BindingTarget(obj, key);\n}\nclass RackApi {\n    constructor(controller, pool) {\n        this.onRackValueChange_ = this.onRackValueChange_.bind(this);\n        this.controller_ = controller;\n        this.emitter_ = new Emitter();\n        this.pool_ = pool;\n        const rack = this.controller_.rack;\n        rack.emitter.on('valuechange', this.onRackValueChange_);\n    }\n    get children() {\n        return this.controller_.rack.children.map((bc) => this.pool_.createApi(bc));\n    }\n    addBinding(object, key, opt_params) {\n        const params = opt_params !== null && opt_params !== void 0 ? opt_params : {};\n        const doc = this.controller_.element.ownerDocument;\n        const bc = this.pool_.createBinding(doc, createBindingTarget(object, key), params);\n        const api = this.pool_.createBindingApi(bc);\n        return this.add(api, params.index);\n    }\n    addFolder(params) {\n        return addFolderAsBlade(this, params);\n    }\n    addButton(params) {\n        return addButtonAsBlade(this, params);\n    }\n    addTab(params) {\n        return addTabAsBlade(this, params);\n    }\n    add(api, opt_index) {\n        const bc = api.controller;\n        this.controller_.rack.add(bc, opt_index);\n        return api;\n    }\n    remove(api) {\n        this.controller_.rack.remove(api.controller);\n    }\n    addBlade(params) {\n        const doc = this.controller_.element.ownerDocument;\n        const bc = this.pool_.createBlade(doc, params);\n        const api = this.pool_.createApi(bc);\n        return this.add(api, params.index);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n    refresh() {\n        this.children.forEach((c) => {\n            if (isRefreshable(c)) {\n                c.refresh();\n            }\n        });\n    }\n    onRackValueChange_(ev) {\n        const bc = ev.bladeController;\n        const api = this.pool_.createApi(bc);\n        const binding = isBindingValue(bc.value) ? bc.value.binding : null;\n        this.emitter_.emit('change', new TpChangeEvent(api, binding ? binding.target.read() : bc.value.rawValue, ev.options.last));\n    }\n}\n\nclass ContainerBladeApi extends BladeApi {\n    constructor(controller, pool) {\n        super(controller);\n        this.rackApi_ = new RackApi(controller.rackController, pool);\n    }\n    refresh() {\n        this.rackApi_.refresh();\n    }\n}\n\nclass ContainerBladeController extends BladeController {\n    constructor(config) {\n        super({\n            blade: config.blade,\n            view: config.view,\n            viewProps: config.rackController.viewProps,\n        });\n        this.rackController = config.rackController;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            children: p.required.array(p.required.raw),\n        }), (result) => {\n            return this.rackController.rack.children.every((c, index) => {\n                return c.importState(result.children[index]);\n            });\n        });\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            children: this.rackController.rack.children.map((c) => c.exportState()),\n        });\n    }\n}\nfunction isContainerBladeController(bc) {\n    return 'rackController' in bc;\n}\n\nclass NestedOrderedSet {\n    constructor(extract) {\n        this.emitter = new Emitter();\n        this.items_ = [];\n        this.cache_ = new Set();\n        this.onSubListAdd_ = this.onSubListAdd_.bind(this);\n        this.onSubListRemove_ = this.onSubListRemove_.bind(this);\n        this.extract_ = extract;\n    }\n    get items() {\n        return this.items_;\n    }\n    allItems() {\n        return Array.from(this.cache_);\n    }\n    find(callback) {\n        for (const item of this.allItems()) {\n            if (callback(item)) {\n                return item;\n            }\n        }\n        return null;\n    }\n    includes(item) {\n        return this.cache_.has(item);\n    }\n    add(item, opt_index) {\n        if (this.includes(item)) {\n            throw TpError.shouldNeverHappen();\n        }\n        const index = opt_index !== undefined ? opt_index : this.items_.length;\n        this.items_.splice(index, 0, item);\n        this.cache_.add(item);\n        const subList = this.extract_(item);\n        if (subList) {\n            subList.emitter.on('add', this.onSubListAdd_);\n            subList.emitter.on('remove', this.onSubListRemove_);\n            subList.allItems().forEach((i) => {\n                this.cache_.add(i);\n            });\n        }\n        this.emitter.emit('add', {\n            index: index,\n            item: item,\n            root: this,\n            target: this,\n        });\n    }\n    remove(item) {\n        const index = this.items_.indexOf(item);\n        if (index < 0) {\n            return;\n        }\n        this.items_.splice(index, 1);\n        this.cache_.delete(item);\n        const subList = this.extract_(item);\n        if (subList) {\n            subList.allItems().forEach((i) => {\n                this.cache_.delete(i);\n            });\n            subList.emitter.off('add', this.onSubListAdd_);\n            subList.emitter.off('remove', this.onSubListRemove_);\n        }\n        this.emitter.emit('remove', {\n            index: index,\n            item: item,\n            root: this,\n            target: this,\n        });\n    }\n    onSubListAdd_(ev) {\n        this.cache_.add(ev.item);\n        this.emitter.emit('add', {\n            index: ev.index,\n            item: ev.item,\n            root: this,\n            target: ev.target,\n        });\n    }\n    onSubListRemove_(ev) {\n        this.cache_.delete(ev.item);\n        this.emitter.emit('remove', {\n            index: ev.index,\n            item: ev.item,\n            root: this,\n            target: ev.target,\n        });\n    }\n}\n\nfunction findValueBladeController(bcs, v) {\n    for (let i = 0; i < bcs.length; i++) {\n        const bc = bcs[i];\n        if (isValueBladeController(bc) && bc.value === v) {\n            return bc;\n        }\n    }\n    return null;\n}\nfunction findSubBladeControllerSet(bc) {\n    return isContainerBladeController(bc)\n        ? bc.rackController.rack['bcSet_']\n        : null;\n}\nclass Rack {\n    constructor(config) {\n        var _a, _b;\n        this.emitter = new Emitter();\n        this.onBladePositionsChange_ = this.onBladePositionsChange_.bind(this);\n        this.onSetAdd_ = this.onSetAdd_.bind(this);\n        this.onSetRemove_ = this.onSetRemove_.bind(this);\n        this.onChildDispose_ = this.onChildDispose_.bind(this);\n        this.onChildPositionsChange_ = this.onChildPositionsChange_.bind(this);\n        this.onChildValueChange_ = this.onChildValueChange_.bind(this);\n        this.onChildViewPropsChange_ = this.onChildViewPropsChange_.bind(this);\n        this.onRackLayout_ = this.onRackLayout_.bind(this);\n        this.onRackValueChange_ = this.onRackValueChange_.bind(this);\n        this.blade_ = (_a = config.blade) !== null && _a !== void 0 ? _a : null;\n        (_b = this.blade_) === null || _b === void 0 ? void 0 : _b.value('positions').emitter.on('change', this.onBladePositionsChange_);\n        this.viewProps = config.viewProps;\n        this.bcSet_ = new NestedOrderedSet(findSubBladeControllerSet);\n        this.bcSet_.emitter.on('add', this.onSetAdd_);\n        this.bcSet_.emitter.on('remove', this.onSetRemove_);\n    }\n    get children() {\n        return this.bcSet_.items;\n    }\n    add(bc, opt_index) {\n        var _a;\n        (_a = bc.parent) === null || _a === void 0 ? void 0 : _a.remove(bc);\n        bc.parent = this;\n        this.bcSet_.add(bc, opt_index);\n    }\n    remove(bc) {\n        bc.parent = null;\n        this.bcSet_.remove(bc);\n    }\n    find(finder) {\n        return this.bcSet_.allItems().filter(finder);\n    }\n    onSetAdd_(ev) {\n        this.updatePositions_();\n        const root = ev.target === ev.root;\n        this.emitter.emit('add', {\n            bladeController: ev.item,\n            index: ev.index,\n            root: root,\n            sender: this,\n        });\n        if (!root) {\n            return;\n        }\n        const bc = ev.item;\n        bc.viewProps.emitter.on('change', this.onChildViewPropsChange_);\n        bc.blade\n            .value('positions')\n            .emitter.on('change', this.onChildPositionsChange_);\n        bc.viewProps.handleDispose(this.onChildDispose_);\n        if (isValueBladeController(bc)) {\n            bc.value.emitter.on('change', this.onChildValueChange_);\n        }\n        else if (isContainerBladeController(bc)) {\n            const rack = bc.rackController.rack;\n            if (rack) {\n                const emitter = rack.emitter;\n                emitter.on('layout', this.onRackLayout_);\n                emitter.on('valuechange', this.onRackValueChange_);\n            }\n        }\n    }\n    onSetRemove_(ev) {\n        this.updatePositions_();\n        const root = ev.target === ev.root;\n        this.emitter.emit('remove', {\n            bladeController: ev.item,\n            root: root,\n            sender: this,\n        });\n        if (!root) {\n            return;\n        }\n        const bc = ev.item;\n        if (isValueBladeController(bc)) {\n            bc.value.emitter.off('change', this.onChildValueChange_);\n        }\n        else if (isContainerBladeController(bc)) {\n            const rack = bc.rackController.rack;\n            if (rack) {\n                const emitter = rack.emitter;\n                emitter.off('layout', this.onRackLayout_);\n                emitter.off('valuechange', this.onRackValueChange_);\n            }\n        }\n    }\n    updatePositions_() {\n        const visibleItems = this.bcSet_.items.filter((bc) => !bc.viewProps.get('hidden'));\n        const firstVisibleItem = visibleItems[0];\n        const lastVisibleItem = visibleItems[visibleItems.length - 1];\n        this.bcSet_.items.forEach((bc) => {\n            const ps = [];\n            if (bc === firstVisibleItem) {\n                ps.push('first');\n                if (!this.blade_ ||\n                    this.blade_.get('positions').includes('veryfirst')) {\n                    ps.push('veryfirst');\n                }\n            }\n            if (bc === lastVisibleItem) {\n                ps.push('last');\n                if (!this.blade_ || this.blade_.get('positions').includes('verylast')) {\n                    ps.push('verylast');\n                }\n            }\n            bc.blade.set('positions', ps);\n        });\n    }\n    onChildPositionsChange_() {\n        this.updatePositions_();\n        this.emitter.emit('layout', {\n            sender: this,\n        });\n    }\n    onChildViewPropsChange_(_ev) {\n        this.updatePositions_();\n        this.emitter.emit('layout', {\n            sender: this,\n        });\n    }\n    onChildDispose_() {\n        const disposedUcs = this.bcSet_.items.filter((bc) => {\n            return bc.viewProps.get('disposed');\n        });\n        disposedUcs.forEach((bc) => {\n            this.bcSet_.remove(bc);\n        });\n    }\n    onChildValueChange_(ev) {\n        const bc = findValueBladeController(this.find(isValueBladeController), ev.sender);\n        if (!bc) {\n            throw TpError.alreadyDisposed();\n        }\n        this.emitter.emit('valuechange', {\n            bladeController: bc,\n            options: ev.options,\n            sender: this,\n        });\n    }\n    onRackLayout_(_) {\n        this.updatePositions_();\n        this.emitter.emit('layout', {\n            sender: this,\n        });\n    }\n    onRackValueChange_(ev) {\n        this.emitter.emit('valuechange', {\n            bladeController: ev.bladeController,\n            options: ev.options,\n            sender: this,\n        });\n    }\n    onBladePositionsChange_() {\n        this.updatePositions_();\n    }\n}\n\nclass RackController {\n    constructor(config) {\n        this.onRackAdd_ = this.onRackAdd_.bind(this);\n        this.onRackRemove_ = this.onRackRemove_.bind(this);\n        this.element = config.element;\n        this.viewProps = config.viewProps;\n        const rack = new Rack({\n            blade: config.root ? undefined : config.blade,\n            viewProps: config.viewProps,\n        });\n        rack.emitter.on('add', this.onRackAdd_);\n        rack.emitter.on('remove', this.onRackRemove_);\n        this.rack = rack;\n        this.viewProps.handleDispose(() => {\n            for (let i = this.rack.children.length - 1; i >= 0; i--) {\n                const bc = this.rack.children[i];\n                bc.viewProps.set('disposed', true);\n            }\n        });\n    }\n    onRackAdd_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        insertElementAt(this.element, ev.bladeController.view.element, ev.index);\n    }\n    onRackRemove_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        removeElement(ev.bladeController.view.element);\n    }\n}\n\nfunction createBlade() {\n    return new ValueMap({\n        positions: createValue([], {\n            equals: deepEqualsArray,\n        }),\n    });\n}\n\nclass Foldable extends ValueMap {\n    constructor(valueMap) {\n        super(valueMap);\n    }\n    static create(expanded) {\n        const coreObj = {\n            completed: true,\n            expanded: expanded,\n            expandedHeight: null,\n            shouldFixHeight: false,\n            temporaryExpanded: null,\n        };\n        const core = ValueMap.createCore(coreObj);\n        return new Foldable(core);\n    }\n    get styleExpanded() {\n        var _a;\n        return (_a = this.get('temporaryExpanded')) !== null && _a !== void 0 ? _a : this.get('expanded');\n    }\n    get styleHeight() {\n        if (!this.styleExpanded) {\n            return '0';\n        }\n        const exHeight = this.get('expandedHeight');\n        if (this.get('shouldFixHeight') && !isEmpty(exHeight)) {\n            return `${exHeight}px`;\n        }\n        return 'auto';\n    }\n    bindExpandedClass(elem, expandedClassName) {\n        const onExpand = () => {\n            const expanded = this.styleExpanded;\n            if (expanded) {\n                elem.classList.add(expandedClassName);\n            }\n            else {\n                elem.classList.remove(expandedClassName);\n            }\n        };\n        bindValueMap(this, 'expanded', onExpand);\n        bindValueMap(this, 'temporaryExpanded', onExpand);\n    }\n    cleanUpTransition() {\n        this.set('shouldFixHeight', false);\n        this.set('expandedHeight', null);\n        this.set('completed', true);\n    }\n}\nfunction computeExpandedFolderHeight(folder, containerElement) {\n    let height = 0;\n    disableTransitionTemporarily(containerElement, () => {\n        folder.set('expandedHeight', null);\n        folder.set('temporaryExpanded', true);\n        forceReflow(containerElement);\n        height = containerElement.clientHeight;\n        folder.set('temporaryExpanded', null);\n        forceReflow(containerElement);\n    });\n    return height;\n}\nfunction applyHeight(foldable, elem) {\n    elem.style.height = foldable.styleHeight;\n}\nfunction bindFoldable(foldable, elem) {\n    foldable.value('expanded').emitter.on('beforechange', () => {\n        foldable.set('completed', false);\n        if (isEmpty(foldable.get('expandedHeight'))) {\n            const h = computeExpandedFolderHeight(foldable, elem);\n            if (h > 0) {\n                foldable.set('expandedHeight', h);\n            }\n        }\n        foldable.set('shouldFixHeight', true);\n        forceReflow(elem);\n    });\n    foldable.emitter.on('change', () => {\n        applyHeight(foldable, elem);\n    });\n    applyHeight(foldable, elem);\n    elem.addEventListener('transitionend', (ev) => {\n        if (ev.propertyName !== 'height') {\n            return;\n        }\n        foldable.cleanUpTransition();\n    });\n}\n\nclass FolderApi extends ContainerBladeApi {\n    constructor(controller, pool) {\n        super(controller, pool);\n        this.emitter_ = new Emitter();\n        this.controller.foldable\n            .value('expanded')\n            .emitter.on('change', (ev) => {\n            this.emitter_.emit('fold', new TpFoldEvent(this, ev.sender.rawValue));\n        });\n        this.rackApi_.on('change', (ev) => {\n            this.emitter_.emit('change', ev);\n        });\n    }\n    get expanded() {\n        return this.controller.foldable.get('expanded');\n    }\n    set expanded(expanded) {\n        this.controller.foldable.set('expanded', expanded);\n    }\n    get title() {\n        return this.controller.props.get('title');\n    }\n    set title(title) {\n        this.controller.props.set('title', title);\n    }\n    get children() {\n        return this.rackApi_.children;\n    }\n    addBinding(object, key, opt_params) {\n        return this.rackApi_.addBinding(object, key, opt_params);\n    }\n    addFolder(params) {\n        return this.rackApi_.addFolder(params);\n    }\n    addButton(params) {\n        return this.rackApi_.addButton(params);\n    }\n    addTab(params) {\n        return this.rackApi_.addTab(params);\n    }\n    add(api, opt_index) {\n        return this.rackApi_.add(api, opt_index);\n    }\n    remove(api) {\n        this.rackApi_.remove(api);\n    }\n    addBlade(params) {\n        return this.rackApi_.addBlade(params);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n}\n\nconst bladeContainerClassName = ClassName('cnt');\n\nclass FolderView {\n    constructor(doc, config) {\n        var _a;\n        this.className_ = ClassName((_a = config.viewName) !== null && _a !== void 0 ? _a : 'fld');\n        this.element = doc.createElement('div');\n        this.element.classList.add(this.className_(), bladeContainerClassName());\n        config.viewProps.bindClassModifiers(this.element);\n        this.foldable_ = config.foldable;\n        this.foldable_.bindExpandedClass(this.element, this.className_(undefined, 'expanded'));\n        bindValueMap(this.foldable_, 'completed', valueToClassName(this.element, this.className_(undefined, 'cpl')));\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(this.className_('b'));\n        bindValueMap(config.props, 'title', (title) => {\n            if (isEmpty(title)) {\n                this.element.classList.add(this.className_(undefined, 'not'));\n            }\n            else {\n                this.element.classList.remove(this.className_(undefined, 'not'));\n            }\n        });\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const indentElem = doc.createElement('div');\n        indentElem.classList.add(this.className_('i'));\n        this.element.appendChild(indentElem);\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(this.className_('t'));\n        bindValueToTextContent(config.props.value('title'), titleElem);\n        this.buttonElement.appendChild(titleElem);\n        this.titleElement = titleElem;\n        const markElem = doc.createElement('div');\n        markElem.classList.add(this.className_('m'));\n        this.buttonElement.appendChild(markElem);\n        const containerElem = doc.createElement('div');\n        containerElem.classList.add(this.className_('c'));\n        this.element.appendChild(containerElem);\n        this.containerElement = containerElem;\n    }\n}\n\nclass FolderController extends ContainerBladeController {\n    constructor(doc, config) {\n        var _a;\n        const foldable = Foldable.create((_a = config.expanded) !== null && _a !== void 0 ? _a : true);\n        const view = new FolderView(doc, {\n            foldable: foldable,\n            props: config.props,\n            viewName: config.root ? 'rot' : undefined,\n            viewProps: config.viewProps,\n        });\n        super(Object.assign(Object.assign({}, config), { rackController: new RackController({\n                blade: config.blade,\n                element: view.containerElement,\n                root: config.root,\n                viewProps: config.viewProps,\n            }), view: view }));\n        this.onTitleClick_ = this.onTitleClick_.bind(this);\n        this.props = config.props;\n        this.foldable = foldable;\n        bindFoldable(this.foldable, this.view.containerElement);\n        this.rackController.rack.emitter.on('add', () => {\n            this.foldable.cleanUpTransition();\n        });\n        this.rackController.rack.emitter.on('remove', () => {\n            this.foldable.cleanUpTransition();\n        });\n        this.view.buttonElement.addEventListener('click', this.onTitleClick_);\n    }\n    get document() {\n        return this.view.element.ownerDocument;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            expanded: p.required.boolean,\n            title: p.optional.string,\n        }), (result) => {\n            this.foldable.set('expanded', result.expanded);\n            this.props.set('title', result.title);\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            expanded: this.foldable.get('expanded'),\n            title: this.props.get('title'),\n        });\n    }\n    onTitleClick_() {\n        this.foldable.set('expanded', !this.foldable.get('expanded'));\n    }\n}\n\nconst FolderBladePlugin = createPlugin({\n    id: 'folder',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            title: p.required.string,\n            view: p.required.constant('folder'),\n            expanded: p.optional.boolean,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        return new FolderController(args.document, {\n            blade: args.blade,\n            expanded: args.params.expanded,\n            props: ValueMap.fromObject({\n                title: args.params.title,\n            }),\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (!(args.controller instanceof FolderController)) {\n            return null;\n        }\n        return new FolderApi(args.controller, args.pool);\n    },\n});\n\nconst cn$o = ClassName('');\nfunction valueToModifier(elem, modifier) {\n    return valueToClassName(elem, cn$o(undefined, modifier));\n}\nclass ViewProps extends ValueMap {\n    constructor(valueMap) {\n        var _a;\n        super(valueMap);\n        this.onDisabledChange_ = this.onDisabledChange_.bind(this);\n        this.onParentChange_ = this.onParentChange_.bind(this);\n        this.onParentGlobalDisabledChange_ =\n            this.onParentGlobalDisabledChange_.bind(this);\n        [this.globalDisabled_, this.setGlobalDisabled_] = createReadonlyValue(createValue(this.getGlobalDisabled_()));\n        this.value('disabled').emitter.on('change', this.onDisabledChange_);\n        this.value('parent').emitter.on('change', this.onParentChange_);\n        (_a = this.get('parent')) === null || _a === void 0 ? void 0 : _a.globalDisabled.emitter.on('change', this.onParentGlobalDisabledChange_);\n    }\n    static create(opt_initialValue) {\n        var _a, _b, _c;\n        const initialValue = opt_initialValue !== null && opt_initialValue !== void 0 ? opt_initialValue : {};\n        return new ViewProps(ValueMap.createCore({\n            disabled: (_a = initialValue.disabled) !== null && _a !== void 0 ? _a : false,\n            disposed: false,\n            hidden: (_b = initialValue.hidden) !== null && _b !== void 0 ? _b : false,\n            parent: (_c = initialValue.parent) !== null && _c !== void 0 ? _c : null,\n        }));\n    }\n    get globalDisabled() {\n        return this.globalDisabled_;\n    }\n    bindClassModifiers(elem) {\n        bindValue(this.globalDisabled_, valueToModifier(elem, 'disabled'));\n        bindValueMap(this, 'hidden', valueToModifier(elem, 'hidden'));\n    }\n    bindDisabled(target) {\n        bindValue(this.globalDisabled_, (disabled) => {\n            target.disabled = disabled;\n        });\n    }\n    bindTabIndex(elem) {\n        bindValue(this.globalDisabled_, (disabled) => {\n            elem.tabIndex = disabled ? -1 : 0;\n        });\n    }\n    handleDispose(callback) {\n        this.value('disposed').emitter.on('change', (disposed) => {\n            if (disposed) {\n                callback();\n            }\n        });\n    }\n    importState(state) {\n        this.set('disabled', state.disabled);\n        this.set('hidden', state.hidden);\n    }\n    exportState() {\n        return {\n            disabled: this.get('disabled'),\n            hidden: this.get('hidden'),\n        };\n    }\n    getGlobalDisabled_() {\n        const parent = this.get('parent');\n        const parentDisabled = parent ? parent.globalDisabled.rawValue : false;\n        return parentDisabled || this.get('disabled');\n    }\n    updateGlobalDisabled_() {\n        this.setGlobalDisabled_(this.getGlobalDisabled_());\n    }\n    onDisabledChange_() {\n        this.updateGlobalDisabled_();\n    }\n    onParentGlobalDisabledChange_() {\n        this.updateGlobalDisabled_();\n    }\n    onParentChange_(ev) {\n        var _a;\n        const prevParent = ev.previousRawValue;\n        prevParent === null || prevParent === void 0 ? void 0 : prevParent.globalDisabled.emitter.off('change', this.onParentGlobalDisabledChange_);\n        (_a = this.get('parent')) === null || _a === void 0 ? void 0 : _a.globalDisabled.emitter.on('change', this.onParentGlobalDisabledChange_);\n        this.updateGlobalDisabled_();\n    }\n}\n\nconst cn$n = ClassName('tbp');\nclass TabPageView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$n());\n        config.viewProps.bindClassModifiers(this.element);\n        const containerElem = doc.createElement('div');\n        containerElem.classList.add(cn$n('c'));\n        this.element.appendChild(containerElem);\n        this.containerElement = containerElem;\n    }\n}\n\nconst cn$m = ClassName('tbi');\nclass TabItemView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$m());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValueMap(config.props, 'selected', (selected) => {\n            if (selected) {\n                this.element.classList.add(cn$m(undefined, 'sel'));\n            }\n            else {\n                this.element.classList.remove(cn$m(undefined, 'sel'));\n            }\n        });\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$m('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(cn$m('t'));\n        bindValueToTextContent(config.props.value('title'), titleElem);\n        this.buttonElement.appendChild(titleElem);\n        this.titleElement = titleElem;\n    }\n}\n\nclass TabItemController {\n    constructor(doc, config) {\n        this.emitter = new Emitter();\n        this.onClick_ = this.onClick_.bind(this);\n        this.props = config.props;\n        this.viewProps = config.viewProps;\n        this.view = new TabItemView(doc, {\n            props: config.props,\n            viewProps: config.viewProps,\n        });\n        this.view.buttonElement.addEventListener('click', this.onClick_);\n    }\n    onClick_() {\n        this.emitter.emit('click', {\n            sender: this,\n        });\n    }\n}\n\nclass TabPageController extends ContainerBladeController {\n    constructor(doc, config) {\n        const view = new TabPageView(doc, {\n            viewProps: config.viewProps,\n        });\n        super(Object.assign(Object.assign({}, config), { rackController: new RackController({\n                blade: config.blade,\n                element: view.containerElement,\n                viewProps: config.viewProps,\n            }), view: view }));\n        this.onItemClick_ = this.onItemClick_.bind(this);\n        this.ic_ = new TabItemController(doc, {\n            props: config.itemProps,\n            viewProps: ViewProps.create(),\n        });\n        this.ic_.emitter.on('click', this.onItemClick_);\n        this.props = config.props;\n        bindValueMap(this.props, 'selected', (selected) => {\n            this.itemController.props.set('selected', selected);\n            this.viewProps.set('hidden', !selected);\n        });\n    }\n    get itemController() {\n        return this.ic_;\n    }\n    importState(state) {\n        return importBladeState(state, (s) => super.importState(s), (p) => ({\n            selected: p.required.boolean,\n            title: p.required.string,\n        }), (result) => {\n            this.ic_.props.set('selected', result.selected);\n            this.ic_.props.set('title', result.title);\n            return true;\n        });\n    }\n    exportState() {\n        return exportBladeState(() => super.exportState(), {\n            selected: this.ic_.props.get('selected'),\n            title: this.ic_.props.get('title'),\n        });\n    }\n    onItemClick_() {\n        this.props.set('selected', true);\n    }\n}\n\nclass TabApi extends ContainerBladeApi {\n    constructor(controller, pool) {\n        super(controller, pool);\n        this.emitter_ = new Emitter();\n        this.onSelect_ = this.onSelect_.bind(this);\n        this.pool_ = pool;\n        this.rackApi_.on('change', (ev) => {\n            this.emitter_.emit('change', ev);\n        });\n        this.controller.tab.selectedIndex.emitter.on('change', this.onSelect_);\n    }\n    get pages() {\n        return this.rackApi_.children;\n    }\n    addPage(params) {\n        const doc = this.controller.view.element.ownerDocument;\n        const pc = new TabPageController(doc, {\n            blade: createBlade(),\n            itemProps: ValueMap.fromObject({\n                selected: false,\n                title: params.title,\n            }),\n            props: ValueMap.fromObject({\n                selected: false,\n            }),\n            viewProps: ViewProps.create(),\n        });\n        const papi = this.pool_.createApi(pc);\n        return this.rackApi_.add(papi, params.index);\n    }\n    removePage(index) {\n        this.rackApi_.remove(this.rackApi_.children[index]);\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n    onSelect_(ev) {\n        this.emitter_.emit('select', new TpTabSelectEvent(this, ev.rawValue));\n    }\n}\n\nclass TabPageApi extends ContainerBladeApi {\n    get title() {\n        var _a;\n        return (_a = this.controller.itemController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n    }\n    set title(title) {\n        this.controller.itemController.props.set('title', title);\n    }\n    get selected() {\n        return this.controller.props.get('selected');\n    }\n    set selected(selected) {\n        this.controller.props.set('selected', selected);\n    }\n    get children() {\n        return this.rackApi_.children;\n    }\n    addButton(params) {\n        return this.rackApi_.addButton(params);\n    }\n    addFolder(params) {\n        return this.rackApi_.addFolder(params);\n    }\n    addTab(params) {\n        return this.rackApi_.addTab(params);\n    }\n    add(api, opt_index) {\n        this.rackApi_.add(api, opt_index);\n    }\n    remove(api) {\n        this.rackApi_.remove(api);\n    }\n    addBinding(object, key, opt_params) {\n        return this.rackApi_.addBinding(object, key, opt_params);\n    }\n    addBlade(params) {\n        return this.rackApi_.addBlade(params);\n    }\n}\n\nconst INDEX_NOT_SELECTED = -1;\nclass Tab {\n    constructor() {\n        this.onItemSelectedChange_ = this.onItemSelectedChange_.bind(this);\n        this.empty = createValue(true);\n        this.selectedIndex = createValue(INDEX_NOT_SELECTED);\n        this.items_ = [];\n    }\n    add(item, opt_index) {\n        const index = opt_index !== null && opt_index !== void 0 ? opt_index : this.items_.length;\n        this.items_.splice(index, 0, item);\n        item.emitter.on('change', this.onItemSelectedChange_);\n        this.keepSelection_();\n    }\n    remove(item) {\n        const index = this.items_.indexOf(item);\n        if (index < 0) {\n            return;\n        }\n        this.items_.splice(index, 1);\n        item.emitter.off('change', this.onItemSelectedChange_);\n        this.keepSelection_();\n    }\n    keepSelection_() {\n        if (this.items_.length === 0) {\n            this.selectedIndex.rawValue = INDEX_NOT_SELECTED;\n            this.empty.rawValue = true;\n            return;\n        }\n        const firstSelIndex = this.items_.findIndex((s) => s.rawValue);\n        if (firstSelIndex < 0) {\n            this.items_.forEach((s, i) => {\n                s.rawValue = i === 0;\n            });\n            this.selectedIndex.rawValue = 0;\n        }\n        else {\n            this.items_.forEach((s, i) => {\n                s.rawValue = i === firstSelIndex;\n            });\n            this.selectedIndex.rawValue = firstSelIndex;\n        }\n        this.empty.rawValue = false;\n    }\n    onItemSelectedChange_(ev) {\n        if (ev.rawValue) {\n            const index = this.items_.findIndex((s) => s === ev.sender);\n            this.items_.forEach((s, i) => {\n                s.rawValue = i === index;\n            });\n            this.selectedIndex.rawValue = index;\n        }\n        else {\n            this.keepSelection_();\n        }\n    }\n}\n\nconst cn$l = ClassName('tab');\nclass TabView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$l(), bladeContainerClassName());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValue(config.empty, valueToClassName(this.element, cn$l(undefined, 'nop')));\n        const titleElem = doc.createElement('div');\n        titleElem.classList.add(cn$l('t'));\n        this.element.appendChild(titleElem);\n        this.itemsElement = titleElem;\n        const indentElem = doc.createElement('div');\n        indentElem.classList.add(cn$l('i'));\n        this.element.appendChild(indentElem);\n        const contentsElem = doc.createElement('div');\n        contentsElem.classList.add(cn$l('c'));\n        this.element.appendChild(contentsElem);\n        this.contentsElement = contentsElem;\n    }\n}\n\nclass TabController extends ContainerBladeController {\n    constructor(doc, config) {\n        const tab = new Tab();\n        const view = new TabView(doc, {\n            empty: tab.empty,\n            viewProps: config.viewProps,\n        });\n        super({\n            blade: config.blade,\n            rackController: new RackController({\n                blade: config.blade,\n                element: view.contentsElement,\n                viewProps: config.viewProps,\n            }),\n            view: view,\n        });\n        this.onRackAdd_ = this.onRackAdd_.bind(this);\n        this.onRackRemove_ = this.onRackRemove_.bind(this);\n        const rack = this.rackController.rack;\n        rack.emitter.on('add', this.onRackAdd_);\n        rack.emitter.on('remove', this.onRackRemove_);\n        this.tab = tab;\n    }\n    add(pc, opt_index) {\n        this.rackController.rack.add(pc, opt_index);\n    }\n    remove(index) {\n        this.rackController.rack.remove(this.rackController.rack.children[index]);\n    }\n    onRackAdd_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        const pc = ev.bladeController;\n        insertElementAt(this.view.itemsElement, pc.itemController.view.element, ev.index);\n        pc.itemController.viewProps.set('parent', this.viewProps);\n        this.tab.add(pc.props.value('selected'));\n    }\n    onRackRemove_(ev) {\n        if (!ev.root) {\n            return;\n        }\n        const pc = ev.bladeController;\n        removeElement(pc.itemController.view.element);\n        pc.itemController.viewProps.set('parent', null);\n        this.tab.remove(pc.props.value('selected'));\n    }\n}\n\nconst TabBladePlugin = createPlugin({\n    id: 'tab',\n    type: 'blade',\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            pages: p.required.array(p.required.object({ title: p.required.string })),\n            view: p.required.constant('tab'),\n        }));\n        if (!result || result.pages.length === 0) {\n            return null;\n        }\n        return { params: result };\n    },\n    controller(args) {\n        const c = new TabController(args.document, {\n            blade: args.blade,\n            viewProps: args.viewProps,\n        });\n        args.params.pages.forEach((p) => {\n            const pc = new TabPageController(args.document, {\n                blade: createBlade(),\n                itemProps: ValueMap.fromObject({\n                    selected: false,\n                    title: p.title,\n                }),\n                props: ValueMap.fromObject({\n                    selected: false,\n                }),\n                viewProps: ViewProps.create(),\n            });\n            c.add(pc);\n        });\n        return c;\n    },\n    api(args) {\n        if (args.controller instanceof TabController) {\n            return new TabApi(args.controller, args.pool);\n        }\n        if (args.controller instanceof TabPageController) {\n            return new TabPageApi(args.controller, args.pool);\n        }\n        return null;\n    },\n});\n\nfunction createBladeController(plugin, args) {\n    const ac = plugin.accept(args.params);\n    if (!ac) {\n        return null;\n    }\n    const params = parseRecord(args.params, (p) => ({\n        disabled: p.optional.boolean,\n        hidden: p.optional.boolean,\n    }));\n    return plugin.controller({\n        blade: createBlade(),\n        document: args.document,\n        params: forceCast(Object.assign(Object.assign({}, ac.params), { disabled: params === null || params === void 0 ? void 0 : params.disabled, hidden: params === null || params === void 0 ? void 0 : params.hidden })),\n        viewProps: ViewProps.create({\n            disabled: params === null || params === void 0 ? void 0 : params.disabled,\n            hidden: params === null || params === void 0 ? void 0 : params.hidden,\n        }),\n    });\n}\n\nclass ListInputBindingApi extends BindingApi {\n    get options() {\n        return this.controller.valueController.props.get('options');\n    }\n    set options(options) {\n        this.controller.valueController.props.set('options', options);\n    }\n}\n\nclass ManualTicker {\n    constructor() {\n        this.disabled = false;\n        this.emitter = new Emitter();\n    }\n    dispose() { }\n    tick() {\n        if (this.disabled) {\n            return;\n        }\n        this.emitter.emit('tick', {\n            sender: this,\n        });\n    }\n}\n\nclass IntervalTicker {\n    constructor(doc, interval) {\n        this.disabled_ = false;\n        this.timerId_ = null;\n        this.onTick_ = this.onTick_.bind(this);\n        this.doc_ = doc;\n        this.emitter = new Emitter();\n        this.interval_ = interval;\n        this.setTimer_();\n    }\n    get disabled() {\n        return this.disabled_;\n    }\n    set disabled(inactive) {\n        this.disabled_ = inactive;\n        if (this.disabled_) {\n            this.clearTimer_();\n        }\n        else {\n            this.setTimer_();\n        }\n    }\n    dispose() {\n        this.clearTimer_();\n    }\n    clearTimer_() {\n        if (this.timerId_ === null) {\n            return;\n        }\n        const win = this.doc_.defaultView;\n        if (win) {\n            win.clearInterval(this.timerId_);\n        }\n        this.timerId_ = null;\n    }\n    setTimer_() {\n        this.clearTimer_();\n        if (this.interval_ <= 0) {\n            return;\n        }\n        const win = this.doc_.defaultView;\n        if (win) {\n            this.timerId_ = win.setInterval(this.onTick_, this.interval_);\n        }\n    }\n    onTick_() {\n        if (this.disabled_) {\n            return;\n        }\n        this.emitter.emit('tick', {\n            sender: this,\n        });\n    }\n}\n\nclass CompositeConstraint {\n    constructor(constraints) {\n        this.constraints = constraints;\n    }\n    constrain(value) {\n        return this.constraints.reduce((result, c) => {\n            return c.constrain(result);\n        }, value);\n    }\n}\nfunction findConstraint(c, constraintClass) {\n    if (c instanceof constraintClass) {\n        return c;\n    }\n    if (c instanceof CompositeConstraint) {\n        const result = c.constraints.reduce((tmpResult, sc) => {\n            if (tmpResult) {\n                return tmpResult;\n            }\n            return sc instanceof constraintClass ? sc : null;\n        }, null);\n        if (result) {\n            return result;\n        }\n    }\n    return null;\n}\n\nclass ListConstraint {\n    constructor(options) {\n        this.values = ValueMap.fromObject({\n            options: options,\n        });\n    }\n    constrain(value) {\n        const opts = this.values.get('options');\n        if (opts.length === 0) {\n            return value;\n        }\n        const matched = opts.filter((item) => {\n            return item.value === value;\n        }).length > 0;\n        return matched ? value : opts[0].value;\n    }\n}\n\nfunction parseListOptions(value) {\n    var _a;\n    const p = MicroParsers;\n    if (Array.isArray(value)) {\n        return (_a = parseRecord({ items: value }, (p) => ({\n            items: p.required.array(p.required.object({\n                text: p.required.string,\n                value: p.required.raw,\n            })),\n        }))) === null || _a === void 0 ? void 0 : _a.items;\n    }\n    if (typeof value === 'object') {\n        return p.required.raw(value)\n            .value;\n    }\n    return undefined;\n}\nfunction normalizeListOptions(options) {\n    if (Array.isArray(options)) {\n        return options;\n    }\n    const items = [];\n    Object.keys(options).forEach((text) => {\n        items.push({ text: text, value: options[text] });\n    });\n    return items;\n}\nfunction createListConstraint(options) {\n    return !isEmpty(options)\n        ? new ListConstraint(normalizeListOptions(forceCast(options)))\n        : null;\n}\n\nconst cn$k = ClassName('lst');\nclass ListView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.props_ = config.props;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$k());\n        config.viewProps.bindClassModifiers(this.element);\n        const selectElem = doc.createElement('select');\n        selectElem.classList.add(cn$k('s'));\n        config.viewProps.bindDisabled(selectElem);\n        this.element.appendChild(selectElem);\n        this.selectElement = selectElem;\n        const markElem = doc.createElement('div');\n        markElem.classList.add(cn$k('m'));\n        markElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n        this.element.appendChild(markElem);\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value_ = config.value;\n        bindValueMap(this.props_, 'options', (opts) => {\n            removeChildElements(this.selectElement);\n            opts.forEach((item) => {\n                const optionElem = doc.createElement('option');\n                optionElem.textContent = item.text;\n                this.selectElement.appendChild(optionElem);\n            });\n            this.update_();\n        });\n    }\n    update_() {\n        const values = this.props_.get('options').map((o) => o.value);\n        this.selectElement.selectedIndex = values.indexOf(this.value_.rawValue);\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass ListController {\n    constructor(doc, config) {\n        this.onSelectChange_ = this.onSelectChange_.bind(this);\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new ListView(doc, {\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.selectElement.addEventListener('change', this.onSelectChange_);\n    }\n    onSelectChange_(e) {\n        const selectElem = forceCast(e.currentTarget);\n        this.value.rawValue =\n            this.props.get('options')[selectElem.selectedIndex].value;\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            options: p.required.custom(parseListOptions),\n        }), (result) => {\n            this.props.set('options', normalizeListOptions(result.options));\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            options: this.props.get('options'),\n        });\n    }\n}\n\nconst cn$j = ClassName('pop');\nclass PopupView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$j());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValue(config.shows, valueToClassName(this.element, cn$j(undefined, 'v')));\n    }\n}\n\nclass PopupController {\n    constructor(doc, config) {\n        this.shows = createValue(false);\n        this.viewProps = config.viewProps;\n        this.view = new PopupView(doc, {\n            shows: this.shows,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nconst cn$i = ClassName('txt');\nclass TextView {\n    constructor(doc, config) {\n        this.onChange_ = this.onChange_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$i());\n        config.viewProps.bindClassModifiers(this.element);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onChange_);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$i('i'));\n        inputElem.type = 'text';\n        config.viewProps.bindDisabled(inputElem);\n        this.element.appendChild(inputElem);\n        this.inputElement = inputElem;\n        config.value.emitter.on('change', this.onChange_);\n        this.value_ = config.value;\n        this.refresh();\n    }\n    refresh() {\n        const formatter = this.props_.get('formatter');\n        this.inputElement.value = formatter(this.value_.rawValue);\n    }\n    onChange_() {\n        this.refresh();\n    }\n}\n\nclass TextController {\n    constructor(doc, config) {\n        this.onInputChange_ = this.onInputChange_.bind(this);\n        this.parser_ = config.parser;\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new TextView(doc, {\n            props: config.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.inputElement.addEventListener('change', this.onInputChange_);\n    }\n    onInputChange_(e) {\n        const inputElem = forceCast(e.currentTarget);\n        const value = inputElem.value;\n        const parsedValue = this.parser_(value);\n        if (!isEmpty(parsedValue)) {\n            this.value.rawValue = parsedValue;\n        }\n        this.view.refresh();\n    }\n}\n\nfunction boolToString(value) {\n    return String(value);\n}\nfunction boolFromUnknown(value) {\n    if (value === 'false') {\n        return false;\n    }\n    return !!value;\n}\nfunction BooleanFormatter(value) {\n    return boolToString(value);\n}\n\nfunction composeParsers(parsers) {\n    return (text) => {\n        return parsers.reduce((result, parser) => {\n            if (result !== null) {\n                return result;\n            }\n            return parser(text);\n        }, null);\n    };\n}\n\nconst innerFormatter = createNumberFormatter(0);\nfunction formatPercentage(value) {\n    return innerFormatter(value) + '%';\n}\n\nfunction stringFromUnknown(value) {\n    return String(value);\n}\nfunction formatString(value) {\n    return value;\n}\n\nfunction connectValues({ primary, secondary, forward, backward, }) {\n    let changing = false;\n    function preventFeedback(callback) {\n        if (changing) {\n            return;\n        }\n        changing = true;\n        callback();\n        changing = false;\n    }\n    primary.emitter.on('change', (ev) => {\n        preventFeedback(() => {\n            secondary.setRawValue(forward(primary.rawValue, secondary.rawValue), ev.options);\n        });\n    });\n    secondary.emitter.on('change', (ev) => {\n        preventFeedback(() => {\n            primary.setRawValue(backward(primary.rawValue, secondary.rawValue), ev.options);\n        });\n        preventFeedback(() => {\n            secondary.setRawValue(forward(primary.rawValue, secondary.rawValue), ev.options);\n        });\n    });\n    preventFeedback(() => {\n        secondary.setRawValue(forward(primary.rawValue, secondary.rawValue), {\n            forceEmit: false,\n            last: true,\n        });\n    });\n}\n\nfunction getStepForKey(keyScale, keys) {\n    const step = keyScale * (keys.altKey ? 0.1 : 1) * (keys.shiftKey ? 10 : 1);\n    if (keys.upKey) {\n        return +step;\n    }\n    else if (keys.downKey) {\n        return -step;\n    }\n    return 0;\n}\nfunction getVerticalStepKeys(ev) {\n    return {\n        altKey: ev.altKey,\n        downKey: ev.key === 'ArrowDown',\n        shiftKey: ev.shiftKey,\n        upKey: ev.key === 'ArrowUp',\n    };\n}\nfunction getHorizontalStepKeys(ev) {\n    return {\n        altKey: ev.altKey,\n        downKey: ev.key === 'ArrowLeft',\n        shiftKey: ev.shiftKey,\n        upKey: ev.key === 'ArrowRight',\n    };\n}\nfunction isVerticalArrowKey(key) {\n    return key === 'ArrowUp' || key === 'ArrowDown';\n}\nfunction isArrowKey(key) {\n    return isVerticalArrowKey(key) || key === 'ArrowLeft' || key === 'ArrowRight';\n}\n\nfunction computeOffset$1(ev, elem) {\n    var _a, _b;\n    const win = elem.ownerDocument.defaultView;\n    const rect = elem.getBoundingClientRect();\n    return {\n        x: ev.pageX - (((_a = (win && win.scrollX)) !== null && _a !== void 0 ? _a : 0) + rect.left),\n        y: ev.pageY - (((_b = (win && win.scrollY)) !== null && _b !== void 0 ? _b : 0) + rect.top),\n    };\n}\nclass PointerHandler {\n    constructor(element) {\n        this.lastTouch_ = null;\n        this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this);\n        this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this);\n        this.onMouseDown_ = this.onMouseDown_.bind(this);\n        this.onTouchEnd_ = this.onTouchEnd_.bind(this);\n        this.onTouchMove_ = this.onTouchMove_.bind(this);\n        this.onTouchStart_ = this.onTouchStart_.bind(this);\n        this.elem_ = element;\n        this.emitter = new Emitter();\n        element.addEventListener('touchstart', this.onTouchStart_, {\n            passive: false,\n        });\n        element.addEventListener('touchmove', this.onTouchMove_, {\n            passive: true,\n        });\n        element.addEventListener('touchend', this.onTouchEnd_);\n        element.addEventListener('mousedown', this.onMouseDown_);\n    }\n    computePosition_(offset) {\n        const rect = this.elem_.getBoundingClientRect();\n        return {\n            bounds: {\n                width: rect.width,\n                height: rect.height,\n            },\n            point: offset\n                ? {\n                    x: offset.x,\n                    y: offset.y,\n                }\n                : null,\n        };\n    }\n    onMouseDown_(ev) {\n        var _a;\n        ev.preventDefault();\n        (_a = ev.currentTarget) === null || _a === void 0 ? void 0 : _a.focus();\n        const doc = this.elem_.ownerDocument;\n        doc.addEventListener('mousemove', this.onDocumentMouseMove_);\n        doc.addEventListener('mouseup', this.onDocumentMouseUp_);\n        this.emitter.emit('down', {\n            altKey: ev.altKey,\n            data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n    onDocumentMouseMove_(ev) {\n        this.emitter.emit('move', {\n            altKey: ev.altKey,\n            data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n    onDocumentMouseUp_(ev) {\n        const doc = this.elem_.ownerDocument;\n        doc.removeEventListener('mousemove', this.onDocumentMouseMove_);\n        doc.removeEventListener('mouseup', this.onDocumentMouseUp_);\n        this.emitter.emit('up', {\n            altKey: ev.altKey,\n            data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n    onTouchStart_(ev) {\n        ev.preventDefault();\n        const touch = ev.targetTouches.item(0);\n        const rect = this.elem_.getBoundingClientRect();\n        this.emitter.emit('down', {\n            altKey: ev.altKey,\n            data: this.computePosition_(touch\n                ? {\n                    x: touch.clientX - rect.left,\n                    y: touch.clientY - rect.top,\n                }\n                : undefined),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n        this.lastTouch_ = touch;\n    }\n    onTouchMove_(ev) {\n        const touch = ev.targetTouches.item(0);\n        const rect = this.elem_.getBoundingClientRect();\n        this.emitter.emit('move', {\n            altKey: ev.altKey,\n            data: this.computePosition_(touch\n                ? {\n                    x: touch.clientX - rect.left,\n                    y: touch.clientY - rect.top,\n                }\n                : undefined),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n        this.lastTouch_ = touch;\n    }\n    onTouchEnd_(ev) {\n        var _a;\n        const touch = (_a = ev.targetTouches.item(0)) !== null && _a !== void 0 ? _a : this.lastTouch_;\n        const rect = this.elem_.getBoundingClientRect();\n        this.emitter.emit('up', {\n            altKey: ev.altKey,\n            data: this.computePosition_(touch\n                ? {\n                    x: touch.clientX - rect.left,\n                    y: touch.clientY - rect.top,\n                }\n                : undefined),\n            sender: this,\n            shiftKey: ev.shiftKey,\n        });\n    }\n}\n\nconst cn$h = ClassName('txt');\nclass NumberTextView {\n    constructor(doc, config) {\n        this.onChange_ = this.onChange_.bind(this);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$h(), cn$h(undefined, 'num'));\n        if (config.arrayPosition) {\n            this.element.classList.add(cn$h(undefined, config.arrayPosition));\n        }\n        config.viewProps.bindClassModifiers(this.element);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$h('i'));\n        inputElem.type = 'text';\n        config.viewProps.bindDisabled(inputElem);\n        this.element.appendChild(inputElem);\n        this.inputElement = inputElem;\n        this.onDraggingChange_ = this.onDraggingChange_.bind(this);\n        this.dragging_ = config.dragging;\n        this.dragging_.emitter.on('change', this.onDraggingChange_);\n        this.element.classList.add(cn$h());\n        this.inputElement.classList.add(cn$h('i'));\n        const knobElem = doc.createElement('div');\n        knobElem.classList.add(cn$h('k'));\n        this.element.appendChild(knobElem);\n        this.knobElement = knobElem;\n        const guideElem = doc.createElementNS(SVG_NS, 'svg');\n        guideElem.classList.add(cn$h('g'));\n        this.knobElement.appendChild(guideElem);\n        const bodyElem = doc.createElementNS(SVG_NS, 'path');\n        bodyElem.classList.add(cn$h('gb'));\n        guideElem.appendChild(bodyElem);\n        this.guideBodyElem_ = bodyElem;\n        const headElem = doc.createElementNS(SVG_NS, 'path');\n        headElem.classList.add(cn$h('gh'));\n        guideElem.appendChild(headElem);\n        this.guideHeadElem_ = headElem;\n        const tooltipElem = doc.createElement('div');\n        tooltipElem.classList.add(ClassName('tt')());\n        this.knobElement.appendChild(tooltipElem);\n        this.tooltipElem_ = tooltipElem;\n        config.value.emitter.on('change', this.onChange_);\n        this.value = config.value;\n        this.refresh();\n    }\n    onDraggingChange_(ev) {\n        if (ev.rawValue === null) {\n            this.element.classList.remove(cn$h(undefined, 'drg'));\n            return;\n        }\n        this.element.classList.add(cn$h(undefined, 'drg'));\n        const x = ev.rawValue / this.props_.get('pointerScale');\n        const aox = x + (x > 0 ? -1 : x < 0 ? +1 : 0);\n        const adx = constrainRange(-aox, -4, +4);\n        this.guideHeadElem_.setAttributeNS(null, 'd', [`M ${aox + adx},0 L${aox},4 L${aox + adx},8`, `M ${x},-1 L${x},9`].join(' '));\n        this.guideBodyElem_.setAttributeNS(null, 'd', `M 0,4 L${x},4`);\n        const formatter = this.props_.get('formatter');\n        this.tooltipElem_.textContent = formatter(this.value.rawValue);\n        this.tooltipElem_.style.left = `${x}px`;\n    }\n    refresh() {\n        const formatter = this.props_.get('formatter');\n        this.inputElement.value = formatter(this.value.rawValue);\n    }\n    onChange_() {\n        this.refresh();\n    }\n}\n\nclass NumberTextController {\n    constructor(doc, config) {\n        var _a;\n        this.originRawValue_ = 0;\n        this.onInputChange_ = this.onInputChange_.bind(this);\n        this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n        this.onInputKeyUp_ = this.onInputKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.parser_ = config.parser;\n        this.props = config.props;\n        this.sliderProps_ = (_a = config.sliderProps) !== null && _a !== void 0 ? _a : null;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.dragging_ = createValue(null);\n        this.view = new NumberTextView(doc, {\n            arrayPosition: config.arrayPosition,\n            dragging: this.dragging_,\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.inputElement.addEventListener('change', this.onInputChange_);\n        this.view.inputElement.addEventListener('keydown', this.onInputKeyDown_);\n        this.view.inputElement.addEventListener('keyup', this.onInputKeyUp_);\n        const ph = new PointerHandler(this.view.knobElement);\n        ph.emitter.on('down', this.onPointerDown_);\n        ph.emitter.on('move', this.onPointerMove_);\n        ph.emitter.on('up', this.onPointerUp_);\n    }\n    constrainValue_(value) {\n        var _a, _b;\n        const min = (_a = this.sliderProps_) === null || _a === void 0 ? void 0 : _a.get('min');\n        const max = (_b = this.sliderProps_) === null || _b === void 0 ? void 0 : _b.get('max');\n        let v = value;\n        if (min !== undefined) {\n            v = Math.max(v, min);\n        }\n        if (max !== undefined) {\n            v = Math.min(v, max);\n        }\n        return v;\n    }\n    onInputChange_(e) {\n        const inputElem = forceCast(e.currentTarget);\n        const value = inputElem.value;\n        const parsedValue = this.parser_(value);\n        if (!isEmpty(parsedValue)) {\n            this.value.rawValue = this.constrainValue_(parsedValue);\n        }\n        this.view.refresh();\n    }\n    onInputKeyDown_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getVerticalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.constrainValue_(this.value.rawValue + step), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onInputKeyUp_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getVerticalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onPointerDown_() {\n        this.originRawValue_ = this.value.rawValue;\n        this.dragging_.rawValue = 0;\n    }\n    computeDraggingValue_(data) {\n        if (!data.point) {\n            return null;\n        }\n        const dx = data.point.x - data.bounds.width / 2;\n        return this.constrainValue_(this.originRawValue_ + dx * this.props.get('pointerScale'));\n    }\n    onPointerMove_(ev) {\n        const v = this.computeDraggingValue_(ev.data);\n        if (v === null) {\n            return;\n        }\n        this.value.setRawValue(v, {\n            forceEmit: false,\n            last: false,\n        });\n        this.dragging_.rawValue = this.value.rawValue - this.originRawValue_;\n    }\n    onPointerUp_(ev) {\n        const v = this.computeDraggingValue_(ev.data);\n        if (v === null) {\n            return;\n        }\n        this.value.setRawValue(v, {\n            forceEmit: true,\n            last: true,\n        });\n        this.dragging_.rawValue = null;\n    }\n}\n\nconst cn$g = ClassName('sld');\nclass SliderView {\n    constructor(doc, config) {\n        this.onChange_ = this.onChange_.bind(this);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$g());\n        config.viewProps.bindClassModifiers(this.element);\n        const trackElem = doc.createElement('div');\n        trackElem.classList.add(cn$g('t'));\n        config.viewProps.bindTabIndex(trackElem);\n        this.element.appendChild(trackElem);\n        this.trackElement = trackElem;\n        const knobElem = doc.createElement('div');\n        knobElem.classList.add(cn$g('k'));\n        this.trackElement.appendChild(knobElem);\n        this.knobElement = knobElem;\n        config.value.emitter.on('change', this.onChange_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        const p = constrainRange(mapRange(this.value.rawValue, this.props_.get('min'), this.props_.get('max'), 0, 100), 0, 100);\n        this.knobElement.style.width = `${p}%`;\n    }\n    onChange_() {\n        this.update_();\n    }\n}\n\nclass SliderController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDownOrMove_ = this.onPointerDownOrMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.props = config.props;\n        this.view = new SliderView(doc, {\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.trackElement);\n        this.ptHandler_.emitter.on('down', this.onPointerDownOrMove_);\n        this.ptHandler_.emitter.on('move', this.onPointerDownOrMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.trackElement.addEventListener('keydown', this.onKeyDown_);\n        this.view.trackElement.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        this.value.setRawValue(mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, this.props.get('min'), this.props.get('max')), opts);\n    }\n    onPointerDownOrMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue + step, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const step = getStepForKey(this.props.get('keyScale'), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nconst cn$f = ClassName('sldtxt');\nclass SliderTextView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$f());\n        const sliderElem = doc.createElement('div');\n        sliderElem.classList.add(cn$f('s'));\n        this.sliderView_ = config.sliderView;\n        sliderElem.appendChild(this.sliderView_.element);\n        this.element.appendChild(sliderElem);\n        const textElem = doc.createElement('div');\n        textElem.classList.add(cn$f('t'));\n        this.textView_ = config.textView;\n        textElem.appendChild(this.textView_.element);\n        this.element.appendChild(textElem);\n    }\n}\n\nclass SliderTextController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.sliderC_ = new SliderController(doc, {\n            props: config.sliderProps,\n            value: config.value,\n            viewProps: this.viewProps,\n        });\n        this.textC_ = new NumberTextController(doc, {\n            parser: config.parser,\n            props: config.textProps,\n            sliderProps: config.sliderProps,\n            value: config.value,\n            viewProps: config.viewProps,\n        });\n        this.view = new SliderTextView(doc, {\n            sliderView: this.sliderC_.view,\n            textView: this.textC_.view,\n        });\n    }\n    get sliderController() {\n        return this.sliderC_;\n    }\n    get textController() {\n        return this.textC_;\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            max: p.required.number,\n            min: p.required.number,\n        }), (result) => {\n            const sliderProps = this.sliderC_.props;\n            sliderProps.set('max', result.max);\n            sliderProps.set('min', result.min);\n            return true;\n        });\n    }\n    exportProps() {\n        const sliderProps = this.sliderC_.props;\n        return exportBladeState(null, {\n            max: sliderProps.get('max'),\n            min: sliderProps.get('min'),\n        });\n    }\n}\nfunction createSliderTextProps(config) {\n    return {\n        sliderProps: new ValueMap({\n            keyScale: config.keyScale,\n            max: config.max,\n            min: config.min,\n        }),\n        textProps: new ValueMap({\n            formatter: createValue(config.formatter),\n            keyScale: config.keyScale,\n            pointerScale: createValue(config.pointerScale),\n        }),\n    };\n}\n\nconst CSS_VAR_MAP = {\n    containerUnitSize: 'cnt-usz',\n};\nfunction getCssVar(key) {\n    return `--${CSS_VAR_MAP[key]}`;\n}\n\nfunction createPointDimensionParser(p) {\n    return createNumberTextInputParamsParser(p);\n}\nfunction parsePointDimensionParams(value) {\n    if (!isRecord(value)) {\n        return undefined;\n    }\n    return parseRecord(value, createPointDimensionParser);\n}\nfunction createDimensionConstraint(params, initialValue) {\n    if (!params) {\n        return undefined;\n    }\n    const constraints = [];\n    const cs = createStepConstraint(params, initialValue);\n    if (cs) {\n        constraints.push(cs);\n    }\n    const rs = createRangeConstraint(params);\n    if (rs) {\n        constraints.push(rs);\n    }\n    return new CompositeConstraint(constraints);\n}\n\nfunction isCompatible(ver) {\n    if (!ver) {\n        return false;\n    }\n    return ver.major === VERSION$1.major;\n}\n\nfunction parsePickerLayout(value) {\n    if (value === 'inline' || value === 'popup') {\n        return value;\n    }\n    return undefined;\n}\n\nfunction writePrimitive(target, value) {\n    target.write(value);\n}\n\nconst cn$e = ClassName('ckb');\nclass CheckboxView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$e());\n        config.viewProps.bindClassModifiers(this.element);\n        const labelElem = doc.createElement('label');\n        labelElem.classList.add(cn$e('l'));\n        this.element.appendChild(labelElem);\n        this.labelElement = labelElem;\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$e('i'));\n        inputElem.type = 'checkbox';\n        this.labelElement.appendChild(inputElem);\n        this.inputElement = inputElem;\n        config.viewProps.bindDisabled(this.inputElement);\n        const wrapperElem = doc.createElement('div');\n        wrapperElem.classList.add(cn$e('w'));\n        this.labelElement.appendChild(wrapperElem);\n        const markElem = createSvgIconElement(doc, 'check');\n        wrapperElem.appendChild(markElem);\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        this.inputElement.checked = this.value.rawValue;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass CheckboxController {\n    constructor(doc, config) {\n        this.onInputChange_ = this.onInputChange_.bind(this);\n        this.onLabelMouseDown_ = this.onLabelMouseDown_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new CheckboxView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view.inputElement.addEventListener('change', this.onInputChange_);\n        this.view.labelElement.addEventListener('mousedown', this.onLabelMouseDown_);\n    }\n    onInputChange_(ev) {\n        const inputElem = forceCast(ev.currentTarget);\n        this.value.rawValue = inputElem.checked;\n        ev.preventDefault();\n        ev.stopPropagation();\n    }\n    onLabelMouseDown_(ev) {\n        ev.preventDefault();\n    }\n}\n\nfunction createConstraint$6(params) {\n    const constraints = [];\n    const lc = createListConstraint(params.options);\n    if (lc) {\n        constraints.push(lc);\n    }\n    return new CompositeConstraint(constraints);\n}\nconst BooleanInputPlugin = createPlugin({\n    id: 'input-bool',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'boolean') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            options: p.optional.custom(parseListOptions),\n            readonly: p.optional.constant(false),\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => boolFromUnknown,\n        constraint: (args) => createConstraint$6(args.params),\n        writer: (_args) => writePrimitive,\n    },\n    controller: (args) => {\n        const doc = args.document;\n        const value = args.value;\n        const c = args.constraint;\n        const lc = c && findConstraint(c, ListConstraint);\n        if (lc) {\n            return new ListController(doc, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new CheckboxController(doc, {\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (typeof args.controller.value.rawValue !== 'boolean') {\n            return null;\n        }\n        if (args.controller.valueController instanceof ListController) {\n            return new ListInputBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nconst cn$d = ClassName('col');\nclass ColorView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$d());\n        config.foldable.bindExpandedClass(this.element, cn$d(undefined, 'expanded'));\n        bindValueMap(config.foldable, 'completed', valueToClassName(this.element, cn$d(undefined, 'cpl')));\n        const headElem = doc.createElement('div');\n        headElem.classList.add(cn$d('h'));\n        this.element.appendChild(headElem);\n        const swatchElem = doc.createElement('div');\n        swatchElem.classList.add(cn$d('s'));\n        headElem.appendChild(swatchElem);\n        this.swatchElement = swatchElem;\n        const textElem = doc.createElement('div');\n        textElem.classList.add(cn$d('t'));\n        headElem.appendChild(textElem);\n        this.textElement = textElem;\n        if (config.pickerLayout === 'inline') {\n            const pickerElem = doc.createElement('div');\n            pickerElem.classList.add(cn$d('p'));\n            this.element.appendChild(pickerElem);\n            this.pickerElement = pickerElem;\n        }\n        else {\n            this.pickerElement = null;\n        }\n    }\n}\n\nfunction rgbToHslInt(r, g, b) {\n    const rp = constrainRange(r / 255, 0, 1);\n    const gp = constrainRange(g / 255, 0, 1);\n    const bp = constrainRange(b / 255, 0, 1);\n    const cmax = Math.max(rp, gp, bp);\n    const cmin = Math.min(rp, gp, bp);\n    const c = cmax - cmin;\n    let h = 0;\n    let s = 0;\n    const l = (cmin + cmax) / 2;\n    if (c !== 0) {\n        s = c / (1 - Math.abs(cmax + cmin - 1));\n        if (rp === cmax) {\n            h = (gp - bp) / c;\n        }\n        else if (gp === cmax) {\n            h = 2 + (bp - rp) / c;\n        }\n        else {\n            h = 4 + (rp - gp) / c;\n        }\n        h = h / 6 + (h < 0 ? 1 : 0);\n    }\n    return [h * 360, s * 100, l * 100];\n}\nfunction hslToRgbInt(h, s, l) {\n    const hp = ((h % 360) + 360) % 360;\n    const sp = constrainRange(s / 100, 0, 1);\n    const lp = constrainRange(l / 100, 0, 1);\n    const c = (1 - Math.abs(2 * lp - 1)) * sp;\n    const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n    const m = lp - c / 2;\n    let rp, gp, bp;\n    if (hp >= 0 && hp < 60) {\n        [rp, gp, bp] = [c, x, 0];\n    }\n    else if (hp >= 60 && hp < 120) {\n        [rp, gp, bp] = [x, c, 0];\n    }\n    else if (hp >= 120 && hp < 180) {\n        [rp, gp, bp] = [0, c, x];\n    }\n    else if (hp >= 180 && hp < 240) {\n        [rp, gp, bp] = [0, x, c];\n    }\n    else if (hp >= 240 && hp < 300) {\n        [rp, gp, bp] = [x, 0, c];\n    }\n    else {\n        [rp, gp, bp] = [c, 0, x];\n    }\n    return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n}\nfunction rgbToHsvInt(r, g, b) {\n    const rp = constrainRange(r / 255, 0, 1);\n    const gp = constrainRange(g / 255, 0, 1);\n    const bp = constrainRange(b / 255, 0, 1);\n    const cmax = Math.max(rp, gp, bp);\n    const cmin = Math.min(rp, gp, bp);\n    const d = cmax - cmin;\n    let h;\n    if (d === 0) {\n        h = 0;\n    }\n    else if (cmax === rp) {\n        h = 60 * (((((gp - bp) / d) % 6) + 6) % 6);\n    }\n    else if (cmax === gp) {\n        h = 60 * ((bp - rp) / d + 2);\n    }\n    else {\n        h = 60 * ((rp - gp) / d + 4);\n    }\n    const s = cmax === 0 ? 0 : d / cmax;\n    const v = cmax;\n    return [h, s * 100, v * 100];\n}\nfunction hsvToRgbInt(h, s, v) {\n    const hp = loopRange(h, 360);\n    const sp = constrainRange(s / 100, 0, 1);\n    const vp = constrainRange(v / 100, 0, 1);\n    const c = vp * sp;\n    const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n    const m = vp - c;\n    let rp, gp, bp;\n    if (hp >= 0 && hp < 60) {\n        [rp, gp, bp] = [c, x, 0];\n    }\n    else if (hp >= 60 && hp < 120) {\n        [rp, gp, bp] = [x, c, 0];\n    }\n    else if (hp >= 120 && hp < 180) {\n        [rp, gp, bp] = [0, c, x];\n    }\n    else if (hp >= 180 && hp < 240) {\n        [rp, gp, bp] = [0, x, c];\n    }\n    else if (hp >= 240 && hp < 300) {\n        [rp, gp, bp] = [x, 0, c];\n    }\n    else {\n        [rp, gp, bp] = [c, 0, x];\n    }\n    return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n}\nfunction hslToHsvInt(h, s, l) {\n    const sd = l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100);\n    return [\n        h,\n        sd !== 0 ? (s * (100 - Math.abs(2 * l - 100))) / sd : 0,\n        l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100),\n    ];\n}\nfunction hsvToHslInt(h, s, v) {\n    const sd = 100 - Math.abs((v * (200 - s)) / 100 - 100);\n    return [h, sd !== 0 ? (s * v) / sd : 0, (v * (200 - s)) / (2 * 100)];\n}\nfunction removeAlphaComponent(comps) {\n    return [comps[0], comps[1], comps[2]];\n}\nfunction appendAlphaComponent(comps, alpha) {\n    return [comps[0], comps[1], comps[2], alpha];\n}\nconst MODE_CONVERTER_MAP = {\n    hsl: {\n        hsl: (h, s, l) => [h, s, l],\n        hsv: hslToHsvInt,\n        rgb: hslToRgbInt,\n    },\n    hsv: {\n        hsl: hsvToHslInt,\n        hsv: (h, s, v) => [h, s, v],\n        rgb: hsvToRgbInt,\n    },\n    rgb: {\n        hsl: rgbToHslInt,\n        hsv: rgbToHsvInt,\n        rgb: (r, g, b) => [r, g, b],\n    },\n};\nfunction getColorMaxComponents(mode, type) {\n    return [\n        type === 'float' ? 1 : mode === 'rgb' ? 255 : 360,\n        type === 'float' ? 1 : mode === 'rgb' ? 255 : 100,\n        type === 'float' ? 1 : mode === 'rgb' ? 255 : 100,\n    ];\n}\nfunction loopHueRange(hue, max) {\n    return hue === max ? max : loopRange(hue, max);\n}\nfunction constrainColorComponents(components, mode, type) {\n    var _a;\n    const ms = getColorMaxComponents(mode, type);\n    return [\n        mode === 'rgb'\n            ? constrainRange(components[0], 0, ms[0])\n            : loopHueRange(components[0], ms[0]),\n        constrainRange(components[1], 0, ms[1]),\n        constrainRange(components[2], 0, ms[2]),\n        constrainRange((_a = components[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n    ];\n}\nfunction convertColorType(comps, mode, from, to) {\n    const fms = getColorMaxComponents(mode, from);\n    const tms = getColorMaxComponents(mode, to);\n    return comps.map((c, index) => (c / fms[index]) * tms[index]);\n}\nfunction convertColor(components, from, to) {\n    const intComps = convertColorType(components, from.mode, from.type, 'int');\n    const result = MODE_CONVERTER_MAP[from.mode][to.mode](...intComps);\n    return convertColorType(result, to.mode, 'int', to.type);\n}\n\nclass IntColor {\n    static black() {\n        return new IntColor([0, 0, 0], 'rgb');\n    }\n    constructor(comps, mode) {\n        this.type = 'int';\n        this.mode = mode;\n        this.comps_ = constrainColorComponents(comps, mode, this.type);\n    }\n    getComponents(opt_mode) {\n        return appendAlphaComponent(convertColor(removeAlphaComponent(this.comps_), { mode: this.mode, type: this.type }, { mode: opt_mode !== null && opt_mode !== void 0 ? opt_mode : this.mode, type: this.type }), this.comps_[3]);\n    }\n    toRgbaObject() {\n        const rgbComps = this.getComponents('rgb');\n        return {\n            r: rgbComps[0],\n            g: rgbComps[1],\n            b: rgbComps[2],\n            a: rgbComps[3],\n        };\n    }\n}\n\nconst cn$c = ClassName('colp');\nclass ColorPickerView {\n    constructor(doc, config) {\n        this.alphaViews_ = null;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$c());\n        config.viewProps.bindClassModifiers(this.element);\n        const hsvElem = doc.createElement('div');\n        hsvElem.classList.add(cn$c('hsv'));\n        const svElem = doc.createElement('div');\n        svElem.classList.add(cn$c('sv'));\n        this.svPaletteView_ = config.svPaletteView;\n        svElem.appendChild(this.svPaletteView_.element);\n        hsvElem.appendChild(svElem);\n        const hElem = doc.createElement('div');\n        hElem.classList.add(cn$c('h'));\n        this.hPaletteView_ = config.hPaletteView;\n        hElem.appendChild(this.hPaletteView_.element);\n        hsvElem.appendChild(hElem);\n        this.element.appendChild(hsvElem);\n        const rgbElem = doc.createElement('div');\n        rgbElem.classList.add(cn$c('rgb'));\n        this.textsView_ = config.textsView;\n        rgbElem.appendChild(this.textsView_.element);\n        this.element.appendChild(rgbElem);\n        if (config.alphaViews) {\n            this.alphaViews_ = {\n                palette: config.alphaViews.palette,\n                text: config.alphaViews.text,\n            };\n            const aElem = doc.createElement('div');\n            aElem.classList.add(cn$c('a'));\n            const apElem = doc.createElement('div');\n            apElem.classList.add(cn$c('ap'));\n            apElem.appendChild(this.alphaViews_.palette.element);\n            aElem.appendChild(apElem);\n            const atElem = doc.createElement('div');\n            atElem.classList.add(cn$c('at'));\n            atElem.appendChild(this.alphaViews_.text.element);\n            aElem.appendChild(atElem);\n            this.element.appendChild(aElem);\n        }\n    }\n    get allFocusableElements() {\n        const elems = [\n            this.svPaletteView_.element,\n            this.hPaletteView_.element,\n            this.textsView_.modeSelectElement,\n            ...this.textsView_.inputViews.map((v) => v.inputElement),\n        ];\n        if (this.alphaViews_) {\n            elems.push(this.alphaViews_.palette.element, this.alphaViews_.text.inputElement);\n        }\n        return elems;\n    }\n}\n\nfunction parseColorType(value) {\n    return value === 'int' ? 'int' : value === 'float' ? 'float' : undefined;\n}\nfunction parseColorInputParams(params) {\n    return parseRecord(params, (p) => ({\n        color: p.optional.object({\n            alpha: p.optional.boolean,\n            type: p.optional.custom(parseColorType),\n        }),\n        expanded: p.optional.boolean,\n        picker: p.optional.custom(parsePickerLayout),\n        readonly: p.optional.constant(false),\n    }));\n}\nfunction getKeyScaleForColor(forAlpha) {\n    return forAlpha ? 0.1 : 1;\n}\nfunction extractColorType(params) {\n    var _a;\n    return (_a = params.color) === null || _a === void 0 ? void 0 : _a.type;\n}\n\nclass FloatColor {\n    constructor(comps, mode) {\n        this.type = 'float';\n        this.mode = mode;\n        this.comps_ = constrainColorComponents(comps, mode, this.type);\n    }\n    getComponents(opt_mode) {\n        return appendAlphaComponent(convertColor(removeAlphaComponent(this.comps_), { mode: this.mode, type: this.type }, { mode: opt_mode !== null && opt_mode !== void 0 ? opt_mode : this.mode, type: this.type }), this.comps_[3]);\n    }\n    toRgbaObject() {\n        const rgbComps = this.getComponents('rgb');\n        return {\n            r: rgbComps[0],\n            g: rgbComps[1],\n            b: rgbComps[2],\n            a: rgbComps[3],\n        };\n    }\n}\n\nconst TYPE_TO_CONSTRUCTOR_MAP = {\n    int: (comps, mode) => new IntColor(comps, mode),\n    float: (comps, mode) => new FloatColor(comps, mode),\n};\nfunction createColor(comps, mode, type) {\n    return TYPE_TO_CONSTRUCTOR_MAP[type](comps, mode);\n}\nfunction isFloatColor(c) {\n    return c.type === 'float';\n}\nfunction isIntColor(c) {\n    return c.type === 'int';\n}\nfunction convertFloatToInt(cf) {\n    const comps = cf.getComponents();\n    const ms = getColorMaxComponents(cf.mode, 'int');\n    return new IntColor([\n        Math.round(mapRange(comps[0], 0, 1, 0, ms[0])),\n        Math.round(mapRange(comps[1], 0, 1, 0, ms[1])),\n        Math.round(mapRange(comps[2], 0, 1, 0, ms[2])),\n        comps[3],\n    ], cf.mode);\n}\nfunction convertIntToFloat(ci) {\n    const comps = ci.getComponents();\n    const ms = getColorMaxComponents(ci.mode, 'int');\n    return new FloatColor([\n        mapRange(comps[0], 0, ms[0], 0, 1),\n        mapRange(comps[1], 0, ms[1], 0, 1),\n        mapRange(comps[2], 0, ms[2], 0, 1),\n        comps[3],\n    ], ci.mode);\n}\nfunction mapColorType(c, type) {\n    if (c.type === type) {\n        return c;\n    }\n    if (isIntColor(c) && type === 'float') {\n        return convertIntToFloat(c);\n    }\n    if (isFloatColor(c) && type === 'int') {\n        return convertFloatToInt(c);\n    }\n    throw TpError.shouldNeverHappen();\n}\n\nfunction equalsStringColorFormat(f1, f2) {\n    return (f1.alpha === f2.alpha &&\n        f1.mode === f2.mode &&\n        f1.notation === f2.notation &&\n        f1.type === f2.type);\n}\nfunction parseCssNumberOrPercentage(text, max) {\n    const m = text.match(/^(.+)%$/);\n    if (!m) {\n        return Math.min(parseFloat(text), max);\n    }\n    return Math.min(parseFloat(m[1]) * 0.01 * max, max);\n}\nconst ANGLE_TO_DEG_MAP = {\n    deg: (angle) => angle,\n    grad: (angle) => (angle * 360) / 400,\n    rad: (angle) => (angle * 360) / (2 * Math.PI),\n    turn: (angle) => angle * 360,\n};\nfunction parseCssNumberOrAngle(text) {\n    const m = text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);\n    if (!m) {\n        return parseFloat(text);\n    }\n    const angle = parseFloat(m[1]);\n    const unit = m[2];\n    return ANGLE_TO_DEG_MAP[unit](angle);\n}\nfunction parseFunctionalRgbColorComponents(text) {\n    const m = text.match(/^rgb\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrPercentage(m[1], 255),\n        parseCssNumberOrPercentage(m[2], 255),\n        parseCssNumberOrPercentage(m[3], 255),\n    ];\n    if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalRgbColor(text) {\n    const comps = parseFunctionalRgbColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseFunctionalRgbaColorComponents(text) {\n    const m = text.match(/^rgba\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrPercentage(m[1], 255),\n        parseCssNumberOrPercentage(m[2], 255),\n        parseCssNumberOrPercentage(m[3], 255),\n        parseCssNumberOrPercentage(m[4], 1),\n    ];\n    if (isNaN(comps[0]) ||\n        isNaN(comps[1]) ||\n        isNaN(comps[2]) ||\n        isNaN(comps[3])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalRgbaColor(text) {\n    const comps = parseFunctionalRgbaColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseFunctionalHslColorComponents(text) {\n    const m = text.match(/^hsl\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrAngle(m[1]),\n        parseCssNumberOrPercentage(m[2], 100),\n        parseCssNumberOrPercentage(m[3], 100),\n    ];\n    if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalHslColor(text) {\n    const comps = parseFunctionalHslColorComponents(text);\n    return comps ? new IntColor(comps, 'hsl') : null;\n}\nfunction parseHslaColorComponents(text) {\n    const m = text.match(/^hsla\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseCssNumberOrAngle(m[1]),\n        parseCssNumberOrPercentage(m[2], 100),\n        parseCssNumberOrPercentage(m[3], 100),\n        parseCssNumberOrPercentage(m[4], 1),\n    ];\n    if (isNaN(comps[0]) ||\n        isNaN(comps[1]) ||\n        isNaN(comps[2]) ||\n        isNaN(comps[3])) {\n        return null;\n    }\n    return comps;\n}\nfunction parseFunctionalHslaColor(text) {\n    const comps = parseHslaColorComponents(text);\n    return comps ? new IntColor(comps, 'hsl') : null;\n}\nfunction parseHexRgbColorComponents(text) {\n    const mRgb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n    if (mRgb) {\n        return [\n            parseInt(mRgb[1] + mRgb[1], 16),\n            parseInt(mRgb[2] + mRgb[2], 16),\n            parseInt(mRgb[3] + mRgb[3], 16),\n        ];\n    }\n    const mRrggbb = text.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n    if (mRrggbb) {\n        return [\n            parseInt(mRrggbb[1], 16),\n            parseInt(mRrggbb[2], 16),\n            parseInt(mRrggbb[3], 16),\n        ];\n    }\n    return null;\n}\nfunction parseHexRgbColor(text) {\n    const comps = parseHexRgbColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseHexRgbaColorComponents(text) {\n    const mRgb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n    if (mRgb) {\n        return [\n            parseInt(mRgb[1] + mRgb[1], 16),\n            parseInt(mRgb[2] + mRgb[2], 16),\n            parseInt(mRgb[3] + mRgb[3], 16),\n            mapRange(parseInt(mRgb[4] + mRgb[4], 16), 0, 255, 0, 1),\n        ];\n    }\n    const mRrggbb = text.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n    if (mRrggbb) {\n        return [\n            parseInt(mRrggbb[1], 16),\n            parseInt(mRrggbb[2], 16),\n            parseInt(mRrggbb[3], 16),\n            mapRange(parseInt(mRrggbb[4], 16), 0, 255, 0, 1),\n        ];\n    }\n    return null;\n}\nfunction parseHexRgbaColor(text) {\n    const comps = parseHexRgbaColorComponents(text);\n    return comps ? new IntColor(comps, 'rgb') : null;\n}\nfunction parseObjectRgbColorComponents(text) {\n    const m = text.match(/^\\{\\s*r\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*g\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*b\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*\\}$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseFloat(m[1]),\n        parseFloat(m[2]),\n        parseFloat(m[3]),\n    ];\n    if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n        return null;\n    }\n    return comps;\n}\nfunction createObjectRgbColorParser(type) {\n    return (text) => {\n        const comps = parseObjectRgbColorComponents(text);\n        return comps ? createColor(comps, 'rgb', type) : null;\n    };\n}\nfunction parseObjectRgbaColorComponents(text) {\n    const m = text.match(/^\\{\\s*r\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*g\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*b\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*a\\s*:\\s*([0-9A-Fa-f.]+%?)\\s*\\}$/);\n    if (!m) {\n        return null;\n    }\n    const comps = [\n        parseFloat(m[1]),\n        parseFloat(m[2]),\n        parseFloat(m[3]),\n        parseFloat(m[4]),\n    ];\n    if (isNaN(comps[0]) ||\n        isNaN(comps[1]) ||\n        isNaN(comps[2]) ||\n        isNaN(comps[3])) {\n        return null;\n    }\n    return comps;\n}\nfunction createObjectRgbaColorParser(type) {\n    return (text) => {\n        const comps = parseObjectRgbaColorComponents(text);\n        return comps ? createColor(comps, 'rgb', type) : null;\n    };\n}\nconst PARSER_AND_RESULT = [\n    {\n        parser: parseHexRgbColorComponents,\n        result: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'hex',\n        },\n    },\n    {\n        parser: parseHexRgbaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'hex',\n        },\n    },\n    {\n        parser: parseFunctionalRgbColorComponents,\n        result: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseFunctionalRgbaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseFunctionalHslColorComponents,\n        result: {\n            alpha: false,\n            mode: 'hsl',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseHslaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'hsl',\n            notation: 'func',\n        },\n    },\n    {\n        parser: parseObjectRgbColorComponents,\n        result: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'object',\n        },\n    },\n    {\n        parser: parseObjectRgbaColorComponents,\n        result: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'object',\n        },\n    },\n];\nfunction detectStringColor(text) {\n    return PARSER_AND_RESULT.reduce((prev, { parser, result: detection }) => {\n        if (prev) {\n            return prev;\n        }\n        return parser(text) ? detection : null;\n    }, null);\n}\nfunction detectStringColorFormat(text, type = 'int') {\n    const r = detectStringColor(text);\n    if (!r) {\n        return null;\n    }\n    if (r.notation === 'hex' && type !== 'float') {\n        return Object.assign(Object.assign({}, r), { type: 'int' });\n    }\n    if (r.notation === 'func') {\n        return Object.assign(Object.assign({}, r), { type: type });\n    }\n    return null;\n}\nfunction createColorStringParser(type) {\n    const parsers = [\n        parseHexRgbColor,\n        parseHexRgbaColor,\n        parseFunctionalRgbColor,\n        parseFunctionalRgbaColor,\n        parseFunctionalHslColor,\n        parseFunctionalHslaColor,\n    ];\n    if (type === 'int') {\n        parsers.push(createObjectRgbColorParser('int'), createObjectRgbaColorParser('int'));\n    }\n    if (type === 'float') {\n        parsers.push(createObjectRgbColorParser('float'), createObjectRgbaColorParser('float'));\n    }\n    const parser = composeParsers(parsers);\n    return (text) => {\n        const result = parser(text);\n        return result ? mapColorType(result, type) : null;\n    };\n}\nfunction readIntColorString(value) {\n    const parser = createColorStringParser('int');\n    if (typeof value !== 'string') {\n        return IntColor.black();\n    }\n    const result = parser(value);\n    return result !== null && result !== void 0 ? result : IntColor.black();\n}\nfunction zerofill(comp) {\n    const hex = constrainRange(Math.floor(comp), 0, 255).toString(16);\n    return hex.length === 1 ? `0${hex}` : hex;\n}\nfunction colorToHexRgbString(value, prefix = '#') {\n    const hexes = removeAlphaComponent(value.getComponents('rgb'))\n        .map(zerofill)\n        .join('');\n    return `${prefix}${hexes}`;\n}\nfunction colorToHexRgbaString(value, prefix = '#') {\n    const rgbaComps = value.getComponents('rgb');\n    const hexes = [rgbaComps[0], rgbaComps[1], rgbaComps[2], rgbaComps[3] * 255]\n        .map(zerofill)\n        .join('');\n    return `${prefix}${hexes}`;\n}\nfunction colorToFunctionalRgbString(value) {\n    const formatter = createNumberFormatter(0);\n    const ci = mapColorType(value, 'int');\n    const comps = removeAlphaComponent(ci.getComponents('rgb')).map((comp) => formatter(comp));\n    return `rgb(${comps.join(', ')})`;\n}\nfunction colorToFunctionalRgbaString(value) {\n    const aFormatter = createNumberFormatter(2);\n    const rgbFormatter = createNumberFormatter(0);\n    const ci = mapColorType(value, 'int');\n    const comps = ci.getComponents('rgb').map((comp, index) => {\n        const formatter = index === 3 ? aFormatter : rgbFormatter;\n        return formatter(comp);\n    });\n    return `rgba(${comps.join(', ')})`;\n}\nfunction colorToFunctionalHslString(value) {\n    const formatters = [\n        createNumberFormatter(0),\n        formatPercentage,\n        formatPercentage,\n    ];\n    const ci = mapColorType(value, 'int');\n    const comps = removeAlphaComponent(ci.getComponents('hsl')).map((comp, index) => formatters[index](comp));\n    return `hsl(${comps.join(', ')})`;\n}\nfunction colorToFunctionalHslaString(value) {\n    const formatters = [\n        createNumberFormatter(0),\n        formatPercentage,\n        formatPercentage,\n        createNumberFormatter(2),\n    ];\n    const ci = mapColorType(value, 'int');\n    const comps = ci\n        .getComponents('hsl')\n        .map((comp, index) => formatters[index](comp));\n    return `hsla(${comps.join(', ')})`;\n}\nfunction colorToObjectRgbString(value, type) {\n    const formatter = createNumberFormatter(type === 'float' ? 2 : 0);\n    const names = ['r', 'g', 'b'];\n    const cc = mapColorType(value, type);\n    const comps = removeAlphaComponent(cc.getComponents('rgb')).map((comp, index) => `${names[index]}: ${formatter(comp)}`);\n    return `{${comps.join(', ')}}`;\n}\nfunction createObjectRgbColorFormatter(type) {\n    return (value) => colorToObjectRgbString(value, type);\n}\nfunction colorToObjectRgbaString(value, type) {\n    const aFormatter = createNumberFormatter(2);\n    const rgbFormatter = createNumberFormatter(type === 'float' ? 2 : 0);\n    const names = ['r', 'g', 'b', 'a'];\n    const cc = mapColorType(value, type);\n    const comps = cc.getComponents('rgb').map((comp, index) => {\n        const formatter = index === 3 ? aFormatter : rgbFormatter;\n        return `${names[index]}: ${formatter(comp)}`;\n    });\n    return `{${comps.join(', ')}}`;\n}\nfunction createObjectRgbaColorFormatter(type) {\n    return (value) => colorToObjectRgbaString(value, type);\n}\nconst FORMAT_AND_STRINGIFIERS = [\n    {\n        format: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'hex',\n            type: 'int',\n        },\n        stringifier: colorToHexRgbString,\n    },\n    {\n        format: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'hex',\n            type: 'int',\n        },\n        stringifier: colorToHexRgbaString,\n    },\n    {\n        format: {\n            alpha: false,\n            mode: 'rgb',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalRgbString,\n    },\n    {\n        format: {\n            alpha: true,\n            mode: 'rgb',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalRgbaString,\n    },\n    {\n        format: {\n            alpha: false,\n            mode: 'hsl',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalHslString,\n    },\n    {\n        format: {\n            alpha: true,\n            mode: 'hsl',\n            notation: 'func',\n            type: 'int',\n        },\n        stringifier: colorToFunctionalHslaString,\n    },\n    ...['int', 'float'].reduce((prev, type) => {\n        return [\n            ...prev,\n            {\n                format: {\n                    alpha: false,\n                    mode: 'rgb',\n                    notation: 'object',\n                    type: type,\n                },\n                stringifier: createObjectRgbColorFormatter(type),\n            },\n            {\n                format: {\n                    alpha: true,\n                    mode: 'rgb',\n                    notation: 'object',\n                    type: type,\n                },\n                stringifier: createObjectRgbaColorFormatter(type),\n            },\n        ];\n    }, []),\n];\nfunction findColorStringifier(format) {\n    return FORMAT_AND_STRINGIFIERS.reduce((prev, fas) => {\n        if (prev) {\n            return prev;\n        }\n        return equalsStringColorFormat(fas.format, format)\n            ? fas.stringifier\n            : null;\n    }, null);\n}\n\nconst cn$b = ClassName('apl');\nclass APaletteView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value = config.value;\n        this.value.emitter.on('change', this.onValueChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$b());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const barElem = doc.createElement('div');\n        barElem.classList.add(cn$b('b'));\n        this.element.appendChild(barElem);\n        const colorElem = doc.createElement('div');\n        colorElem.classList.add(cn$b('c'));\n        barElem.appendChild(colorElem);\n        this.colorElem_ = colorElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$b('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        const previewElem = doc.createElement('div');\n        previewElem.classList.add(cn$b('p'));\n        this.markerElem_.appendChild(previewElem);\n        this.previewElem_ = previewElem;\n        this.update_();\n    }\n    update_() {\n        const c = this.value.rawValue;\n        const rgbaComps = c.getComponents('rgb');\n        const leftColor = new IntColor([rgbaComps[0], rgbaComps[1], rgbaComps[2], 0], 'rgb');\n        const rightColor = new IntColor([rgbaComps[0], rgbaComps[1], rgbaComps[2], 255], 'rgb');\n        const gradientComps = [\n            'to right',\n            colorToFunctionalRgbaString(leftColor),\n            colorToFunctionalRgbaString(rightColor),\n        ];\n        this.colorElem_.style.background = `linear-gradient(${gradientComps.join(',')})`;\n        this.previewElem_.style.backgroundColor = colorToFunctionalRgbaString(c);\n        const left = mapRange(rgbaComps[3], 0, 1, 0, 100);\n        this.markerElem_.style.left = `${left}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass APaletteController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new APaletteView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.element);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const alpha = d.point.x / d.bounds.width;\n        const c = this.value.rawValue;\n        const [h, s, v] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h, s, v, alpha], 'hsv'), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(true), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        const c = this.value.rawValue;\n        const [h, s, v, a] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h, s, v, a + step], 'hsv'), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(true), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nconst cn$a = ClassName('coltxt');\nfunction createModeSelectElement(doc) {\n    const selectElem = doc.createElement('select');\n    const items = [\n        { text: 'RGB', value: 'rgb' },\n        { text: 'HSL', value: 'hsl' },\n        { text: 'HSV', value: 'hsv' },\n        { text: 'HEX', value: 'hex' },\n    ];\n    selectElem.appendChild(items.reduce((frag, item) => {\n        const optElem = doc.createElement('option');\n        optElem.textContent = item.text;\n        optElem.value = item.value;\n        frag.appendChild(optElem);\n        return frag;\n    }, doc.createDocumentFragment()));\n    return selectElem;\n}\nclass ColorTextsView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$a());\n        config.viewProps.bindClassModifiers(this.element);\n        const modeElem = doc.createElement('div');\n        modeElem.classList.add(cn$a('m'));\n        this.modeElem_ = createModeSelectElement(doc);\n        this.modeElem_.classList.add(cn$a('ms'));\n        modeElem.appendChild(this.modeSelectElement);\n        config.viewProps.bindDisabled(this.modeElem_);\n        const modeMarkerElem = doc.createElement('div');\n        modeMarkerElem.classList.add(cn$a('mm'));\n        modeMarkerElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n        modeElem.appendChild(modeMarkerElem);\n        this.element.appendChild(modeElem);\n        const inputsElem = doc.createElement('div');\n        inputsElem.classList.add(cn$a('w'));\n        this.element.appendChild(inputsElem);\n        this.inputsElem_ = inputsElem;\n        this.inputViews_ = config.inputViews;\n        this.applyInputViews_();\n        bindValue(config.mode, (mode) => {\n            this.modeElem_.value = mode;\n        });\n    }\n    get modeSelectElement() {\n        return this.modeElem_;\n    }\n    get inputViews() {\n        return this.inputViews_;\n    }\n    set inputViews(inputViews) {\n        this.inputViews_ = inputViews;\n        this.applyInputViews_();\n    }\n    applyInputViews_() {\n        removeChildElements(this.inputsElem_);\n        const doc = this.element.ownerDocument;\n        this.inputViews_.forEach((v) => {\n            const compElem = doc.createElement('div');\n            compElem.classList.add(cn$a('c'));\n            compElem.appendChild(v.element);\n            this.inputsElem_.appendChild(compElem);\n        });\n    }\n}\n\nfunction createFormatter$2(type) {\n    return createNumberFormatter(type === 'float' ? 2 : 0);\n}\nfunction createConstraint$5(mode, type, index) {\n    const max = getColorMaxComponents(mode, type)[index];\n    return new DefiniteRangeConstraint({\n        min: 0,\n        max: max,\n    });\n}\nfunction createComponentController(doc, config, index) {\n    return new NumberTextController(doc, {\n        arrayPosition: index === 0 ? 'fst' : index === 3 - 1 ? 'lst' : 'mid',\n        parser: config.parser,\n        props: ValueMap.fromObject({\n            formatter: createFormatter$2(config.colorType),\n            keyScale: getKeyScaleForColor(false),\n            pointerScale: config.colorType === 'float' ? 0.01 : 1,\n        }),\n        value: createValue(0, {\n            constraint: createConstraint$5(config.colorMode, config.colorType, index),\n        }),\n        viewProps: config.viewProps,\n    });\n}\nfunction createComponentControllers(doc, config) {\n    const cc = {\n        colorMode: config.colorMode,\n        colorType: config.colorType,\n        parser: parseNumber,\n        viewProps: config.viewProps,\n    };\n    return [0, 1, 2].map((i) => {\n        const c = createComponentController(doc, cc, i);\n        connectValues({\n            primary: config.value,\n            secondary: c.value,\n            forward(p) {\n                const mc = mapColorType(p, config.colorType);\n                return mc.getComponents(config.colorMode)[i];\n            },\n            backward(p, s) {\n                const pickedMode = config.colorMode;\n                const mc = mapColorType(p, config.colorType);\n                const comps = mc.getComponents(pickedMode);\n                comps[i] = s;\n                const c = createColor(appendAlphaComponent(removeAlphaComponent(comps), comps[3]), pickedMode, config.colorType);\n                return mapColorType(c, 'int');\n            },\n        });\n        return c;\n    });\n}\nfunction createHexController(doc, config) {\n    const c = new TextController(doc, {\n        parser: createColorStringParser('int'),\n        props: ValueMap.fromObject({\n            formatter: colorToHexRgbString,\n        }),\n        value: createValue(IntColor.black()),\n        viewProps: config.viewProps,\n    });\n    connectValues({\n        primary: config.value,\n        secondary: c.value,\n        forward: (p) => new IntColor(removeAlphaComponent(p.getComponents()), p.mode),\n        backward: (p, s) => new IntColor(appendAlphaComponent(removeAlphaComponent(s.getComponents(p.mode)), p.getComponents()[3]), p.mode),\n    });\n    return [c];\n}\nfunction isColorMode(mode) {\n    return mode !== 'hex';\n}\nclass ColorTextsController {\n    constructor(doc, config) {\n        this.onModeSelectChange_ = this.onModeSelectChange_.bind(this);\n        this.colorType_ = config.colorType;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.colorMode = createValue(this.value.rawValue.mode);\n        this.ccs_ = this.createComponentControllers_(doc);\n        this.view = new ColorTextsView(doc, {\n            mode: this.colorMode,\n            inputViews: [this.ccs_[0].view, this.ccs_[1].view, this.ccs_[2].view],\n            viewProps: this.viewProps,\n        });\n        this.view.modeSelectElement.addEventListener('change', this.onModeSelectChange_);\n    }\n    createComponentControllers_(doc) {\n        const mode = this.colorMode.rawValue;\n        if (isColorMode(mode)) {\n            return createComponentControllers(doc, {\n                colorMode: mode,\n                colorType: this.colorType_,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n        return createHexController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n    onModeSelectChange_(ev) {\n        const selectElem = ev.currentTarget;\n        this.colorMode.rawValue = selectElem.value;\n        this.ccs_ = this.createComponentControllers_(this.view.element.ownerDocument);\n        this.view.inputViews = this.ccs_.map((cc) => cc.view);\n    }\n}\n\nconst cn$9 = ClassName('hpl');\nclass HPaletteView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value = config.value;\n        this.value.emitter.on('change', this.onValueChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$9());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const colorElem = doc.createElement('div');\n        colorElem.classList.add(cn$9('c'));\n        this.element.appendChild(colorElem);\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$9('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        this.update_();\n    }\n    update_() {\n        const c = this.value.rawValue;\n        const [h] = c.getComponents('hsv');\n        this.markerElem_.style.backgroundColor = colorToFunctionalRgbString(new IntColor([h, 100, 100], 'hsv'));\n        const left = mapRange(h, 0, 360, 0, 100);\n        this.markerElem_.style.left = `${left}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass HPaletteController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new HPaletteView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.element);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const hue = mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, 0, 360);\n        const c = this.value.rawValue;\n        const [, s, v, a] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([hue, s, v, a], 'hsv'), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(false), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        const c = this.value.rawValue;\n        const [h, s, v, a] = c.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h + step, s, v, a], 'hsv'), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const step = getStepForKey(getKeyScaleForColor(false), getHorizontalStepKeys(ev));\n        if (step === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nconst cn$8 = ClassName('svp');\nconst CANVAS_RESOL = 64;\nclass SvPaletteView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.value = config.value;\n        this.value.emitter.on('change', this.onValueChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$8());\n        config.viewProps.bindClassModifiers(this.element);\n        config.viewProps.bindTabIndex(this.element);\n        const canvasElem = doc.createElement('canvas');\n        canvasElem.height = CANVAS_RESOL;\n        canvasElem.width = CANVAS_RESOL;\n        canvasElem.classList.add(cn$8('c'));\n        this.element.appendChild(canvasElem);\n        this.canvasElement = canvasElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$8('m'));\n        this.element.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        this.update_();\n    }\n    update_() {\n        const ctx = getCanvasContext(this.canvasElement);\n        if (!ctx) {\n            return;\n        }\n        const c = this.value.rawValue;\n        const hsvComps = c.getComponents('hsv');\n        const width = this.canvasElement.width;\n        const height = this.canvasElement.height;\n        const imgData = ctx.getImageData(0, 0, width, height);\n        const data = imgData.data;\n        for (let iy = 0; iy < height; iy++) {\n            for (let ix = 0; ix < width; ix++) {\n                const s = mapRange(ix, 0, width, 0, 100);\n                const v = mapRange(iy, 0, height, 100, 0);\n                const rgbComps = hsvToRgbInt(hsvComps[0], s, v);\n                const i = (iy * width + ix) * 4;\n                data[i] = rgbComps[0];\n                data[i + 1] = rgbComps[1];\n                data[i + 2] = rgbComps[2];\n                data[i + 3] = 255;\n            }\n        }\n        ctx.putImageData(imgData, 0, 0);\n        const left = mapRange(hsvComps[1], 0, 100, 0, 100);\n        this.markerElem_.style.left = `${left}%`;\n        const top = mapRange(hsvComps[2], 0, 100, 100, 0);\n        this.markerElem_.style.top = `${top}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass SvPaletteController {\n    constructor(doc, config) {\n        this.onKeyDown_ = this.onKeyDown_.bind(this);\n        this.onKeyUp_ = this.onKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new SvPaletteView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.element);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.element.addEventListener('keydown', this.onKeyDown_);\n        this.view.element.addEventListener('keyup', this.onKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const saturation = mapRange(d.point.x, 0, d.bounds.width, 0, 100);\n        const value = mapRange(d.point.y, 0, d.bounds.height, 100, 0);\n        const [h, , , a] = this.value.rawValue.getComponents('hsv');\n        this.value.setRawValue(new IntColor([h, saturation, value, a], 'hsv'), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onKeyDown_(ev) {\n        if (isArrowKey(ev.key)) {\n            ev.preventDefault();\n        }\n        const [h, s, v, a] = this.value.rawValue.getComponents('hsv');\n        const keyScale = getKeyScaleForColor(false);\n        const ds = getStepForKey(keyScale, getHorizontalStepKeys(ev));\n        const dv = getStepForKey(keyScale, getVerticalStepKeys(ev));\n        if (ds === 0 && dv === 0) {\n            return;\n        }\n        this.value.setRawValue(new IntColor([h, s + ds, v + dv, a], 'hsv'), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onKeyUp_(ev) {\n        const keyScale = getKeyScaleForColor(false);\n        const ds = getStepForKey(keyScale, getHorizontalStepKeys(ev));\n        const dv = getStepForKey(keyScale, getVerticalStepKeys(ev));\n        if (ds === 0 && dv === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nclass ColorPickerController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.hPaletteC_ = new HPaletteController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.svPaletteC_ = new SvPaletteController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.alphaIcs_ = config.supportsAlpha\n            ? {\n                palette: new APaletteController(doc, {\n                    value: this.value,\n                    viewProps: this.viewProps,\n                }),\n                text: new NumberTextController(doc, {\n                    parser: parseNumber,\n                    props: ValueMap.fromObject({\n                        pointerScale: 0.01,\n                        keyScale: 0.1,\n                        formatter: createNumberFormatter(2),\n                    }),\n                    value: createValue(0, {\n                        constraint: new DefiniteRangeConstraint({ min: 0, max: 1 }),\n                    }),\n                    viewProps: this.viewProps,\n                }),\n            }\n            : null;\n        if (this.alphaIcs_) {\n            connectValues({\n                primary: this.value,\n                secondary: this.alphaIcs_.text.value,\n                forward: (p) => p.getComponents()[3],\n                backward: (p, s) => {\n                    const comps = p.getComponents();\n                    comps[3] = s;\n                    return new IntColor(comps, p.mode);\n                },\n            });\n        }\n        this.textsC_ = new ColorTextsController(doc, {\n            colorType: config.colorType,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view = new ColorPickerView(doc, {\n            alphaViews: this.alphaIcs_\n                ? {\n                    palette: this.alphaIcs_.palette.view,\n                    text: this.alphaIcs_.text.view,\n                }\n                : null,\n            hPaletteView: this.hPaletteC_.view,\n            supportsAlpha: config.supportsAlpha,\n            svPaletteView: this.svPaletteC_.view,\n            textsView: this.textsC_.view,\n            viewProps: this.viewProps,\n        });\n    }\n    get textsController() {\n        return this.textsC_;\n    }\n}\n\nconst cn$7 = ClassName('colsw');\nclass ColorSwatchView {\n    constructor(doc, config) {\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value = config.value;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$7());\n        config.viewProps.bindClassModifiers(this.element);\n        const swatchElem = doc.createElement('div');\n        swatchElem.classList.add(cn$7('sw'));\n        this.element.appendChild(swatchElem);\n        this.swatchElem_ = swatchElem;\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$7('b'));\n        config.viewProps.bindDisabled(buttonElem);\n        this.element.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        this.update_();\n    }\n    update_() {\n        const value = this.value.rawValue;\n        this.swatchElem_.style.backgroundColor = colorToHexRgbaString(value);\n    }\n    onValueChange_() {\n        this.update_();\n    }\n}\n\nclass ColorSwatchController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new ColorSwatchView(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nclass ColorController {\n    constructor(doc, config) {\n        this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n        this.onButtonClick_ = this.onButtonClick_.bind(this);\n        this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n        this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.foldable_ = Foldable.create(config.expanded);\n        this.swatchC_ = new ColorSwatchController(doc, {\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        const buttonElem = this.swatchC_.view.buttonElement;\n        buttonElem.addEventListener('blur', this.onButtonBlur_);\n        buttonElem.addEventListener('click', this.onButtonClick_);\n        this.textC_ = new TextController(doc, {\n            parser: config.parser,\n            props: ValueMap.fromObject({\n                formatter: config.formatter,\n            }),\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view = new ColorView(doc, {\n            foldable: this.foldable_,\n            pickerLayout: config.pickerLayout,\n        });\n        this.view.swatchElement.appendChild(this.swatchC_.view.element);\n        this.view.textElement.appendChild(this.textC_.view.element);\n        this.popC_ =\n            config.pickerLayout === 'popup'\n                ? new PopupController(doc, {\n                    viewProps: this.viewProps,\n                })\n                : null;\n        const pickerC = new ColorPickerController(doc, {\n            colorType: config.colorType,\n            supportsAlpha: config.supportsAlpha,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        pickerC.view.allFocusableElements.forEach((elem) => {\n            elem.addEventListener('blur', this.onPopupChildBlur_);\n            elem.addEventListener('keydown', this.onPopupChildKeydown_);\n        });\n        this.pickerC_ = pickerC;\n        if (this.popC_) {\n            this.view.element.appendChild(this.popC_.view.element);\n            this.popC_.view.element.appendChild(pickerC.view.element);\n            connectValues({\n                primary: this.foldable_.value('expanded'),\n                secondary: this.popC_.shows,\n                forward: (p) => p,\n                backward: (_, s) => s,\n            });\n        }\n        else if (this.view.pickerElement) {\n            this.view.pickerElement.appendChild(this.pickerC_.view.element);\n            bindFoldable(this.foldable_, this.view.pickerElement);\n        }\n    }\n    get textController() {\n        return this.textC_;\n    }\n    onButtonBlur_(e) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.view.element;\n        const nextTarget = forceCast(e.relatedTarget);\n        if (!nextTarget || !elem.contains(nextTarget)) {\n            this.popC_.shows.rawValue = false;\n        }\n    }\n    onButtonClick_() {\n        this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n        if (this.foldable_.get('expanded')) {\n            this.pickerC_.view.allFocusableElements[0].focus();\n        }\n    }\n    onPopupChildBlur_(ev) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.popC_.view.element;\n        const nextTarget = findNextTarget(ev);\n        if (nextTarget && elem.contains(nextTarget)) {\n            return;\n        }\n        if (nextTarget &&\n            nextTarget === this.swatchC_.view.buttonElement &&\n            !supportsTouch(elem.ownerDocument)) {\n            return;\n        }\n        this.popC_.shows.rawValue = false;\n    }\n    onPopupChildKeydown_(ev) {\n        if (this.popC_) {\n            if (ev.key === 'Escape') {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        else if (this.view.pickerElement) {\n            if (ev.key === 'Escape') {\n                this.swatchC_.view.buttonElement.focus();\n            }\n        }\n    }\n}\n\nfunction colorToRgbNumber(value) {\n    return removeAlphaComponent(value.getComponents('rgb')).reduce((result, comp) => {\n        return (result << 8) | (Math.floor(comp) & 0xff);\n    }, 0);\n}\nfunction colorToRgbaNumber(value) {\n    return (value.getComponents('rgb').reduce((result, comp, index) => {\n        const hex = Math.floor(index === 3 ? comp * 255 : comp) & 0xff;\n        return (result << 8) | hex;\n    }, 0) >>> 0);\n}\nfunction numberToRgbColor(num) {\n    return new IntColor([(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff], 'rgb');\n}\nfunction numberToRgbaColor(num) {\n    return new IntColor([\n        (num >> 24) & 0xff,\n        (num >> 16) & 0xff,\n        (num >> 8) & 0xff,\n        mapRange(num & 0xff, 0, 255, 0, 1),\n    ], 'rgb');\n}\nfunction colorFromRgbNumber(value) {\n    if (typeof value !== 'number') {\n        return IntColor.black();\n    }\n    return numberToRgbColor(value);\n}\nfunction colorFromRgbaNumber(value) {\n    if (typeof value !== 'number') {\n        return IntColor.black();\n    }\n    return numberToRgbaColor(value);\n}\n\nfunction isRgbColorComponent(obj, key) {\n    if (typeof obj !== 'object' || isEmpty(obj)) {\n        return false;\n    }\n    return key in obj && typeof obj[key] === 'number';\n}\nfunction isRgbColorObject(obj) {\n    return (isRgbColorComponent(obj, 'r') &&\n        isRgbColorComponent(obj, 'g') &&\n        isRgbColorComponent(obj, 'b'));\n}\nfunction isRgbaColorObject(obj) {\n    return isRgbColorObject(obj) && isRgbColorComponent(obj, 'a');\n}\nfunction isColorObject(obj) {\n    return isRgbColorObject(obj);\n}\nfunction equalsColor(v1, v2) {\n    if (v1.mode !== v2.mode) {\n        return false;\n    }\n    if (v1.type !== v2.type) {\n        return false;\n    }\n    const comps1 = v1.getComponents();\n    const comps2 = v2.getComponents();\n    for (let i = 0; i < comps1.length; i++) {\n        if (comps1[i] !== comps2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction createColorComponentsFromRgbObject(obj) {\n    return 'a' in obj ? [obj.r, obj.g, obj.b, obj.a] : [obj.r, obj.g, obj.b];\n}\n\nfunction createColorStringWriter(format) {\n    const stringify = findColorStringifier(format);\n    return stringify\n        ? (target, value) => {\n            writePrimitive(target, stringify(value));\n        }\n        : null;\n}\nfunction createColorNumberWriter(supportsAlpha) {\n    const colorToNumber = supportsAlpha ? colorToRgbaNumber : colorToRgbNumber;\n    return (target, value) => {\n        writePrimitive(target, colorToNumber(value));\n    };\n}\nfunction writeRgbaColorObject(target, value, type) {\n    const cc = mapColorType(value, type);\n    const obj = cc.toRgbaObject();\n    target.writeProperty('r', obj.r);\n    target.writeProperty('g', obj.g);\n    target.writeProperty('b', obj.b);\n    target.writeProperty('a', obj.a);\n}\nfunction writeRgbColorObject(target, value, type) {\n    const cc = mapColorType(value, type);\n    const obj = cc.toRgbaObject();\n    target.writeProperty('r', obj.r);\n    target.writeProperty('g', obj.g);\n    target.writeProperty('b', obj.b);\n}\nfunction createColorObjectWriter(supportsAlpha, type) {\n    return (target, inValue) => {\n        if (supportsAlpha) {\n            writeRgbaColorObject(target, inValue, type);\n        }\n        else {\n            writeRgbColorObject(target, inValue, type);\n        }\n    };\n}\n\nfunction shouldSupportAlpha$1(inputParams) {\n    var _a;\n    if ((_a = inputParams === null || inputParams === void 0 ? void 0 : inputParams.color) === null || _a === void 0 ? void 0 : _a.alpha) {\n        return true;\n    }\n    return false;\n}\nfunction createFormatter$1(supportsAlpha) {\n    return supportsAlpha\n        ? (v) => colorToHexRgbaString(v, '0x')\n        : (v) => colorToHexRgbString(v, '0x');\n}\nfunction isForColor(params) {\n    if ('color' in params) {\n        return true;\n    }\n    if (params.view === 'color') {\n        return true;\n    }\n    return false;\n}\nconst NumberColorInputPlugin = createPlugin({\n    id: 'input-color-number',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'number') {\n            return null;\n        }\n        if (!isForColor(params)) {\n            return null;\n        }\n        const result = parseColorInputParams(params);\n        return result\n            ? {\n                initialValue: value,\n                params: Object.assign(Object.assign({}, result), { supportsAlpha: shouldSupportAlpha$1(params) }),\n            }\n            : null;\n    },\n    binding: {\n        reader: (args) => {\n            return args.params.supportsAlpha\n                ? colorFromRgbaNumber\n                : colorFromRgbNumber;\n        },\n        equals: equalsColor,\n        writer: (args) => {\n            return createColorNumberWriter(args.params.supportsAlpha);\n        },\n    },\n    controller: (args) => {\n        var _a, _b;\n        return new ColorController(args.document, {\n            colorType: 'int',\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            formatter: createFormatter$1(args.params.supportsAlpha),\n            parser: createColorStringParser('int'),\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            supportsAlpha: args.params.supportsAlpha,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nfunction colorFromObject(value, type) {\n    if (!isColorObject(value)) {\n        return mapColorType(IntColor.black(), type);\n    }\n    if (type === 'int') {\n        const comps = createColorComponentsFromRgbObject(value);\n        return new IntColor(comps, 'rgb');\n    }\n    if (type === 'float') {\n        const comps = createColorComponentsFromRgbObject(value);\n        return new FloatColor(comps, 'rgb');\n    }\n    return mapColorType(IntColor.black(), 'int');\n}\n\nfunction shouldSupportAlpha(initialValue) {\n    return isRgbaColorObject(initialValue);\n}\nfunction createColorObjectBindingReader(type) {\n    return (value) => {\n        const c = colorFromObject(value, type);\n        return mapColorType(c, 'int');\n    };\n}\nfunction createColorObjectFormatter(supportsAlpha, type) {\n    return (value) => {\n        if (supportsAlpha) {\n            return colorToObjectRgbaString(value, type);\n        }\n        return colorToObjectRgbString(value, type);\n    };\n}\nconst ObjectColorInputPlugin = createPlugin({\n    id: 'input-color-object',\n    type: 'input',\n    accept: (value, params) => {\n        var _a;\n        if (!isColorObject(value)) {\n            return null;\n        }\n        const result = parseColorInputParams(params);\n        return result\n            ? {\n                initialValue: value,\n                params: Object.assign(Object.assign({}, result), { colorType: (_a = extractColorType(params)) !== null && _a !== void 0 ? _a : 'int' }),\n            }\n            : null;\n    },\n    binding: {\n        reader: (args) => createColorObjectBindingReader(args.params.colorType),\n        equals: equalsColor,\n        writer: (args) => createColorObjectWriter(shouldSupportAlpha(args.initialValue), args.params.colorType),\n    },\n    controller: (args) => {\n        var _a, _b;\n        const supportsAlpha = isRgbaColorObject(args.initialValue);\n        return new ColorController(args.document, {\n            colorType: args.params.colorType,\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            formatter: createColorObjectFormatter(supportsAlpha, args.params.colorType),\n            parser: createColorStringParser('int'),\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            supportsAlpha: supportsAlpha,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nconst StringColorInputPlugin = createPlugin({\n    id: 'input-color-string',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'string') {\n            return null;\n        }\n        if (params.view === 'text') {\n            return null;\n        }\n        const format = detectStringColorFormat(value, extractColorType(params));\n        if (!format) {\n            return null;\n        }\n        const stringifier = findColorStringifier(format);\n        if (!stringifier) {\n            return null;\n        }\n        const result = parseColorInputParams(params);\n        return result\n            ? {\n                initialValue: value,\n                params: Object.assign(Object.assign({}, result), { format: format, stringifier: stringifier }),\n            }\n            : null;\n    },\n    binding: {\n        reader: () => readIntColorString,\n        equals: equalsColor,\n        writer: (args) => {\n            const writer = createColorStringWriter(args.params.format);\n            if (!writer) {\n                throw TpError.notBindable();\n            }\n            return writer;\n        },\n    },\n    controller: (args) => {\n        var _a, _b;\n        return new ColorController(args.document, {\n            colorType: args.params.format.type,\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            formatter: args.params.stringifier,\n            parser: createColorStringParser('int'),\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            supportsAlpha: args.params.format.alpha,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass PointNdConstraint {\n    constructor(config) {\n        this.components = config.components;\n        this.asm_ = config.assembly;\n    }\n    constrain(value) {\n        const comps = this.asm_\n            .toComponents(value)\n            .map((comp, index) => { var _a, _b; return (_b = (_a = this.components[index]) === null || _a === void 0 ? void 0 : _a.constrain(comp)) !== null && _b !== void 0 ? _b : comp; });\n        return this.asm_.fromComponents(comps);\n    }\n}\n\nconst cn$6 = ClassName('pndtxt');\nclass PointNdTextView {\n    constructor(doc, config) {\n        this.textViews = config.textViews;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$6());\n        this.textViews.forEach((v) => {\n            const axisElem = doc.createElement('div');\n            axisElem.classList.add(cn$6('a'));\n            axisElem.appendChild(v.element);\n            this.element.appendChild(axisElem);\n        });\n    }\n}\n\nfunction createAxisController(doc, config, index) {\n    return new NumberTextController(doc, {\n        arrayPosition: index === 0 ? 'fst' : index === config.axes.length - 1 ? 'lst' : 'mid',\n        parser: config.parser,\n        props: config.axes[index].textProps,\n        value: createValue(0, {\n            constraint: config.axes[index].constraint,\n        }),\n        viewProps: config.viewProps,\n    });\n}\nclass PointNdTextController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.acs_ = config.axes.map((_, index) => createAxisController(doc, config, index));\n        this.acs_.forEach((c, index) => {\n            connectValues({\n                primary: this.value,\n                secondary: c.value,\n                forward: (p) => config.assembly.toComponents(p)[index],\n                backward: (p, s) => {\n                    const comps = config.assembly.toComponents(p);\n                    comps[index] = s;\n                    return config.assembly.fromComponents(comps);\n                },\n            });\n        });\n        this.view = new PointNdTextView(doc, {\n            textViews: this.acs_.map((ac) => ac.view),\n        });\n    }\n    get textControllers() {\n        return this.acs_;\n    }\n}\n\nclass SliderInputBindingApi extends BindingApi {\n    get max() {\n        return this.controller.valueController.sliderController.props.get('max');\n    }\n    set max(max) {\n        this.controller.valueController.sliderController.props.set('max', max);\n    }\n    get min() {\n        return this.controller.valueController.sliderController.props.get('min');\n    }\n    set min(max) {\n        this.controller.valueController.sliderController.props.set('min', max);\n    }\n}\n\nfunction createConstraint$4(params, initialValue) {\n    const constraints = [];\n    const sc = createStepConstraint(params, initialValue);\n    if (sc) {\n        constraints.push(sc);\n    }\n    const rc = createRangeConstraint(params);\n    if (rc) {\n        constraints.push(rc);\n    }\n    const lc = createListConstraint(params.options);\n    if (lc) {\n        constraints.push(lc);\n    }\n    return new CompositeConstraint(constraints);\n}\nconst NumberInputPlugin = createPlugin({\n    id: 'input-number',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'number') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createNumberTextInputParamsParser(p)), { options: p.optional.custom(parseListOptions), readonly: p.optional.constant(false) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => numberFromUnknown,\n        constraint: (args) => createConstraint$4(args.params, args.initialValue),\n        writer: (_args) => writePrimitive,\n    },\n    controller: (args) => {\n        const value = args.value;\n        const c = args.constraint;\n        const lc = c && findConstraint(c, ListConstraint);\n        if (lc) {\n            return new ListController(args.document, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        const textPropsObj = createNumberTextPropsObject(args.params, value.rawValue);\n        const drc = c && findConstraint(c, DefiniteRangeConstraint);\n        if (drc) {\n            return new SliderTextController(args.document, Object.assign(Object.assign({}, createSliderTextProps(Object.assign(Object.assign({}, textPropsObj), { keyScale: createValue(textPropsObj.keyScale), max: drc.values.value('max'), min: drc.values.value('min') }))), { parser: parseNumber, value: value, viewProps: args.viewProps }));\n        }\n        return new NumberTextController(args.document, {\n            parser: parseNumber,\n            props: ValueMap.fromObject(textPropsObj),\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (typeof args.controller.value.rawValue !== 'number') {\n            return null;\n        }\n        if (args.controller.valueController instanceof SliderTextController) {\n            return new SliderInputBindingApi(args.controller);\n        }\n        if (args.controller.valueController instanceof ListController) {\n            return new ListInputBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nclass Point2d {\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n    getComponents() {\n        return [this.x, this.y];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        const x = obj.x;\n        const y = obj.y;\n        if (typeof x !== 'number' || typeof y !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y;\n    }\n    toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n        };\n    }\n}\nconst Point2dAssembly = {\n    toComponents: (p) => p.getComponents(),\n    fromComponents: (comps) => new Point2d(...comps),\n};\n\nconst cn$5 = ClassName('p2d');\nclass Point2dView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$5());\n        config.viewProps.bindClassModifiers(this.element);\n        bindValue(config.expanded, valueToClassName(this.element, cn$5(undefined, 'expanded')));\n        const headElem = doc.createElement('div');\n        headElem.classList.add(cn$5('h'));\n        this.element.appendChild(headElem);\n        const buttonElem = doc.createElement('button');\n        buttonElem.classList.add(cn$5('b'));\n        buttonElem.appendChild(createSvgIconElement(doc, 'p2dpad'));\n        config.viewProps.bindDisabled(buttonElem);\n        headElem.appendChild(buttonElem);\n        this.buttonElement = buttonElem;\n        const textElem = doc.createElement('div');\n        textElem.classList.add(cn$5('t'));\n        headElem.appendChild(textElem);\n        this.textElement = textElem;\n        if (config.pickerLayout === 'inline') {\n            const pickerElem = doc.createElement('div');\n            pickerElem.classList.add(cn$5('p'));\n            this.element.appendChild(pickerElem);\n            this.pickerElement = pickerElem;\n        }\n        else {\n            this.pickerElement = null;\n        }\n    }\n}\n\nconst cn$4 = ClassName('p2dp');\nclass Point2dPickerView {\n    constructor(doc, config) {\n        this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n        this.onPropsChange_ = this.onPropsChange_.bind(this);\n        this.onValueChange_ = this.onValueChange_.bind(this);\n        this.props_ = config.props;\n        this.props_.emitter.on('change', this.onPropsChange_);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$4());\n        if (config.layout === 'popup') {\n            this.element.classList.add(cn$4(undefined, 'p'));\n        }\n        config.viewProps.bindClassModifiers(this.element);\n        const padElem = doc.createElement('div');\n        padElem.classList.add(cn$4('p'));\n        config.viewProps.bindTabIndex(padElem);\n        this.element.appendChild(padElem);\n        this.padElement = padElem;\n        const svgElem = doc.createElementNS(SVG_NS, 'svg');\n        svgElem.classList.add(cn$4('g'));\n        this.padElement.appendChild(svgElem);\n        this.svgElem_ = svgElem;\n        const xAxisElem = doc.createElementNS(SVG_NS, 'line');\n        xAxisElem.classList.add(cn$4('ax'));\n        xAxisElem.setAttributeNS(null, 'x1', '0');\n        xAxisElem.setAttributeNS(null, 'y1', '50%');\n        xAxisElem.setAttributeNS(null, 'x2', '100%');\n        xAxisElem.setAttributeNS(null, 'y2', '50%');\n        this.svgElem_.appendChild(xAxisElem);\n        const yAxisElem = doc.createElementNS(SVG_NS, 'line');\n        yAxisElem.classList.add(cn$4('ax'));\n        yAxisElem.setAttributeNS(null, 'x1', '50%');\n        yAxisElem.setAttributeNS(null, 'y1', '0');\n        yAxisElem.setAttributeNS(null, 'x2', '50%');\n        yAxisElem.setAttributeNS(null, 'y2', '100%');\n        this.svgElem_.appendChild(yAxisElem);\n        const lineElem = doc.createElementNS(SVG_NS, 'line');\n        lineElem.classList.add(cn$4('l'));\n        lineElem.setAttributeNS(null, 'x1', '50%');\n        lineElem.setAttributeNS(null, 'y1', '50%');\n        this.svgElem_.appendChild(lineElem);\n        this.lineElem_ = lineElem;\n        const markerElem = doc.createElement('div');\n        markerElem.classList.add(cn$4('m'));\n        this.padElement.appendChild(markerElem);\n        this.markerElem_ = markerElem;\n        config.value.emitter.on('change', this.onValueChange_);\n        this.value = config.value;\n        this.update_();\n    }\n    get allFocusableElements() {\n        return [this.padElement];\n    }\n    update_() {\n        const [x, y] = this.value.rawValue.getComponents();\n        const max = this.props_.get('max');\n        const px = mapRange(x, -max, +max, 0, 100);\n        const py = mapRange(y, -max, +max, 0, 100);\n        const ipy = this.props_.get('invertsY') ? 100 - py : py;\n        this.lineElem_.setAttributeNS(null, 'x2', `${px}%`);\n        this.lineElem_.setAttributeNS(null, 'y2', `${ipy}%`);\n        this.markerElem_.style.left = `${px}%`;\n        this.markerElem_.style.top = `${ipy}%`;\n    }\n    onValueChange_() {\n        this.update_();\n    }\n    onPropsChange_() {\n        this.update_();\n    }\n    onFoldableChange_() {\n        this.update_();\n    }\n}\n\nfunction computeOffset(ev, keyScales, invertsY) {\n    return [\n        getStepForKey(keyScales[0], getHorizontalStepKeys(ev)),\n        getStepForKey(keyScales[1], getVerticalStepKeys(ev)) * (invertsY ? 1 : -1),\n    ];\n}\nclass Point2dPickerController {\n    constructor(doc, config) {\n        this.onPadKeyDown_ = this.onPadKeyDown_.bind(this);\n        this.onPadKeyUp_ = this.onPadKeyUp_.bind(this);\n        this.onPointerDown_ = this.onPointerDown_.bind(this);\n        this.onPointerMove_ = this.onPointerMove_.bind(this);\n        this.onPointerUp_ = this.onPointerUp_.bind(this);\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new Point2dPickerView(doc, {\n            layout: config.layout,\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.ptHandler_ = new PointerHandler(this.view.padElement);\n        this.ptHandler_.emitter.on('down', this.onPointerDown_);\n        this.ptHandler_.emitter.on('move', this.onPointerMove_);\n        this.ptHandler_.emitter.on('up', this.onPointerUp_);\n        this.view.padElement.addEventListener('keydown', this.onPadKeyDown_);\n        this.view.padElement.addEventListener('keyup', this.onPadKeyUp_);\n    }\n    handlePointerEvent_(d, opts) {\n        if (!d.point) {\n            return;\n        }\n        const max = this.props.get('max');\n        const px = mapRange(d.point.x, 0, d.bounds.width, -max, +max);\n        const py = mapRange(this.props.get('invertsY') ? d.bounds.height - d.point.y : d.point.y, 0, d.bounds.height, -max, +max);\n        this.value.setRawValue(new Point2d(px, py), opts);\n    }\n    onPointerDown_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerMove_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPointerUp_(ev) {\n        this.handlePointerEvent_(ev.data, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n    onPadKeyDown_(ev) {\n        if (isArrowKey(ev.key)) {\n            ev.preventDefault();\n        }\n        const [dx, dy] = computeOffset(ev, [this.props.get('xKeyScale'), this.props.get('yKeyScale')], this.props.get('invertsY'));\n        if (dx === 0 && dy === 0) {\n            return;\n        }\n        this.value.setRawValue(new Point2d(this.value.rawValue.x + dx, this.value.rawValue.y + dy), {\n            forceEmit: false,\n            last: false,\n        });\n    }\n    onPadKeyUp_(ev) {\n        const [dx, dy] = computeOffset(ev, [this.props.get('xKeyScale'), this.props.get('yKeyScale')], this.props.get('invertsY'));\n        if (dx === 0 && dy === 0) {\n            return;\n        }\n        this.value.setRawValue(this.value.rawValue, {\n            forceEmit: true,\n            last: true,\n        });\n    }\n}\n\nclass Point2dController {\n    constructor(doc, config) {\n        var _a, _b;\n        this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n        this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n        this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this);\n        this.onPadButtonClick_ = this.onPadButtonClick_.bind(this);\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.foldable_ = Foldable.create(config.expanded);\n        this.popC_ =\n            config.pickerLayout === 'popup'\n                ? new PopupController(doc, {\n                    viewProps: this.viewProps,\n                })\n                : null;\n        const padC = new Point2dPickerController(doc, {\n            layout: config.pickerLayout,\n            props: new ValueMap({\n                invertsY: createValue(config.invertsY),\n                max: createValue(config.max),\n                xKeyScale: config.axes[0].textProps.value('keyScale'),\n                yKeyScale: config.axes[1].textProps.value('keyScale'),\n            }),\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        padC.view.allFocusableElements.forEach((elem) => {\n            elem.addEventListener('blur', this.onPopupChildBlur_);\n            elem.addEventListener('keydown', this.onPopupChildKeydown_);\n        });\n        this.pickerC_ = padC;\n        this.textC_ = new PointNdTextController(doc, {\n            assembly: Point2dAssembly,\n            axes: config.axes,\n            parser: config.parser,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        this.view = new Point2dView(doc, {\n            expanded: this.foldable_.value('expanded'),\n            pickerLayout: config.pickerLayout,\n            viewProps: this.viewProps,\n        });\n        this.view.textElement.appendChild(this.textC_.view.element);\n        (_a = this.view.buttonElement) === null || _a === void 0 ? void 0 : _a.addEventListener('blur', this.onPadButtonBlur_);\n        (_b = this.view.buttonElement) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.onPadButtonClick_);\n        if (this.popC_) {\n            this.view.element.appendChild(this.popC_.view.element);\n            this.popC_.view.element.appendChild(this.pickerC_.view.element);\n            connectValues({\n                primary: this.foldable_.value('expanded'),\n                secondary: this.popC_.shows,\n                forward: (p) => p,\n                backward: (_, s) => s,\n            });\n        }\n        else if (this.view.pickerElement) {\n            this.view.pickerElement.appendChild(this.pickerC_.view.element);\n            bindFoldable(this.foldable_, this.view.pickerElement);\n        }\n    }\n    get textController() {\n        return this.textC_;\n    }\n    onPadButtonBlur_(e) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.view.element;\n        const nextTarget = forceCast(e.relatedTarget);\n        if (!nextTarget || !elem.contains(nextTarget)) {\n            this.popC_.shows.rawValue = false;\n        }\n    }\n    onPadButtonClick_() {\n        this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n        if (this.foldable_.get('expanded')) {\n            this.pickerC_.view.allFocusableElements[0].focus();\n        }\n    }\n    onPopupChildBlur_(ev) {\n        if (!this.popC_) {\n            return;\n        }\n        const elem = this.popC_.view.element;\n        const nextTarget = findNextTarget(ev);\n        if (nextTarget && elem.contains(nextTarget)) {\n            return;\n        }\n        if (nextTarget &&\n            nextTarget === this.view.buttonElement &&\n            !supportsTouch(elem.ownerDocument)) {\n            return;\n        }\n        this.popC_.shows.rawValue = false;\n    }\n    onPopupChildKeydown_(ev) {\n        if (this.popC_) {\n            if (ev.key === 'Escape') {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        else if (this.view.pickerElement) {\n            if (ev.key === 'Escape') {\n                this.view.buttonElement.focus();\n            }\n        }\n    }\n}\n\nfunction point2dFromUnknown(value) {\n    return Point2d.isObject(value)\n        ? new Point2d(value.x, value.y)\n        : new Point2d();\n}\nfunction writePoint2d(target, value) {\n    target.writeProperty('x', value.x);\n    target.writeProperty('y', value.y);\n}\n\nfunction createConstraint$3(params, initialValue) {\n    return new PointNdConstraint({\n        assembly: Point2dAssembly,\n        components: [\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.x), initialValue.x),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.y), initialValue.y),\n        ],\n    });\n}\nfunction getSuitableMaxDimensionValue(params, rawValue) {\n    var _a, _b;\n    if (!isEmpty(params.min) || !isEmpty(params.max)) {\n        return Math.max(Math.abs((_a = params.min) !== null && _a !== void 0 ? _a : 0), Math.abs((_b = params.max) !== null && _b !== void 0 ? _b : 0));\n    }\n    const step = getSuitableKeyScale(params);\n    return Math.max(Math.abs(step) * 10, Math.abs(rawValue) * 10);\n}\nfunction getSuitableMax(params, initialValue) {\n    var _a, _b;\n    const xr = getSuitableMaxDimensionValue(deepMerge(params, ((_a = params.x) !== null && _a !== void 0 ? _a : {})), initialValue.x);\n    const yr = getSuitableMaxDimensionValue(deepMerge(params, ((_b = params.y) !== null && _b !== void 0 ? _b : {})), initialValue.y);\n    return Math.max(xr, yr);\n}\nfunction shouldInvertY(params) {\n    if (!('y' in params)) {\n        return false;\n    }\n    const yParams = params.y;\n    if (!yParams) {\n        return false;\n    }\n    return 'inverted' in yParams ? !!yParams.inverted : false;\n}\nconst Point2dInputPlugin = createPlugin({\n    id: 'input-point2d',\n    type: 'input',\n    accept: (value, params) => {\n        if (!Point2d.isObject(value)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createPointDimensionParser(p)), { expanded: p.optional.boolean, picker: p.optional.custom(parsePickerLayout), readonly: p.optional.constant(false), x: p.optional.custom(parsePointDimensionParams), y: p.optional.object(Object.assign(Object.assign({}, createPointDimensionParser(p)), { inverted: p.optional.boolean })) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: () => point2dFromUnknown,\n        constraint: (args) => createConstraint$3(args.params, args.initialValue),\n        equals: Point2d.equals,\n        writer: () => writePoint2d,\n    },\n    controller: (args) => {\n        var _a, _b;\n        const doc = args.document;\n        const value = args.value;\n        const c = args.constraint;\n        const dParams = [args.params.x, args.params.y];\n        return new Point2dController(doc, {\n            axes: value.rawValue.getComponents().map((comp, i) => {\n                var _a;\n                return createPointAxis({\n                    constraint: c.components[i],\n                    initialValue: comp,\n                    params: deepMerge(args.params, ((_a = dParams[i]) !== null && _a !== void 0 ? _a : {})),\n                });\n            }),\n            expanded: (_a = args.params.expanded) !== null && _a !== void 0 ? _a : false,\n            invertsY: shouldInvertY(args.params),\n            max: getSuitableMax(args.params, value.rawValue),\n            parser: parseNumber,\n            pickerLayout: (_b = args.params.picker) !== null && _b !== void 0 ? _b : 'popup',\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass Point3d {\n    constructor(x = 0, y = 0, z = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    getComponents() {\n        return [this.x, this.y, this.z];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        const x = obj.x;\n        const y = obj.y;\n        const z = obj.z;\n        if (typeof x !== 'number' ||\n            typeof y !== 'number' ||\n            typeof z !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n    }\n    toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n            z: this.z,\n        };\n    }\n}\nconst Point3dAssembly = {\n    toComponents: (p) => p.getComponents(),\n    fromComponents: (comps) => new Point3d(...comps),\n};\n\nfunction point3dFromUnknown(value) {\n    return Point3d.isObject(value)\n        ? new Point3d(value.x, value.y, value.z)\n        : new Point3d();\n}\nfunction writePoint3d(target, value) {\n    target.writeProperty('x', value.x);\n    target.writeProperty('y', value.y);\n    target.writeProperty('z', value.z);\n}\n\nfunction createConstraint$2(params, initialValue) {\n    return new PointNdConstraint({\n        assembly: Point3dAssembly,\n        components: [\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.x), initialValue.x),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.y), initialValue.y),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.z), initialValue.z),\n        ],\n    });\n}\nconst Point3dInputPlugin = createPlugin({\n    id: 'input-point3d',\n    type: 'input',\n    accept: (value, params) => {\n        if (!Point3d.isObject(value)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createPointDimensionParser(p)), { readonly: p.optional.constant(false), x: p.optional.custom(parsePointDimensionParams), y: p.optional.custom(parsePointDimensionParams), z: p.optional.custom(parsePointDimensionParams) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => point3dFromUnknown,\n        constraint: (args) => createConstraint$2(args.params, args.initialValue),\n        equals: Point3d.equals,\n        writer: (_args) => writePoint3d,\n    },\n    controller: (args) => {\n        const value = args.value;\n        const c = args.constraint;\n        const dParams = [args.params.x, args.params.y, args.params.z];\n        return new PointNdTextController(args.document, {\n            assembly: Point3dAssembly,\n            axes: value.rawValue.getComponents().map((comp, i) => {\n                var _a;\n                return createPointAxis({\n                    constraint: c.components[i],\n                    initialValue: comp,\n                    params: deepMerge(args.params, ((_a = dParams[i]) !== null && _a !== void 0 ? _a : {})),\n                });\n            }),\n            parser: parseNumber,\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass Point4d {\n    constructor(x = 0, y = 0, z = 0, w = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n    getComponents() {\n        return [this.x, this.y, this.z, this.w];\n    }\n    static isObject(obj) {\n        if (isEmpty(obj)) {\n            return false;\n        }\n        const x = obj.x;\n        const y = obj.y;\n        const z = obj.z;\n        const w = obj.w;\n        if (typeof x !== 'number' ||\n            typeof y !== 'number' ||\n            typeof z !== 'number' ||\n            typeof w !== 'number') {\n            return false;\n        }\n        return true;\n    }\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z && v1.w === v2.w;\n    }\n    toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n            z: this.z,\n            w: this.w,\n        };\n    }\n}\nconst Point4dAssembly = {\n    toComponents: (p) => p.getComponents(),\n    fromComponents: (comps) => new Point4d(...comps),\n};\n\nfunction point4dFromUnknown(value) {\n    return Point4d.isObject(value)\n        ? new Point4d(value.x, value.y, value.z, value.w)\n        : new Point4d();\n}\nfunction writePoint4d(target, value) {\n    target.writeProperty('x', value.x);\n    target.writeProperty('y', value.y);\n    target.writeProperty('z', value.z);\n    target.writeProperty('w', value.w);\n}\n\nfunction createConstraint$1(params, initialValue) {\n    return new PointNdConstraint({\n        assembly: Point4dAssembly,\n        components: [\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.x), initialValue.x),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.y), initialValue.y),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.z), initialValue.z),\n            createDimensionConstraint(Object.assign(Object.assign({}, params), params.w), initialValue.w),\n        ],\n    });\n}\nconst Point4dInputPlugin = createPlugin({\n    id: 'input-point4d',\n    type: 'input',\n    accept: (value, params) => {\n        if (!Point4d.isObject(value)) {\n            return null;\n        }\n        const result = parseRecord(params, (p) => (Object.assign(Object.assign({}, createPointDimensionParser(p)), { readonly: p.optional.constant(false), w: p.optional.custom(parsePointDimensionParams), x: p.optional.custom(parsePointDimensionParams), y: p.optional.custom(parsePointDimensionParams), z: p.optional.custom(parsePointDimensionParams) })));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => point4dFromUnknown,\n        constraint: (args) => createConstraint$1(args.params, args.initialValue),\n        equals: Point4d.equals,\n        writer: (_args) => writePoint4d,\n    },\n    controller: (args) => {\n        const value = args.value;\n        const c = args.constraint;\n        const dParams = [\n            args.params.x,\n            args.params.y,\n            args.params.z,\n            args.params.w,\n        ];\n        return new PointNdTextController(args.document, {\n            assembly: Point4dAssembly,\n            axes: value.rawValue.getComponents().map((comp, i) => {\n                var _a;\n                return createPointAxis({\n                    constraint: c.components[i],\n                    initialValue: comp,\n                    params: deepMerge(args.params, ((_a = dParams[i]) !== null && _a !== void 0 ? _a : {})),\n                });\n            }),\n            parser: parseNumber,\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nfunction createConstraint(params) {\n    const constraints = [];\n    const lc = createListConstraint(params.options);\n    if (lc) {\n        constraints.push(lc);\n    }\n    return new CompositeConstraint(constraints);\n}\nconst StringInputPlugin = createPlugin({\n    id: 'input-string',\n    type: 'input',\n    accept: (value, params) => {\n        if (typeof value !== 'string') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            readonly: p.optional.constant(false),\n            options: p.optional.custom(parseListOptions),\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => stringFromUnknown,\n        constraint: (args) => createConstraint(args.params),\n        writer: (_args) => writePrimitive,\n    },\n    controller: (args) => {\n        const doc = args.document;\n        const value = args.value;\n        const c = args.constraint;\n        const lc = c && findConstraint(c, ListConstraint);\n        if (lc) {\n            return new ListController(doc, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new TextController(doc, {\n            parser: (v) => v,\n            props: ValueMap.fromObject({\n                formatter: formatString,\n            }),\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (typeof args.controller.value.rawValue !== 'string') {\n            return null;\n        }\n        if (args.controller.valueController instanceof ListController) {\n            return new ListInputBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nconst Constants = {\n    monitor: {\n        defaultInterval: 200,\n        defaultRows: 3,\n    },\n};\n\nconst cn$3 = ClassName('mll');\nclass MultiLogView {\n    constructor(doc, config) {\n        this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n        this.formatter_ = config.formatter;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$3());\n        config.viewProps.bindClassModifiers(this.element);\n        const textareaElem = doc.createElement('textarea');\n        textareaElem.classList.add(cn$3('i'));\n        textareaElem.style.height = `calc(var(${getCssVar('containerUnitSize')}) * ${config.rows})`;\n        textareaElem.readOnly = true;\n        config.viewProps.bindDisabled(textareaElem);\n        this.element.appendChild(textareaElem);\n        this.textareaElem_ = textareaElem;\n        config.value.emitter.on('change', this.onValueUpdate_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        const elem = this.textareaElem_;\n        const shouldScroll = elem.scrollTop === elem.scrollHeight - elem.clientHeight;\n        const lines = [];\n        this.value.rawValue.forEach((value) => {\n            if (value !== undefined) {\n                lines.push(this.formatter_(value));\n            }\n        });\n        elem.textContent = lines.join('\\n');\n        if (shouldScroll) {\n            elem.scrollTop = elem.scrollHeight;\n        }\n    }\n    onValueUpdate_() {\n        this.update_();\n    }\n}\n\nclass MultiLogController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new MultiLogView(doc, {\n            formatter: config.formatter,\n            rows: config.rows,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nconst cn$2 = ClassName('sgl');\nclass SingleLogView {\n    constructor(doc, config) {\n        this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n        this.formatter_ = config.formatter;\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$2());\n        config.viewProps.bindClassModifiers(this.element);\n        const inputElem = doc.createElement('input');\n        inputElem.classList.add(cn$2('i'));\n        inputElem.readOnly = true;\n        inputElem.type = 'text';\n        config.viewProps.bindDisabled(inputElem);\n        this.element.appendChild(inputElem);\n        this.inputElement = inputElem;\n        config.value.emitter.on('change', this.onValueUpdate_);\n        this.value = config.value;\n        this.update_();\n    }\n    update_() {\n        const values = this.value.rawValue;\n        const lastValue = values[values.length - 1];\n        this.inputElement.value =\n            lastValue !== undefined ? this.formatter_(lastValue) : '';\n    }\n    onValueUpdate_() {\n        this.update_();\n    }\n}\n\nclass SingleLogController {\n    constructor(doc, config) {\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.view = new SingleLogView(doc, {\n            formatter: config.formatter,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n    }\n}\n\nconst BooleanMonitorPlugin = createPlugin({\n    id: 'monitor-bool',\n    type: 'monitor',\n    accept: (value, params) => {\n        if (typeof value !== 'boolean') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            readonly: p.required.constant(true),\n            rows: p.optional.number,\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => boolFromUnknown,\n    },\n    controller: (args) => {\n        var _a;\n        if (args.value.rawValue.length === 1) {\n            return new SingleLogController(args.document, {\n                formatter: BooleanFormatter,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new MultiLogController(args.document, {\n            formatter: BooleanFormatter,\n            rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass GraphLogMonitorBindingApi extends BindingApi {\n    get max() {\n        return this.controller.valueController.props.get('max');\n    }\n    set max(max) {\n        this.controller.valueController.props.set('max', max);\n    }\n    get min() {\n        return this.controller.valueController.props.get('min');\n    }\n    set min(min) {\n        this.controller.valueController.props.set('min', min);\n    }\n}\n\nconst cn$1 = ClassName('grl');\nclass GraphLogView {\n    constructor(doc, config) {\n        this.onCursorChange_ = this.onCursorChange_.bind(this);\n        this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn$1());\n        config.viewProps.bindClassModifiers(this.element);\n        this.formatter_ = config.formatter;\n        this.props_ = config.props;\n        this.cursor_ = config.cursor;\n        this.cursor_.emitter.on('change', this.onCursorChange_);\n        const svgElem = doc.createElementNS(SVG_NS, 'svg');\n        svgElem.classList.add(cn$1('g'));\n        svgElem.style.height = `calc(var(${getCssVar('containerUnitSize')}) * ${config.rows})`;\n        this.element.appendChild(svgElem);\n        this.svgElem_ = svgElem;\n        const lineElem = doc.createElementNS(SVG_NS, 'polyline');\n        this.svgElem_.appendChild(lineElem);\n        this.lineElem_ = lineElem;\n        const tooltipElem = doc.createElement('div');\n        tooltipElem.classList.add(cn$1('t'), ClassName('tt')());\n        this.element.appendChild(tooltipElem);\n        this.tooltipElem_ = tooltipElem;\n        config.value.emitter.on('change', this.onValueUpdate_);\n        this.value = config.value;\n        this.update_();\n    }\n    get graphElement() {\n        return this.svgElem_;\n    }\n    update_() {\n        const { clientWidth: w, clientHeight: h } = this.element;\n        const maxIndex = this.value.rawValue.length - 1;\n        const min = this.props_.get('min');\n        const max = this.props_.get('max');\n        const points = [];\n        this.value.rawValue.forEach((v, index) => {\n            if (v === undefined) {\n                return;\n            }\n            const x = mapRange(index, 0, maxIndex, 0, w);\n            const y = mapRange(v, min, max, h, 0);\n            points.push([x, y].join(','));\n        });\n        this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n        const tooltipElem = this.tooltipElem_;\n        const value = this.value.rawValue[this.cursor_.rawValue];\n        if (value === undefined) {\n            tooltipElem.classList.remove(cn$1('t', 'a'));\n            return;\n        }\n        const tx = mapRange(this.cursor_.rawValue, 0, maxIndex, 0, w);\n        const ty = mapRange(value, min, max, h, 0);\n        tooltipElem.style.left = `${tx}px`;\n        tooltipElem.style.top = `${ty}px`;\n        tooltipElem.textContent = `${this.formatter_(value)}`;\n        if (!tooltipElem.classList.contains(cn$1('t', 'a'))) {\n            tooltipElem.classList.add(cn$1('t', 'a'), cn$1('t', 'in'));\n            forceReflow(tooltipElem);\n            tooltipElem.classList.remove(cn$1('t', 'in'));\n        }\n    }\n    onValueUpdate_() {\n        this.update_();\n    }\n    onCursorChange_() {\n        this.update_();\n    }\n}\n\nclass GraphLogController {\n    constructor(doc, config) {\n        this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this);\n        this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this);\n        this.onGraphPointerDown_ = this.onGraphPointerDown_.bind(this);\n        this.onGraphPointerMove_ = this.onGraphPointerMove_.bind(this);\n        this.onGraphPointerUp_ = this.onGraphPointerUp_.bind(this);\n        this.props = config.props;\n        this.value = config.value;\n        this.viewProps = config.viewProps;\n        this.cursor_ = createValue(-1);\n        this.view = new GraphLogView(doc, {\n            cursor: this.cursor_,\n            formatter: config.formatter,\n            rows: config.rows,\n            props: this.props,\n            value: this.value,\n            viewProps: this.viewProps,\n        });\n        if (!supportsTouch(doc)) {\n            this.view.element.addEventListener('mousemove', this.onGraphMouseMove_);\n            this.view.element.addEventListener('mouseleave', this.onGraphMouseLeave_);\n        }\n        else {\n            const ph = new PointerHandler(this.view.element);\n            ph.emitter.on('down', this.onGraphPointerDown_);\n            ph.emitter.on('move', this.onGraphPointerMove_);\n            ph.emitter.on('up', this.onGraphPointerUp_);\n        }\n    }\n    importProps(state) {\n        return importBladeState(state, null, (p) => ({\n            max: p.required.number,\n            min: p.required.number,\n        }), (result) => {\n            this.props.set('max', result.max);\n            this.props.set('min', result.min);\n            return true;\n        });\n    }\n    exportProps() {\n        return exportBladeState(null, {\n            max: this.props.get('max'),\n            min: this.props.get('min'),\n        });\n    }\n    onGraphMouseLeave_() {\n        this.cursor_.rawValue = -1;\n    }\n    onGraphMouseMove_(ev) {\n        const { clientWidth: w } = this.view.element;\n        this.cursor_.rawValue = Math.floor(mapRange(ev.offsetX, 0, w, 0, this.value.rawValue.length));\n    }\n    onGraphPointerDown_(ev) {\n        this.onGraphPointerMove_(ev);\n    }\n    onGraphPointerMove_(ev) {\n        if (!ev.data.point) {\n            this.cursor_.rawValue = -1;\n            return;\n        }\n        this.cursor_.rawValue = Math.floor(mapRange(ev.data.point.x, 0, ev.data.bounds.width, 0, this.value.rawValue.length));\n    }\n    onGraphPointerUp_() {\n        this.cursor_.rawValue = -1;\n    }\n}\n\nfunction createFormatter(params) {\n    return !isEmpty(params.format) ? params.format : createNumberFormatter(2);\n}\nfunction createTextMonitor(args) {\n    var _a;\n    if (args.value.rawValue.length === 1) {\n        return new SingleLogController(args.document, {\n            formatter: createFormatter(args.params),\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    return new MultiLogController(args.document, {\n        formatter: createFormatter(args.params),\n        rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n        value: args.value,\n        viewProps: args.viewProps,\n    });\n}\nfunction createGraphMonitor(args) {\n    var _a, _b, _c;\n    return new GraphLogController(args.document, {\n        formatter: createFormatter(args.params),\n        rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n        props: ValueMap.fromObject({\n            max: (_b = args.params.max) !== null && _b !== void 0 ? _b : 100,\n            min: (_c = args.params.min) !== null && _c !== void 0 ? _c : 0,\n        }),\n        value: args.value,\n        viewProps: args.viewProps,\n    });\n}\nfunction shouldShowGraph(params) {\n    return params.view === 'graph';\n}\nconst NumberMonitorPlugin = createPlugin({\n    id: 'monitor-number',\n    type: 'monitor',\n    accept: (value, params) => {\n        if (typeof value !== 'number') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            format: p.optional.function,\n            max: p.optional.number,\n            min: p.optional.number,\n            readonly: p.required.constant(true),\n            rows: p.optional.number,\n            view: p.optional.string,\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        defaultBufferSize: (params) => (shouldShowGraph(params) ? 64 : 1),\n        reader: (_args) => numberFromUnknown,\n    },\n    controller: (args) => {\n        if (shouldShowGraph(args.params)) {\n            return createGraphMonitor(args);\n        }\n        return createTextMonitor(args);\n    },\n    api: (args) => {\n        if (args.controller.valueController instanceof GraphLogController) {\n            return new GraphLogMonitorBindingApi(args.controller);\n        }\n        return null;\n    },\n});\n\nconst StringMonitorPlugin = createPlugin({\n    id: 'monitor-string',\n    type: 'monitor',\n    accept: (value, params) => {\n        if (typeof value !== 'string') {\n            return null;\n        }\n        const result = parseRecord(params, (p) => ({\n            multiline: p.optional.boolean,\n            readonly: p.required.constant(true),\n            rows: p.optional.number,\n        }));\n        return result\n            ? {\n                initialValue: value,\n                params: result,\n            }\n            : null;\n    },\n    binding: {\n        reader: (_args) => stringFromUnknown,\n    },\n    controller: (args) => {\n        var _a;\n        const value = args.value;\n        const multiline = value.rawValue.length > 1 || args.params.multiline;\n        if (multiline) {\n            return new MultiLogController(args.document, {\n                formatter: formatString,\n                rows: (_a = args.params.rows) !== null && _a !== void 0 ? _a : Constants.monitor.defaultRows,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new SingleLogController(args.document, {\n            formatter: formatString,\n            value: value,\n            viewProps: args.viewProps,\n        });\n    },\n});\n\nclass BladeApiCache {\n    constructor() {\n        this.map_ = new Map();\n    }\n    get(bc) {\n        var _a;\n        return (_a = this.map_.get(bc)) !== null && _a !== void 0 ? _a : null;\n    }\n    has(bc) {\n        return this.map_.has(bc);\n    }\n    add(bc, api) {\n        this.map_.set(bc, api);\n        bc.viewProps.handleDispose(() => {\n            this.map_.delete(bc);\n        });\n        return api;\n    }\n}\n\nclass ReadWriteBinding {\n    constructor(config) {\n        this.target = config.target;\n        this.reader_ = config.reader;\n        this.writer_ = config.writer;\n    }\n    read() {\n        return this.reader_(this.target.read());\n    }\n    write(value) {\n        this.writer_(this.target, value);\n    }\n    inject(value) {\n        this.write(this.reader_(value));\n    }\n}\n\nfunction createInputBindingController(plugin, args) {\n    var _a;\n    const result = plugin.accept(args.target.read(), args.params);\n    if (isEmpty(result)) {\n        return null;\n    }\n    const valueArgs = {\n        target: args.target,\n        initialValue: result.initialValue,\n        params: result.params,\n    };\n    const params = parseRecord(args.params, (p) => ({\n        disabled: p.optional.boolean,\n        hidden: p.optional.boolean,\n        label: p.optional.string,\n        tag: p.optional.string,\n    }));\n    const reader = plugin.binding.reader(valueArgs);\n    const constraint = plugin.binding.constraint\n        ? plugin.binding.constraint(valueArgs)\n        : undefined;\n    const binding = new ReadWriteBinding({\n        reader: reader,\n        target: args.target,\n        writer: plugin.binding.writer(valueArgs),\n    });\n    const value = new InputBindingValue(createValue(reader(result.initialValue), {\n        constraint: constraint,\n        equals: plugin.binding.equals,\n    }), binding);\n    const controller = plugin.controller({\n        constraint: constraint,\n        document: args.document,\n        initialValue: result.initialValue,\n        params: result.params,\n        value: value,\n        viewProps: ViewProps.create({\n            disabled: params === null || params === void 0 ? void 0 : params.disabled,\n            hidden: params === null || params === void 0 ? void 0 : params.hidden,\n        }),\n    });\n    return new InputBindingController(args.document, {\n        blade: createBlade(),\n        props: ValueMap.fromObject({\n            label: 'label' in args.params ? (_a = params === null || params === void 0 ? void 0 : params.label) !== null && _a !== void 0 ? _a : null : args.target.key,\n        }),\n        tag: params === null || params === void 0 ? void 0 : params.tag,\n        value: value,\n        valueController: controller,\n    });\n}\n\nclass ReadonlyBinding {\n    constructor(config) {\n        this.target = config.target;\n        this.reader_ = config.reader;\n    }\n    read() {\n        return this.reader_(this.target.read());\n    }\n}\n\nfunction createTicker(document, interval) {\n    return interval === 0\n        ? new ManualTicker()\n        : new IntervalTicker(document, interval !== null && interval !== void 0 ? interval : Constants.monitor.defaultInterval);\n}\nfunction createMonitorBindingController(plugin, args) {\n    var _a, _b, _c;\n    const result = plugin.accept(args.target.read(), args.params);\n    if (isEmpty(result)) {\n        return null;\n    }\n    const bindingArgs = {\n        target: args.target,\n        initialValue: result.initialValue,\n        params: result.params,\n    };\n    const params = parseRecord(args.params, (p) => ({\n        bufferSize: p.optional.number,\n        disabled: p.optional.boolean,\n        hidden: p.optional.boolean,\n        interval: p.optional.number,\n        label: p.optional.string,\n    }));\n    const reader = plugin.binding.reader(bindingArgs);\n    const bufferSize = (_b = (_a = params === null || params === void 0 ? void 0 : params.bufferSize) !== null && _a !== void 0 ? _a : (plugin.binding.defaultBufferSize &&\n        plugin.binding.defaultBufferSize(result.params))) !== null && _b !== void 0 ? _b : 1;\n    const value = new MonitorBindingValue({\n        binding: new ReadonlyBinding({\n            reader: reader,\n            target: args.target,\n        }),\n        bufferSize: bufferSize,\n        ticker: createTicker(args.document, params === null || params === void 0 ? void 0 : params.interval),\n    });\n    const controller = plugin.controller({\n        document: args.document,\n        params: result.params,\n        value: value,\n        viewProps: ViewProps.create({\n            disabled: params === null || params === void 0 ? void 0 : params.disabled,\n            hidden: params === null || params === void 0 ? void 0 : params.hidden,\n        }),\n    });\n    controller.viewProps.bindDisabled(value.ticker);\n    controller.viewProps.handleDispose(() => {\n        value.ticker.dispose();\n    });\n    return new MonitorBindingController(args.document, {\n        blade: createBlade(),\n        props: ValueMap.fromObject({\n            label: 'label' in args.params ? (_c = params === null || params === void 0 ? void 0 : params.label) !== null && _c !== void 0 ? _c : null : args.target.key,\n        }),\n        value: value,\n        valueController: controller,\n    });\n}\n\nclass PluginPool {\n    constructor(apiCache) {\n        this.pluginsMap_ = {\n            blades: [],\n            inputs: [],\n            monitors: [],\n        };\n        this.apiCache_ = apiCache;\n    }\n    getAll() {\n        return [\n            ...this.pluginsMap_.blades,\n            ...this.pluginsMap_.inputs,\n            ...this.pluginsMap_.monitors,\n        ];\n    }\n    register(bundleId, r) {\n        if (!isCompatible(r.core)) {\n            throw TpError.notCompatible(bundleId, r.id);\n        }\n        if (r.type === 'blade') {\n            this.pluginsMap_.blades.unshift(r);\n        }\n        else if (r.type === 'input') {\n            this.pluginsMap_.inputs.unshift(r);\n        }\n        else if (r.type === 'monitor') {\n            this.pluginsMap_.monitors.unshift(r);\n        }\n    }\n    createInput_(document, target, params) {\n        return this.pluginsMap_.inputs.reduce((result, plugin) => result !== null && result !== void 0 ? result : createInputBindingController(plugin, {\n            document: document,\n            target: target,\n            params: params,\n        }), null);\n    }\n    createMonitor_(document, target, params) {\n        return this.pluginsMap_.monitors.reduce((result, plugin) => result !== null && result !== void 0 ? result : createMonitorBindingController(plugin, {\n            document: document,\n            params: params,\n            target: target,\n        }), null);\n    }\n    createBinding(doc, target, params) {\n        const initialValue = target.read();\n        if (isEmpty(initialValue)) {\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        const ic = this.createInput_(doc, target, params);\n        if (ic) {\n            return ic;\n        }\n        const mc = this.createMonitor_(doc, target, params);\n        if (mc) {\n            return mc;\n        }\n        throw new TpError({\n            context: {\n                key: target.key,\n            },\n            type: 'nomatchingcontroller',\n        });\n    }\n    createBlade(document, params) {\n        const bc = this.pluginsMap_.blades.reduce((result, plugin) => result !== null && result !== void 0 ? result : createBladeController(plugin, {\n            document: document,\n            params: params,\n        }), null);\n        if (!bc) {\n            throw new TpError({\n                type: 'nomatchingview',\n                context: {\n                    params: params,\n                },\n            });\n        }\n        return bc;\n    }\n    createInputBindingApi_(bc) {\n        const api = this.pluginsMap_.inputs.reduce((result, plugin) => {\n            var _a, _b;\n            if (result) {\n                return result;\n            }\n            return ((_b = (_a = plugin.api) === null || _a === void 0 ? void 0 : _a.call(plugin, {\n                controller: bc,\n            })) !== null && _b !== void 0 ? _b : null);\n        }, null);\n        return this.apiCache_.add(bc, api !== null && api !== void 0 ? api : new BindingApi(bc));\n    }\n    createMonitorBindingApi_(bc) {\n        const api = this.pluginsMap_.monitors.reduce((result, plugin) => {\n            var _a, _b;\n            if (result) {\n                return result;\n            }\n            return ((_b = (_a = plugin.api) === null || _a === void 0 ? void 0 : _a.call(plugin, {\n                controller: bc,\n            })) !== null && _b !== void 0 ? _b : null);\n        }, null);\n        return this.apiCache_.add(bc, api !== null && api !== void 0 ? api : new BindingApi(bc));\n    }\n    createBindingApi(bc) {\n        if (this.apiCache_.has(bc)) {\n            return this.apiCache_.get(bc);\n        }\n        if (isInputBindingController(bc)) {\n            return this.createInputBindingApi_(bc);\n        }\n        if (isMonitorBindingController(bc)) {\n            return this.createMonitorBindingApi_(bc);\n        }\n        throw TpError.shouldNeverHappen();\n    }\n    createApi(bc) {\n        if (this.apiCache_.has(bc)) {\n            return this.apiCache_.get(bc);\n        }\n        if (isBindingController(bc)) {\n            return this.createBindingApi(bc);\n        }\n        const api = this.pluginsMap_.blades.reduce((result, plugin) => result !== null && result !== void 0 ? result : plugin.api({\n            controller: bc,\n            pool: this,\n        }), null);\n        if (!api) {\n            throw TpError.shouldNeverHappen();\n        }\n        return this.apiCache_.add(bc, api);\n    }\n}\n\nconst sharedCache = new BladeApiCache();\nfunction createDefaultPluginPool() {\n    const pool = new PluginPool(sharedCache);\n    [\n        Point2dInputPlugin,\n        Point3dInputPlugin,\n        Point4dInputPlugin,\n        StringInputPlugin,\n        NumberInputPlugin,\n        StringColorInputPlugin,\n        ObjectColorInputPlugin,\n        NumberColorInputPlugin,\n        BooleanInputPlugin,\n        BooleanMonitorPlugin,\n        StringMonitorPlugin,\n        NumberMonitorPlugin,\n        ButtonBladePlugin,\n        FolderBladePlugin,\n        TabBladePlugin,\n    ].forEach((p) => {\n        pool.register('core', p);\n    });\n    return pool;\n}\n\nclass ListBladeApi extends BladeApi {\n    /**\n     * @hidden\n     */\n    constructor(controller) {\n        super(controller);\n        this.emitter_ = new Emitter();\n        this.controller.value.emitter.on('change', (ev) => {\n            this.emitter_.emit('change', new TpChangeEvent(this, ev.rawValue));\n        });\n    }\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get options() {\n        return this.controller.valueController.props.get('options');\n    }\n    set options(options) {\n        this.controller.valueController.props.set('options', options);\n    }\n    get value() {\n        return this.controller.value.rawValue;\n    }\n    set value(value) {\n        this.controller.value.rawValue = value;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n}\n\nclass SeparatorBladeApi extends BladeApi {\n}\n\nclass SliderBladeApi extends BladeApi {\n    /**\n     * @hidden\n     */\n    constructor(controller) {\n        super(controller);\n        this.emitter_ = new Emitter();\n        this.controller.value.emitter.on('change', (ev) => {\n            this.emitter_.emit('change', new TpChangeEvent(this, ev.rawValue));\n        });\n    }\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get max() {\n        return this.controller.valueController.sliderController.props.get('max');\n    }\n    set max(max) {\n        this.controller.valueController.sliderController.props.set('max', max);\n    }\n    get min() {\n        return this.controller.valueController.sliderController.props.get('min');\n    }\n    set min(min) {\n        this.controller.valueController.sliderController.props.set('min', min);\n    }\n    get value() {\n        return this.controller.value.rawValue;\n    }\n    set value(value) {\n        this.controller.value.rawValue = value;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n}\n\nclass TextBladeApi extends BladeApi {\n    /**\n     * @hidden\n     */\n    constructor(controller) {\n        super(controller);\n        this.emitter_ = new Emitter();\n        this.controller.value.emitter.on('change', (ev) => {\n            this.emitter_.emit('change', new TpChangeEvent(this, ev.rawValue));\n        });\n    }\n    get label() {\n        return this.controller.labelController.props.get('label');\n    }\n    set label(label) {\n        this.controller.labelController.props.set('label', label);\n    }\n    get formatter() {\n        return this.controller.valueController.props.get('formatter');\n    }\n    set formatter(formatter) {\n        this.controller.valueController.props.set('formatter', formatter);\n    }\n    get value() {\n        return this.controller.value.rawValue;\n    }\n    set value(value) {\n        this.controller.value.rawValue = value;\n    }\n    on(eventName, handler) {\n        const bh = handler.bind(this);\n        this.emitter_.on(eventName, (ev) => {\n            bh(ev);\n        }, {\n            key: handler,\n        });\n        return this;\n    }\n    off(eventName, handler) {\n        this.emitter_.off(eventName, handler);\n        return this;\n    }\n}\n\nconst ListBladePlugin = (function () {\n    return {\n        id: 'list',\n        type: 'blade',\n        core: VERSION$1,\n        accept(params) {\n            const result = parseRecord(params, (p) => ({\n                options: p.required.custom(parseListOptions),\n                value: p.required.raw,\n                view: p.required.constant('list'),\n                label: p.optional.string,\n            }));\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            const lc = new ListConstraint(normalizeListOptions(args.params.options));\n            const value = createValue(args.params.value, {\n                constraint: lc,\n            });\n            const ic = new ListController(args.document, {\n                props: new ValueMap({\n                    options: lc.values.value('options'),\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n            return new LabeledValueBladeController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                value: value,\n                valueController: ic,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabeledValueBladeController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof ListController)) {\n                return null;\n            }\n            return new ListBladeApi(args.controller);\n        },\n    };\n})();\n\nclass RootApi extends FolderApi {\n    /**\n     * @hidden\n     */\n    constructor(controller, pool) {\n        super(controller, pool);\n    }\n    get element() {\n        return this.controller.view.element;\n    }\n}\n\n/**\n * @hidden\n */\nclass RootController extends FolderController {\n    constructor(doc, config) {\n        super(doc, {\n            expanded: config.expanded,\n            blade: config.blade,\n            props: config.props,\n            root: true,\n            viewProps: config.viewProps,\n        });\n    }\n}\n\nconst cn = ClassName('spr');\n/**\n * @hidden\n */\nclass SeparatorView {\n    constructor(doc, config) {\n        this.element = doc.createElement('div');\n        this.element.classList.add(cn());\n        config.viewProps.bindClassModifiers(this.element);\n        const hrElem = doc.createElement('hr');\n        hrElem.classList.add(cn('r'));\n        this.element.appendChild(hrElem);\n    }\n}\n\n/**\n * @hidden\n */\nclass SeparatorController extends BladeController {\n    /**\n     * @hidden\n     */\n    constructor(doc, config) {\n        super(Object.assign(Object.assign({}, config), { view: new SeparatorView(doc, {\n                viewProps: config.viewProps,\n            }) }));\n    }\n}\n\nconst SeparatorBladePlugin = {\n    id: 'separator',\n    type: 'blade',\n    core: VERSION$1,\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            view: p.required.constant('separator'),\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        return new SeparatorController(args.document, {\n            blade: args.blade,\n            viewProps: args.viewProps,\n        });\n    },\n    api(args) {\n        if (!(args.controller instanceof SeparatorController)) {\n            return null;\n        }\n        return new SeparatorBladeApi(args.controller);\n    },\n};\n\nconst SliderBladePlugin = {\n    id: 'slider',\n    type: 'blade',\n    core: VERSION$1,\n    accept(params) {\n        const result = parseRecord(params, (p) => ({\n            max: p.required.number,\n            min: p.required.number,\n            view: p.required.constant('slider'),\n            format: p.optional.function,\n            label: p.optional.string,\n            value: p.optional.number,\n        }));\n        return result ? { params: result } : null;\n    },\n    controller(args) {\n        var _a, _b;\n        const initialValue = (_a = args.params.value) !== null && _a !== void 0 ? _a : 0;\n        const drc = new DefiniteRangeConstraint({\n            max: args.params.max,\n            min: args.params.min,\n        });\n        const v = createValue(initialValue, {\n            constraint: drc,\n        });\n        const vc = new SliderTextController(args.document, Object.assign(Object.assign({}, createSliderTextProps({\n            formatter: (_b = args.params.format) !== null && _b !== void 0 ? _b : numberToString,\n            keyScale: createValue(1),\n            max: drc.values.value('max'),\n            min: drc.values.value('min'),\n            pointerScale: getSuitablePointerScale(args.params, initialValue),\n        })), { parser: parseNumber, value: v, viewProps: args.viewProps }));\n        return new LabeledValueBladeController(args.document, {\n            blade: args.blade,\n            props: ValueMap.fromObject({\n                label: args.params.label,\n            }),\n            value: v,\n            valueController: vc,\n        });\n    },\n    api(args) {\n        if (!(args.controller instanceof LabeledValueBladeController)) {\n            return null;\n        }\n        if (!(args.controller.valueController instanceof SliderTextController)) {\n            return null;\n        }\n        return new SliderBladeApi(args.controller);\n    },\n};\n\nconst TextBladePlugin = (function () {\n    return {\n        id: 'text',\n        type: 'blade',\n        core: VERSION$1,\n        accept(params) {\n            const result = parseRecord(params, (p) => ({\n                parse: p.required.function,\n                value: p.required.raw,\n                view: p.required.constant('text'),\n                format: p.optional.function,\n                label: p.optional.string,\n            }));\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            var _a;\n            const v = createValue(args.params.value);\n            const ic = new TextController(args.document, {\n                parser: args.params.parse,\n                props: ValueMap.fromObject({\n                    formatter: (_a = args.params.format) !== null && _a !== void 0 ? _a : ((v) => String(v)),\n                }),\n                value: v,\n                viewProps: args.viewProps,\n            });\n            return new LabeledValueBladeController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                value: v,\n                valueController: ic,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabeledValueBladeController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof TextController)) {\n                return null;\n            }\n            return new TextBladeApi(args.controller);\n        },\n    };\n})();\n\nfunction createDefaultWrapperElement(doc) {\n    const elem = doc.createElement('div');\n    elem.classList.add(ClassName('dfw')());\n    if (doc.body) {\n        doc.body.appendChild(elem);\n    }\n    return elem;\n}\nfunction embedStyle(doc, id, css) {\n    if (doc.querySelector(`style[data-tp-style=${id}]`)) {\n        return;\n    }\n    const styleElem = doc.createElement('style');\n    styleElem.dataset.tpStyle = id;\n    styleElem.textContent = css;\n    doc.head.appendChild(styleElem);\n}\n/**\n * The root pane of Tweakpane.\n */\nclass Pane extends RootApi {\n    constructor(opt_config) {\n        var _a, _b;\n        const config = opt_config !== null && opt_config !== void 0 ? opt_config : {};\n        const doc = (_a = config.document) !== null && _a !== void 0 ? _a : getWindowDocument();\n        const pool = createDefaultPluginPool();\n        const rootController = new RootController(doc, {\n            expanded: config.expanded,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                title: config.title,\n            }),\n            viewProps: ViewProps.create(),\n        });\n        super(rootController, pool);\n        this.pool_ = pool;\n        this.containerElem_ = (_b = config.container) !== null && _b !== void 0 ? _b : createDefaultWrapperElement(doc);\n        this.containerElem_.appendChild(this.element);\n        this.doc_ = doc;\n        this.usesDefaultWrapper_ = !config.container;\n        this.setUpDefaultPlugins_();\n    }\n    get document() {\n        if (!this.doc_) {\n            throw TpError.alreadyDisposed();\n        }\n        return this.doc_;\n    }\n    dispose() {\n        const containerElem = this.containerElem_;\n        if (!containerElem) {\n            throw TpError.alreadyDisposed();\n        }\n        if (this.usesDefaultWrapper_) {\n            const parentElem = containerElem.parentElement;\n            if (parentElem) {\n                parentElem.removeChild(containerElem);\n            }\n        }\n        this.containerElem_ = null;\n        this.doc_ = null;\n        super.dispose();\n    }\n    registerPlugin(bundle) {\n        if (bundle.css) {\n            embedStyle(this.document, `plugin-${bundle.id}`, bundle.css);\n        }\n        const plugins = 'plugin' in bundle\n            ? [bundle.plugin]\n            : 'plugins' in bundle\n                ? bundle.plugins\n                : [];\n        plugins.forEach((p) => {\n            this.pool_.register(bundle.id, p);\n        });\n    }\n    setUpDefaultPlugins_() {\n        this.registerPlugin({\n            id: 'default',\n            // NOTE: This string literal will be replaced with the default CSS by Rollup at the compilation time\n            css: '.tp-tbiv_b,.tp-coltxtv_ms,.tp-colswv_b,.tp-ckbv_i,.tp-sglv_i,.tp-mllv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-rotv_b,.tp-fldv_b,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tbpv_c>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-vp))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tbpv_c>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--cnt-usp)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tbpv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tbpv_c>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tbpv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tbpv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tbpv_c>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tbpv_c>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--bld-br);border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tbpv_c .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tbpv_c>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tbpv_c>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--bld-br)}.tp-tbpv_c .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--bld-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);overflow:hidden;padding-left:var(--cnt-hp);padding-right:calc(4px + var(--cnt-usz) + var(--cnt-hp));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:\"\";display:block;height:6px;right:calc(var(--cnt-hp) + (var(--cnt-usz) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-vp);padding-top:var(--cnt-vp);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-sglv_i,.tp-mllv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--mo-fg);height:var(--cnt-usz);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-sglv_i::-webkit-scrollbar,.tp-mllv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-sglv_i::-webkit-scrollbar-corner,.tp-mllv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-sglv_i::-webkit-scrollbar-thumb,.tp-mllv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-rotv{--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-br: var(--tp-base-border-radius, 6px);--bs-ff: var(--tp-base-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--bld-br: var(--tp-blade-border-radius, 2px);--bld-hp: var(--tp-blade-horizontal-padding, 4px);--bld-vw: var(--tp-blade-value-width, 160px);--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--cnt-hp: var(--tp-container-horizontal-padding, 4px);--cnt-vp: var(--tp-container-vertical-padding, 4px);--cnt-usp: var(--tp-container-unit-spacing, 4px);--cnt-usz: var(--tp-container-unit-size, 20px);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--bld-br);cursor:pointer;display:block;height:var(--cnt-usz);position:relative;width:var(--cnt-usz)}.tp-ckbv_w svg{display:block;height:16px;inset:0;margin:auto;opacity:0;position:absolute;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--cnt-usz)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--cnt-usp);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--cnt-usp)}.tp-colpv_rgb{display:flex;margin-top:var(--cnt-usp);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-vp);padding-top:calc(var(--cnt-vp) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:\"\";height:2px;left:calc(-1*var(--cnt-hp));position:absolute;right:calc(-1*var(--cnt-hp));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--bld-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--cnt-usz)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{inset:0;position:absolute}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--bld-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;inset:0;position:absolute}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--bld-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{cursor:pointer;display:block;height:var(--cnt-usz);left:0;position:absolute;top:0;width:var(--cnt-usz)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--bld-br);content:\"\";display:block;inset:0;position:absolute}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--bld-br);color:var(--lbl-fg);cursor:pointer;height:var(--cnt-usz);line-height:var(--cnt-usz);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:\"\";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--cnt-usz)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-hp);padding-right:var(--cnt-hp)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--bld-vw)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 var(--bld-hp);width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--cnt-usz)*3);line-height:var(--cnt-usz);padding-left:var(--bld-hp);padding-right:var(--bld-hp);resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--cnt-usz);margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--cnt-usp);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-p2dpv{padding-left:calc(var(--cnt-usz) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:var(--bld-vw);padding:var(--cnt-vp) var(--cnt-hp);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--cnt-usz);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;content:\"\";display:block;height:2px;inset:0;margin:auto;position:absolute}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;content:\"\";display:block;height:2px;inset:0;margin-bottom:auto;margin-top:auto;position:absolute}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--bld-br);bottom:0;content:\"\";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:\"\";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--cnt-usz) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:\"\";height:2px;left:0;position:absolute;right:0}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:\"\";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-hp) + 4px);padding-right:calc(var(--cnt-hp) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);content:\"\";inset:0 0 2px;pointer-events:none;position:absolute}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);opacity:.5;overflow:hidden;position:relative;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-tbpv_c{padding-bottom:var(--cnt-vp);padding-left:4px;padding-top:var(--cnt-vp)}.tp-txtv{position:relative}.tp-txtv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:calc(var(--bld-hp) - 5px);position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\"\";height:calc(var(--cnt-usz) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--bld-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:\"\";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--bs-ff);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--cnt-usz) + var(--cnt-hp));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0;transition-delay:0s;transition-duration:0s}.tp-rotv.tp-rotv-not>.tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst.tp-fldv-expanded>.tp-fldv_b{transition-delay:0s;transition-duration:0s}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}',\n            plugins: [\n                ListBladePlugin,\n                SeparatorBladePlugin,\n                SliderBladePlugin,\n                TabBladePlugin,\n                TextBladePlugin,\n            ],\n        });\n    }\n}\n\nconst VERSION = new Semver('4.0.5');\n\nexport { BladeApi, ButtonApi, FolderApi, ListBladeApi, ListInputBindingApi, Pane, Semver, SeparatorBladeApi, SliderBladeApi, SliderInputBindingApi, TabApi, TabPageApi, TextBladeApi, TpChangeEvent, VERSION };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7910, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7926, "column": 0}, "map": {"version":3,"file":"LoaderUtils.js","sources":["file:///Users/jay/personal/dczii.github.io/node_modules/src/_polyfill/LoaderUtils.js"],"sourcesContent":["export function decodeText(array) {\n  if (typeof TextDecoder !== 'undefined') {\n    return new TextDecoder().decode(array)\n  }\n\n  // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n  // throws a \"maximum call stack size exceeded\" error for large arrays.\n\n  let s = ''\n\n  for (let i = 0, il = array.length; i < il; i++) {\n    // Implicitly assumes little-endian.\n    s += String.fromCharCode(array[i])\n  }\n\n  try {\n    // merges multi-byte utf-8 characters.\n\n    return decodeURIComponent(escape(s))\n  } catch (e) {\n    // see https://github.com/mrdoob/three.js/issues/16358\n\n    return s\n  }\n}\n"],"names":[],"mappings":";;;AAAO,SAAS,WAAW,KAAA,EAAO;IAChC,IAAI,OAAO,gBAAgB,aAAa;QACtC,OAAO,IAAI,YAAW,EAAG,MAAA,CAAO,KAAK;IACtC;IAKD,IAAI,IAAI;IAER,IAAA,IAAS,IAAI,GAAG,KAAK,MAAM,MAAA,EAAQ,IAAI,IAAI,IAAK;QAE9C,KAAK,OAAO,YAAA,CAAa,KAAA,CAAM,CAAC,CAAC;IAClC;IAED,IAAI;QAGF,OAAO,mBAAmB,OAAO,CAAC,CAAC;IACpC,EAAA,OAAQ,GAAP;QAGA,OAAO;IACR;AACH","ignoreList":[0]}},
    {"offset": {"line": 7945, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7951, "column": 0}, "map": {"version":3,"file":"constants.js","sources":["file:///Users/jay/personal/dczii.github.io/node_modules/src/_polyfill/constants.ts"],"sourcesContent":["import { REVISION } from 'three'\n\nexport const version = parseInt(REVISION.replace(/\\D+/g, ''))\n"],"names":[],"mappings":";;;;;AAEO,MAAM,UAAU,8JAAS,WAAA,CAAS,OAAA,CAAQ,QAAQ,EAAE,CAAC","ignoreList":[0]}},
    {"offset": {"line": 7959, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7965, "column": 0}, "map": {"version":3,"file":"helpers.js","sources":["file:///Users/jay/personal/dczii.github.io/node_modules/src/types/helpers.ts"],"sourcesContent":["export const getWithKey = <T, K extends keyof T>(obj: T, key: K): T[K] => obj[key]\n"],"names":[],"mappings":";;;AAAO,MAAM,aAAa,CAAuB,KAAQ,MAAiB,GAAA,CAAI,GAAG,CAAA","ignoreList":[0]}},
    {"offset": {"line": 7971, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7977, "column": 0}, "map": {"version":3,"file":"BufferGeometryUtils.js","sources":["file:///Users/jay/personal/dczii.github.io/node_modules/src/utils/BufferGeometryUtils.ts"],"sourcesContent":["import {\n  BufferAttribute,\n  BufferGeometry,\n  Float32BufferAttribute,\n  InterleavedBuffer,\n  InterleavedBufferAttribute,\n  TriangleFanDrawMode,\n  TriangleStripDrawMode,\n  TrianglesDrawMode,\n  Vector3,\n  Mesh,\n  Line,\n  Points,\n  Material,\n  SkinnedMesh,\n} from 'three'\n\nimport { getWithKey } from '../types/helpers'\nimport type { TypedArrayConstructors, TypedArray } from '../types/shared'\n\n/**\n * @param  {Array<BufferGeometry>} geometries\n * @param  {Boolean} useGroups\n * @return {BufferGeometry}\n */\nexport const mergeBufferGeometries = (geometries: BufferGeometry[], useGroups?: boolean): BufferGeometry | null => {\n  const isIndexed = geometries[0].index !== null\n\n  const attributesUsed = new Set(Object.keys(geometries[0].attributes))\n  const morphAttributesUsed = new Set(Object.keys(geometries[0].morphAttributes))\n\n  const attributes: { [key: string]: Array<InterleavedBufferAttribute | BufferAttribute> } = {}\n  const morphAttributes: { [key: string]: Array<BufferAttribute | InterleavedBufferAttribute>[] } = {}\n\n  const morphTargetsRelative = geometries[0].morphTargetsRelative\n\n  const mergedGeometry = new BufferGeometry()\n\n  let offset = 0\n\n  geometries.forEach((geom, i) => {\n    let attributesCount = 0\n\n    // ensure that all geometries are indexed, or none\n\n    if (isIndexed !== (geom.index !== null)) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n          i +\n          '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.',\n      )\n      return null\n    }\n\n    // gather attributes, exit early if they're different\n\n    for (let name in geom.attributes) {\n      if (!attributesUsed.has(name)) {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n            i +\n            '. All geometries must have compatible attributes; make sure \"' +\n            name +\n            '\" attribute exists among all geometries, or in none of them.',\n        )\n        return null\n      }\n\n      if (attributes[name] === undefined) {\n        attributes[name] = []\n      }\n\n      attributes[name].push(geom.attributes[name])\n\n      attributesCount++\n    }\n\n    // ensure geometries have the same number of attributes\n\n    if (attributesCount !== attributesUsed.size) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n          i +\n          '. Make sure all geometries have the same number of attributes.',\n      )\n      return null\n    }\n\n    // gather morph attributes, exit early if they're different\n\n    if (morphTargetsRelative !== geom.morphTargetsRelative) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n          i +\n          '. .morphTargetsRelative must be consistent throughout all geometries.',\n      )\n      return null\n    }\n\n    for (let name in geom.morphAttributes) {\n      if (!morphAttributesUsed.has(name)) {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n            i +\n            '.  .morphAttributes must be consistent throughout all geometries.',\n        )\n        return null\n      }\n\n      if (morphAttributes[name] === undefined) morphAttributes[name] = []\n\n      morphAttributes[name].push(geom.morphAttributes[name])\n    }\n\n    // gather .userData\n\n    mergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || []\n    mergedGeometry.userData.mergedUserData.push(geom.userData)\n\n    if (useGroups) {\n      let count\n\n      if (geom.index) {\n        count = geom.index.count\n      } else if (geom.attributes.position !== undefined) {\n        count = geom.attributes.position.count\n      } else {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n            i +\n            '. The geometry must have either an index or a position attribute',\n        )\n        return null\n      }\n\n      mergedGeometry.addGroup(offset, count, i)\n\n      offset += count\n    }\n  })\n\n  // merge indices\n\n  if (isIndexed) {\n    let indexOffset = 0\n    const mergedIndex: number[] = []\n\n    geometries.forEach((geom) => {\n      const index = geom.index as BufferAttribute\n\n      for (let j = 0; j < index.count; ++j) {\n        mergedIndex.push(index.getX(j) + indexOffset)\n      }\n\n      indexOffset += geom.attributes.position.count\n    })\n\n    mergedGeometry.setIndex(mergedIndex)\n  }\n\n  // merge attributes\n\n  for (let name in attributes) {\n    const mergedAttribute = mergeBufferAttributes(attributes[name] as BufferAttribute[])\n\n    if (!mergedAttribute) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' attribute.',\n      )\n      return null\n    }\n\n    mergedGeometry.setAttribute(name, mergedAttribute)\n  }\n\n  // merge morph attributes\n\n  for (let name in morphAttributes) {\n    const numMorphTargets = morphAttributes[name][0].length\n\n    if (numMorphTargets === 0) break\n\n    mergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {}\n    mergedGeometry.morphAttributes[name] = []\n\n    for (let i = 0; i < numMorphTargets; ++i) {\n      const morphAttributesToMerge = []\n\n      for (let j = 0; j < morphAttributes[name].length; ++j) {\n        morphAttributesToMerge.push(morphAttributes[name][j][i])\n      }\n\n      const mergedMorphAttribute = mergeBufferAttributes(morphAttributesToMerge as BufferAttribute[])\n\n      if (!mergedMorphAttribute) {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' +\n            name +\n            ' morphAttribute.',\n        )\n        return null\n      }\n\n      mergedGeometry.morphAttributes[name].push(mergedMorphAttribute)\n    }\n  }\n\n  return mergedGeometry\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {BufferAttribute}\n */\nexport const mergeBufferAttributes = (attributes: BufferAttribute[]): BufferAttribute | null | undefined => {\n  let TypedArray: TypedArrayConstructors | undefined = undefined\n  let itemSize: number | undefined = undefined\n  let normalized: boolean | undefined = undefined\n  let arrayLength = 0\n\n  attributes.forEach((attr) => {\n    if (TypedArray === undefined) {\n      TypedArray = attr.array.constructor\n    }\n    if (TypedArray !== attr.array.constructor) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.',\n      )\n      return null\n    }\n\n    if (itemSize === undefined) itemSize = attr.itemSize\n    if (itemSize !== attr.itemSize) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.',\n      )\n      return null\n    }\n\n    if (normalized === undefined) normalized = attr.normalized\n    if (normalized !== attr.normalized) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.',\n      )\n      return null\n    }\n\n    arrayLength += attr.array.length\n  })\n\n  if (TypedArray && itemSize) {\n    // @ts-ignore this works in JS and TS is complaining but it's such a tiny thing I can live with the guilt\n    const array = new TypedArray(arrayLength)\n    let offset = 0\n\n    attributes.forEach((attr) => {\n      array.set(attr.array, offset)\n      offset += attr.array.length\n    })\n\n    return new BufferAttribute(array, itemSize, normalized)\n  }\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {Array<InterleavedBufferAttribute>}\n */\nexport const interleaveAttributes = (attributes: BufferAttribute[]): InterleavedBufferAttribute[] | null => {\n  // Interleaves the provided attributes into an InterleavedBuffer and returns\n  // a set of InterleavedBufferAttributes for each attribute\n  let TypedArray: TypedArrayConstructors | undefined = undefined\n  let arrayLength = 0\n  let stride = 0\n\n  // calculate the the length and type of the interleavedBuffer\n  for (let i = 0, l = attributes.length; i < l; ++i) {\n    const attribute = attributes[i]\n\n    if (TypedArray === undefined) TypedArray = attribute.array.constructor\n    if (TypedArray !== attribute.array.constructor) {\n      console.error('AttributeBuffers of different types cannot be interleaved')\n      return null\n    }\n\n    arrayLength += attribute.array.length\n    stride += attribute.itemSize\n  }\n\n  // Create the set of buffer attributes\n  // @ts-ignore this works in JS and TS is complaining but it's such a tiny thing I can live with the guilt\n  const interleavedBuffer = new InterleavedBuffer(new TypedArray(arrayLength), stride)\n  let offset = 0\n  const res = []\n  const getters = ['getX', 'getY', 'getZ', 'getW']\n  const setters = ['setX', 'setY', 'setZ', 'setW']\n\n  for (let j = 0, l = attributes.length; j < l; j++) {\n    const attribute = attributes[j]\n    const itemSize = attribute.itemSize\n    const count = attribute.count\n    const iba = new InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, attribute.normalized)\n    res.push(iba)\n\n    offset += itemSize\n\n    // Move the data for each attribute into the new interleavedBuffer\n    // at the appropriate offset\n    for (let c = 0; c < count; c++) {\n      for (let k = 0; k < itemSize; k++) {\n        const set = getWithKey(iba, setters[k] as keyof InterleavedBufferAttribute) as InterleavedBufferAttribute[\n          | 'setX'\n          | 'setY'\n          | 'setZ'\n          | 'setW']\n        const get = getWithKey(attribute, getters[k] as keyof BufferAttribute) as BufferAttribute[\n          | 'getX'\n          | 'getY'\n          | 'getZ'\n          | 'getW']\n        set(c, get(c))\n      }\n    }\n  }\n\n  return res\n}\n\n/**\n * @param {Array<BufferGeometry>} geometry\n * @return {number}\n */\nexport function estimateBytesUsed(geometry: BufferGeometry): number {\n  // Return the estimated memory used by this geometry in bytes\n  // Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\n  // for InterleavedBufferAttributes.\n  let mem = 0\n  for (let name in geometry.attributes) {\n    const attr = geometry.getAttribute(name)\n    mem += attr.count * attr.itemSize * (attr.array as TypedArray).BYTES_PER_ELEMENT\n  }\n\n  const indices = geometry.getIndex()\n  mem += indices ? indices.count * indices.itemSize * (indices.array as TypedArray).BYTES_PER_ELEMENT : 0\n  return mem\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} tolerance\n * @return {BufferGeometry>}\n */\nexport function mergeVertices(geometry: BufferGeometry, tolerance = 1e-4): BufferGeometry {\n  tolerance = Math.max(tolerance, Number.EPSILON)\n\n  // Generate an index buffer if the geometry doesn't have one, or optimize it\n  // if it's already available.\n  const hashToIndex: {\n    [key: string]: number\n  } = {}\n  const indices = geometry.getIndex()\n  const positions = geometry.getAttribute('position')\n  const vertexCount = indices ? indices.count : positions.count\n\n  // next value for triangle indices\n  let nextIndex = 0\n\n  // attributes and new attribute arrays\n  const attributeNames = Object.keys(geometry.attributes)\n  const attrArrays: {\n    [key: string]: []\n  } = {}\n  const morphAttrsArrays: {\n    [key: string]: Array<Array<BufferAttribute | InterleavedBufferAttribute>>\n  } = {}\n  const newIndices = []\n  const getters = ['getX', 'getY', 'getZ', 'getW']\n\n  // initialize the arrays\n  for (let i = 0, l = attributeNames.length; i < l; i++) {\n    const name = attributeNames[i]\n\n    attrArrays[name] = []\n\n    const morphAttr = geometry.morphAttributes[name]\n    if (morphAttr) {\n      morphAttrsArrays[name] = new Array(morphAttr.length).fill(0).map(() => [])\n    }\n  }\n\n  // convert the error tolerance to an amount of decimal places to truncate to\n  const decimalShift = Math.log10(1 / tolerance)\n  const shiftMultiplier = Math.pow(10, decimalShift)\n  for (let i = 0; i < vertexCount; i++) {\n    const index = indices ? indices.getX(i) : i\n\n    // Generate a hash for the vertex attributes at the current index 'i'\n    let hash = ''\n    for (let j = 0, l = attributeNames.length; j < l; j++) {\n      const name = attributeNames[j]\n      const attribute = geometry.getAttribute(name)\n      const itemSize = attribute.itemSize\n\n      for (let k = 0; k < itemSize; k++) {\n        // double tilde truncates the decimal value\n        // @ts-ignore no\n        hash += `${~~(attribute[getters[k]](index) * shiftMultiplier)},`\n      }\n    }\n\n    // Add another reference to the vertex if it's already\n    // used by another index\n    if (hash in hashToIndex) {\n      newIndices.push(hashToIndex[hash])\n    } else {\n      // copy data to the new index in the attribute arrays\n      for (let j = 0, l = attributeNames.length; j < l; j++) {\n        const name = attributeNames[j]\n        const attribute = geometry.getAttribute(name)\n        const morphAttr = geometry.morphAttributes[name]\n        const itemSize = attribute.itemSize\n        const newarray = attrArrays[name]\n        const newMorphArrays = morphAttrsArrays[name]\n\n        for (let k = 0; k < itemSize; k++) {\n          const getterFunc = getters[k]\n          // @ts-ignore\n          newarray.push(attribute[getterFunc](index))\n\n          if (morphAttr) {\n            for (let m = 0, ml = morphAttr.length; m < ml; m++) {\n              // @ts-ignore\n              newMorphArrays[m].push(morphAttr[m][getterFunc](index))\n            }\n          }\n        }\n      }\n\n      hashToIndex[hash] = nextIndex\n      newIndices.push(nextIndex)\n      nextIndex++\n    }\n  }\n\n  // Generate typed arrays from new attribute arrays and update\n  // the attributeBuffers\n  const result = geometry.clone()\n  for (let i = 0, l = attributeNames.length; i < l; i++) {\n    const name = attributeNames[i]\n    const oldAttribute = geometry.getAttribute(name)\n    //@ts-expect-error  something to do with functions and constructors and new\n    const buffer = new (oldAttribute.array as TypedArray).constructor(attrArrays[name])\n    const attribute = new BufferAttribute(buffer, oldAttribute.itemSize, oldAttribute.normalized)\n\n    result.setAttribute(name, attribute)\n\n    // Update the attribute arrays\n    if (name in morphAttrsArrays) {\n      for (let j = 0; j < morphAttrsArrays[name].length; j++) {\n        const oldMorphAttribute = geometry.morphAttributes[name][j]\n        //@ts-expect-error something to do with functions and constructors and new\n        const buffer = new (oldMorphAttribute.array as TypedArray).constructor(morphAttrsArrays[name][j])\n        const morphAttribute = new BufferAttribute(buffer, oldMorphAttribute.itemSize, oldMorphAttribute.normalized)\n        result.morphAttributes[name][j] = morphAttribute\n      }\n    }\n  }\n\n  // indices\n\n  result.setIndex(newIndices)\n\n  return result\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} drawMode\n * @return {BufferGeometry}\n */\nexport function toTrianglesDrawMode(geometry: BufferGeometry, drawMode: number): BufferGeometry {\n  if (drawMode === TrianglesDrawMode) {\n    console.warn('THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.')\n    return geometry\n  }\n\n  if (drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode) {\n    let index = geometry.getIndex()\n\n    // generate index if not present\n\n    if (index === null) {\n      const indices = []\n\n      const position = geometry.getAttribute('position')\n\n      if (position !== undefined) {\n        for (let i = 0; i < position.count; i++) {\n          indices.push(i)\n        }\n\n        geometry.setIndex(indices)\n        index = geometry.getIndex()\n      } else {\n        console.error(\n          'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.',\n        )\n        return geometry\n      }\n    }\n\n    //\n\n    const numberOfTriangles = (index as BufferAttribute).count - 2\n    const newIndices = []\n\n    if (index) {\n      if (drawMode === TriangleFanDrawMode) {\n        // gl.TRIANGLE_FAN\n\n        for (let i = 1; i <= numberOfTriangles; i++) {\n          newIndices.push(index.getX(0))\n          newIndices.push(index.getX(i))\n          newIndices.push(index.getX(i + 1))\n        }\n      } else {\n        // gl.TRIANGLE_STRIP\n\n        for (let i = 0; i < numberOfTriangles; i++) {\n          if (i % 2 === 0) {\n            newIndices.push(index.getX(i))\n            newIndices.push(index.getX(i + 1))\n            newIndices.push(index.getX(i + 2))\n          } else {\n            newIndices.push(index.getX(i + 2))\n            newIndices.push(index.getX(i + 1))\n            newIndices.push(index.getX(i))\n          }\n        }\n      }\n    }\n\n    if (newIndices.length / 3 !== numberOfTriangles) {\n      console.error('THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.')\n    }\n\n    // build final geometry\n\n    const newGeometry = geometry.clone()\n    newGeometry.setIndex(newIndices)\n    newGeometry.clearGroups()\n\n    return newGeometry\n  } else {\n    console.error('THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode)\n    return geometry\n  }\n}\n\n/**\n * Calculates the morphed attributes of a morphed/skinned BufferGeometry.\n * Helpful for Raytracing or Decals.\n * @param {Mesh | Line | Points} object An instance of Mesh, Line or Points.\n * @return {Object} An Object with original position/normal attributes and morphed ones.\n */\nexport type ComputedMorphedAttribute = {\n  positionAttribute: BufferAttribute | InterleavedBufferAttribute\n  normalAttribute: BufferAttribute | InterleavedBufferAttribute\n  morphedPositionAttribute: Float32BufferAttribute\n  morphedNormalAttribute: Float32BufferAttribute\n}\n\nexport function computeMorphedAttributes(object: Mesh | Line | Points): ComputedMorphedAttribute | null {\n  if (object.geometry.isBufferGeometry !== true) {\n    console.error('THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry.')\n    return null\n  }\n\n  const _vA = new Vector3()\n  const _vB = new Vector3()\n  const _vC = new Vector3()\n\n  const _tempA = new Vector3()\n  const _tempB = new Vector3()\n  const _tempC = new Vector3()\n\n  const _morphA = new Vector3()\n  const _morphB = new Vector3()\n  const _morphC = new Vector3()\n\n  function _calculateMorphedAttributeData(\n    object: Mesh | Line | Points,\n    material: Material,\n    attribute: BufferAttribute | InterleavedBufferAttribute,\n    morphAttribute: (BufferAttribute | InterleavedBufferAttribute)[],\n    morphTargetsRelative: boolean,\n    a: number,\n    b: number,\n    c: number,\n    modifiedAttributeArray: Float32Array,\n  ): void {\n    _vA.fromBufferAttribute(attribute, a)\n    _vB.fromBufferAttribute(attribute, b)\n    _vC.fromBufferAttribute(attribute, c)\n\n    const morphInfluences = object.morphTargetInfluences\n\n    if (\n      // @ts-ignore\n      material.morphTargets &&\n      morphAttribute &&\n      morphInfluences\n    ) {\n      _morphA.set(0, 0, 0)\n      _morphB.set(0, 0, 0)\n      _morphC.set(0, 0, 0)\n\n      for (let i = 0, il = morphAttribute.length; i < il; i++) {\n        const influence = morphInfluences[i]\n        const morph = morphAttribute[i]\n\n        if (influence === 0) continue\n\n        _tempA.fromBufferAttribute(morph, a)\n        _tempB.fromBufferAttribute(morph, b)\n        _tempC.fromBufferAttribute(morph, c)\n\n        if (morphTargetsRelative) {\n          _morphA.addScaledVector(_tempA, influence)\n          _morphB.addScaledVector(_tempB, influence)\n          _morphC.addScaledVector(_tempC, influence)\n        } else {\n          _morphA.addScaledVector(_tempA.sub(_vA), influence)\n          _morphB.addScaledVector(_tempB.sub(_vB), influence)\n          _morphC.addScaledVector(_tempC.sub(_vC), influence)\n        }\n      }\n\n      _vA.add(_morphA)\n      _vB.add(_morphB)\n      _vC.add(_morphC)\n    }\n\n    if ((object as SkinnedMesh).isSkinnedMesh) {\n      // @ts-ignore – https://github.com/three-types/three-ts-types/issues/37\n      object.boneTransform(a, _vA)\n      // @ts-ignore – https://github.com/three-types/three-ts-types/issues/37\n      object.boneTransform(b, _vB)\n      // @ts-ignore – https://github.com/three-types/three-ts-types/issues/37\n      object.boneTransform(c, _vC)\n    }\n\n    modifiedAttributeArray[a * 3 + 0] = _vA.x\n    modifiedAttributeArray[a * 3 + 1] = _vA.y\n    modifiedAttributeArray[a * 3 + 2] = _vA.z\n    modifiedAttributeArray[b * 3 + 0] = _vB.x\n    modifiedAttributeArray[b * 3 + 1] = _vB.y\n    modifiedAttributeArray[b * 3 + 2] = _vB.z\n    modifiedAttributeArray[c * 3 + 0] = _vC.x\n    modifiedAttributeArray[c * 3 + 1] = _vC.y\n    modifiedAttributeArray[c * 3 + 2] = _vC.z\n  }\n\n  const geometry = object.geometry\n  const material = object.material\n\n  let a, b, c\n  const index = geometry.index\n  const positionAttribute = geometry.attributes.position\n  const morphPosition = geometry.morphAttributes.position\n  const morphTargetsRelative = geometry.morphTargetsRelative\n  const normalAttribute = geometry.attributes.normal\n  const morphNormal = geometry.morphAttributes.position\n\n  const groups = geometry.groups\n  const drawRange = geometry.drawRange\n  let i, j, il, jl\n  let group, groupMaterial\n  let start, end\n\n  const modifiedPosition = new Float32Array(positionAttribute.count * positionAttribute.itemSize)\n  const modifiedNormal = new Float32Array(normalAttribute.count * normalAttribute.itemSize)\n\n  if (index !== null) {\n    // indexed buffer geometry\n\n    if (Array.isArray(material)) {\n      for (i = 0, il = groups.length; i < il; i++) {\n        group = groups[i]\n        groupMaterial = material[group.materialIndex as number]\n\n        start = Math.max(group.start, drawRange.start)\n        end = Math.min(group.start + group.count, drawRange.start + drawRange.count)\n\n        for (j = start, jl = end; j < jl; j += 3) {\n          a = index.getX(j)\n          b = index.getX(j + 1)\n          c = index.getX(j + 2)\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            positionAttribute,\n            morphPosition,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedPosition,\n          )\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            normalAttribute,\n            morphNormal,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedNormal,\n          )\n        }\n      }\n    } else {\n      start = Math.max(0, drawRange.start)\n      end = Math.min(index.count, drawRange.start + drawRange.count)\n\n      for (i = start, il = end; i < il; i += 3) {\n        a = index.getX(i)\n        b = index.getX(i + 1)\n        c = index.getX(i + 2)\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          positionAttribute,\n          morphPosition,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedPosition,\n        )\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          normalAttribute,\n          morphNormal,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedNormal,\n        )\n      }\n    }\n  } else if (positionAttribute !== undefined) {\n    // non-indexed buffer geometry\n\n    if (Array.isArray(material)) {\n      for (i = 0, il = groups.length; i < il; i++) {\n        group = groups[i]\n        groupMaterial = material[group.materialIndex as number]\n\n        start = Math.max(group.start, drawRange.start)\n        end = Math.min(group.start + group.count, drawRange.start + drawRange.count)\n\n        for (j = start, jl = end; j < jl; j += 3) {\n          a = j\n          b = j + 1\n          c = j + 2\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            positionAttribute,\n            morphPosition,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedPosition,\n          )\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            normalAttribute,\n            morphNormal,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedNormal,\n          )\n        }\n      }\n    } else {\n      start = Math.max(0, drawRange.start)\n      end = Math.min(positionAttribute.count, drawRange.start + drawRange.count)\n\n      for (i = start, il = end; i < il; i += 3) {\n        a = i\n        b = i + 1\n        c = i + 2\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          positionAttribute,\n          morphPosition,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedPosition,\n        )\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          normalAttribute,\n          morphNormal,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedNormal,\n        )\n      }\n    }\n  }\n\n  const morphedPositionAttribute = new Float32BufferAttribute(modifiedPosition, 3)\n  const morphedNormalAttribute = new Float32BufferAttribute(modifiedNormal, 3)\n\n  return {\n    positionAttribute: positionAttribute,\n    normalAttribute: normalAttribute,\n    morphedPositionAttribute: morphedPositionAttribute,\n    morphedNormalAttribute: morphedNormalAttribute,\n  }\n}\n\n/**\n * Modifies the supplied geometry if it is non-indexed, otherwise creates a new,\n * non-indexed geometry. Returns the geometry with smooth normals everywhere except\n * faces that meet at an angle greater than the crease angle.\n *\n * Backwards compatible with code such as @react-three/drei's `<RoundedBox>`\n * which uses this method to operate on the original geometry.\n *\n * As of this writing, BufferGeometry.toNonIndexed() warns if the geometry is\n * non-indexed and returns `this`, i.e. the same geometry on which it was called:\n * `BufferGeometry is already non-indexed.`\n *\n * @param geometry\n * @param creaseAngle\n */\nexport function toCreasedNormals(geometry: BufferGeometry, creaseAngle = Math.PI / 3 /* 60 degrees */): BufferGeometry {\n  const creaseDot = Math.cos(creaseAngle)\n  const hashMultiplier = (1 + 1e-10) * 1e2\n\n  // reusable vectors\n  const verts = [new Vector3(), new Vector3(), new Vector3()]\n  const tempVec1 = new Vector3()\n  const tempVec2 = new Vector3()\n  const tempNorm = new Vector3()\n  const tempNorm2 = new Vector3()\n\n  // hashes a vector\n  function hashVertex(v: Vector3): string {\n    const x = ~~(v.x * hashMultiplier)\n    const y = ~~(v.y * hashMultiplier)\n    const z = ~~(v.z * hashMultiplier)\n    return `${x},${y},${z}`\n  }\n\n  const resultGeometry = geometry.index ? geometry.toNonIndexed() : geometry\n  const posAttr = resultGeometry.attributes.position\n  const vertexMap: { [key: string]: Vector3[] } = {}\n\n  // find all the normals shared by commonly located vertices\n  for (let i = 0, l = posAttr.count / 3; i < l; i++) {\n    const i3 = 3 * i\n    const a = verts[0].fromBufferAttribute(posAttr, i3 + 0)\n    const b = verts[1].fromBufferAttribute(posAttr, i3 + 1)\n    const c = verts[2].fromBufferAttribute(posAttr, i3 + 2)\n\n    tempVec1.subVectors(c, b)\n    tempVec2.subVectors(a, b)\n\n    // add the normal to the map for all vertices\n    const normal = new Vector3().crossVectors(tempVec1, tempVec2).normalize()\n    for (let n = 0; n < 3; n++) {\n      const vert = verts[n]\n      const hash = hashVertex(vert)\n      if (!(hash in vertexMap)) {\n        vertexMap[hash] = []\n      }\n\n      vertexMap[hash].push(normal)\n    }\n  }\n\n  // average normals from all vertices that share a common location if they are within the\n  // provided crease threshold\n  const normalArray = new Float32Array(posAttr.count * 3)\n  const normAttr = new BufferAttribute(normalArray, 3, false)\n  for (let i = 0, l = posAttr.count / 3; i < l; i++) {\n    // get the face normal for this vertex\n    const i3 = 3 * i\n    const a = verts[0].fromBufferAttribute(posAttr, i3 + 0)\n    const b = verts[1].fromBufferAttribute(posAttr, i3 + 1)\n    const c = verts[2].fromBufferAttribute(posAttr, i3 + 2)\n\n    tempVec1.subVectors(c, b)\n    tempVec2.subVectors(a, b)\n\n    tempNorm.crossVectors(tempVec1, tempVec2).normalize()\n\n    // average all normals that meet the threshold and set the normal value\n    for (let n = 0; n < 3; n++) {\n      const vert = verts[n]\n      const hash = hashVertex(vert)\n      const otherNormals = vertexMap[hash]\n      tempNorm2.set(0, 0, 0)\n\n      for (let k = 0, lk = otherNormals.length; k < lk; k++) {\n        const otherNorm = otherNormals[k]\n        if (tempNorm.dot(otherNorm) > creaseDot) {\n          tempNorm2.add(otherNorm)\n        }\n      }\n\n      tempNorm2.normalize()\n      normAttr.setXYZ(i3 + n, tempNorm2.x, tempNorm2.y, tempNorm2.z)\n    }\n  }\n\n  resultGeometry.setAttribute('normal', normAttr)\n  return resultGeometry\n}\n"],"names":["buffer","object","material","morphTargetsRelative","a","b","c","i","il"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8524, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8530, "column": 0}, "map": {"version":3,"file":"GLTFLoader.js","sources":["file:///Users/jay/personal/dczii.github.io/node_modules/src/loaders/GLTFLoader.js"],"sourcesContent":["import {\n  AnimationClip,\n  Bone,\n  Box3,\n  BufferAttribute,\n  BufferGeometry,\n  ClampToEdgeWrapping,\n  Color,\n  DirectionalLight,\n  DoubleSide,\n  FileLoader,\n  FrontSide,\n  Group,\n  ImageBitmapLoader,\n  InstancedMesh,\n  InterleavedBuffer,\n  InterleavedBufferAttribute,\n  Interpolant,\n  InterpolateDiscrete,\n  InterpolateLinear,\n  Line,\n  LineBasicMaterial,\n  LineLoop,\n  LineSegments,\n  LinearFilter,\n  LinearMipmapLinearFilter,\n  LinearMipmapNearestFilter,\n  Loader,\n  LoaderUtils,\n  Material,\n  MathUtils,\n  Matrix4,\n  Mesh,\n  MeshBasicMaterial,\n  MeshPhysicalMaterial,\n  MeshStandardMaterial,\n  MirroredRepeatWrapping,\n  NearestFilter,\n  NearestMipmapLinearFilter,\n  NearestMipmapNearestFilter,\n  NumberKeyframeTrack,\n  Object3D,\n  OrthographicCamera,\n  PerspectiveCamera,\n  PointLight,\n  Points,\n  PointsMaterial,\n  PropertyBinding,\n  Quaternion,\n  QuaternionKeyframeTrack,\n  RepeatWrapping,\n  Skeleton,\n  SkinnedMesh,\n  Sphere,\n  SpotLight,\n  Texture,\n  TextureLoader,\n  TriangleFanDrawMode,\n  TriangleStripDrawMode,\n  Vector2,\n  Vector3,\n  VectorKeyframeTrack,\n  InstancedBufferAttribute,\n} from 'three'\nimport { toTrianglesDrawMode } from '../utils/BufferGeometryUtils'\nimport { version } from '../_polyfill/constants'\nimport { decodeText } from '../_polyfill/LoaderUtils'\n\nconst SRGBColorSpace = 'srgb'\nconst LinearSRGBColorSpace = 'srgb-linear'\nconst sRGBEncoding = 3001\nconst LinearEncoding = 3000\n\nclass GLTFLoader extends Loader {\n  constructor(manager) {\n    super(manager)\n\n    this.dracoLoader = null\n    this.ktx2Loader = null\n    this.meshoptDecoder = null\n\n    this.pluginCallbacks = []\n\n    this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsDispersionExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFTextureAVIFExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsSheenExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsVolumeExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsIorExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsEmissiveStrengthExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsSpecularExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsIridescenceExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsAnisotropyExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsBumpExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFLightsExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMeshGpuInstancing(parser)\n    })\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const scope = this\n\n    let resourcePath\n\n    if (this.resourcePath !== '') {\n      resourcePath = this.resourcePath\n    } else if (this.path !== '') {\n      // If a base path is set, resources will be relative paths from that plus the relative path of the gltf file\n      // Example  path = 'https://my-cnd-server.com/', url = 'assets/models/model.gltf'\n      // resourcePath = 'https://my-cnd-server.com/assets/models/'\n      // referenced resource 'model.bin' will be loaded from 'https://my-cnd-server.com/assets/models/model.bin'\n      // referenced resource '../textures/texture.png' will be loaded from 'https://my-cnd-server.com/assets/textures/texture.png'\n      const relativeUrl = LoaderUtils.extractUrlBase(url)\n      resourcePath = LoaderUtils.resolveURL(relativeUrl, this.path)\n    } else {\n      resourcePath = LoaderUtils.extractUrlBase(url)\n    }\n\n    // Tells the LoadingManager to track an extra item, which resolves after\n    // the model is fully loaded. This means the count of items loaded will\n    // be incorrect, but ensures manager.onLoad() does not fire early.\n    this.manager.itemStart(url)\n\n    const _onError = function (e) {\n      if (onError) {\n        onError(e)\n      } else {\n        console.error(e)\n      }\n\n      scope.manager.itemError(url)\n      scope.manager.itemEnd(url)\n    }\n\n    const loader = new FileLoader(this.manager)\n\n    loader.setPath(this.path)\n    loader.setResponseType('arraybuffer')\n    loader.setRequestHeader(this.requestHeader)\n    loader.setWithCredentials(this.withCredentials)\n\n    loader.load(\n      url,\n      function (data) {\n        try {\n          scope.parse(\n            data,\n            resourcePath,\n            function (gltf) {\n              onLoad(gltf)\n\n              scope.manager.itemEnd(url)\n            },\n            _onError,\n          )\n        } catch (e) {\n          _onError(e)\n        }\n      },\n      onProgress,\n      _onError,\n    )\n  }\n\n  setDRACOLoader(dracoLoader) {\n    this.dracoLoader = dracoLoader\n    return this\n  }\n\n  setDDSLoader() {\n    throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".')\n  }\n\n  setKTX2Loader(ktx2Loader) {\n    this.ktx2Loader = ktx2Loader\n    return this\n  }\n\n  setMeshoptDecoder(meshoptDecoder) {\n    this.meshoptDecoder = meshoptDecoder\n    return this\n  }\n\n  register(callback) {\n    if (this.pluginCallbacks.indexOf(callback) === -1) {\n      this.pluginCallbacks.push(callback)\n    }\n\n    return this\n  }\n\n  unregister(callback) {\n    if (this.pluginCallbacks.indexOf(callback) !== -1) {\n      this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1)\n    }\n\n    return this\n  }\n\n  parse(data, path, onLoad, onError) {\n    let json\n    const extensions = {}\n    const plugins = {}\n\n    if (typeof data === 'string') {\n      json = JSON.parse(data)\n    } else if (data instanceof ArrayBuffer) {\n      const magic = decodeText(new Uint8Array(data.slice(0, 4)))\n\n      if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n        try {\n          extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data)\n        } catch (error) {\n          if (onError) onError(error)\n          return\n        }\n\n        json = JSON.parse(extensions[EXTENSIONS.KHR_BINARY_GLTF].content)\n      } else {\n        json = JSON.parse(decodeText(new Uint8Array(data)))\n      }\n    } else {\n      json = data\n    }\n\n    if (json.asset === undefined || json.asset.version[0] < 2) {\n      if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'))\n      return\n    }\n\n    const parser = new GLTFParser(json, {\n      path: path || this.resourcePath || '',\n      crossOrigin: this.crossOrigin,\n      requestHeader: this.requestHeader,\n      manager: this.manager,\n      ktx2Loader: this.ktx2Loader,\n      meshoptDecoder: this.meshoptDecoder,\n    })\n\n    parser.fileLoader.setRequestHeader(this.requestHeader)\n\n    for (let i = 0; i < this.pluginCallbacks.length; i++) {\n      const plugin = this.pluginCallbacks[i](parser)\n\n      if (!plugin.name) console.error('THREE.GLTFLoader: Invalid plugin found: missing name')\n\n      plugins[plugin.name] = plugin\n\n      // Workaround to avoid determining as unknown extension\n      // in addUnknownExtensionsToUserData().\n      // Remove this workaround if we move all the existing\n      // extension handlers to plugin system\n      extensions[plugin.name] = true\n    }\n\n    if (json.extensionsUsed) {\n      for (let i = 0; i < json.extensionsUsed.length; ++i) {\n        const extensionName = json.extensionsUsed[i]\n        const extensionsRequired = json.extensionsRequired || []\n\n        switch (extensionName) {\n          case EXTENSIONS.KHR_MATERIALS_UNLIT:\n            extensions[extensionName] = new GLTFMaterialsUnlitExtension()\n            break\n\n          case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader)\n            break\n\n          case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n            extensions[extensionName] = new GLTFTextureTransformExtension()\n            break\n\n          case EXTENSIONS.KHR_MESH_QUANTIZATION:\n            extensions[extensionName] = new GLTFMeshQuantizationExtension()\n            break\n\n          default:\n            if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n              console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".')\n            }\n        }\n      }\n    }\n\n    parser.setExtensions(extensions)\n    parser.setPlugins(plugins)\n    parser.parse(onLoad, onError)\n  }\n\n  parseAsync(data, path) {\n    const scope = this\n\n    return new Promise(function (resolve, reject) {\n      scope.parse(data, path, resolve, reject)\n    })\n  }\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n  let objects = {}\n\n  return {\n    get: function (key) {\n      return objects[key]\n    },\n\n    add: function (key, object) {\n      objects[key] = object\n    },\n\n    remove: function (key) {\n      delete objects[key]\n    },\n\n    removeAll: function () {\n      objects = {}\n    },\n  }\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n  KHR_MATERIALS_DISPERSION: 'KHR_materials_dispersion',\n  KHR_MATERIALS_IOR: 'KHR_materials_ior',\n  KHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n  KHR_MATERIALS_IRIDESCENCE: 'KHR_materials_iridescence',\n  KHR_MATERIALS_ANISOTROPY: 'KHR_materials_anisotropy',\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n  KHR_MATERIALS_EMISSIVE_STRENGTH: 'KHR_materials_emissive_strength',\n  EXT_MATERIALS_BUMP: 'EXT_materials_bump',\n  EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n  EXT_TEXTURE_AVIF: 'EXT_texture_avif',\n  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\n  EXT_MESH_GPU_INSTANCING: 'EXT_mesh_gpu_instancing',\n}\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL\n\n    // Object3D instance caches\n    this.cache = { refs: {}, uses: {} }\n  }\n\n  _markDefs() {\n    const parser = this.parser\n    const nodeDefs = this.parser.json.nodes || []\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex]\n\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light)\n      }\n    }\n  }\n\n  _loadLight(lightIndex) {\n    const parser = this.parser\n    const cacheKey = 'light:' + lightIndex\n    let dependency = parser.cache.get(cacheKey)\n\n    if (dependency) return dependency\n\n    const json = parser.json\n    const extensions = (json.extensions && json.extensions[this.name]) || {}\n    const lightDefs = extensions.lights || []\n    const lightDef = lightDefs[lightIndex]\n    let lightNode\n\n    const color = new Color(0xffffff)\n\n    if (lightDef.color !== undefined)\n      color.setRGB(lightDef.color[0], lightDef.color[1], lightDef.color[2], LinearSRGBColorSpace)\n\n    const range = lightDef.range !== undefined ? lightDef.range : 0\n\n    switch (lightDef.type) {\n      case 'directional':\n        lightNode = new DirectionalLight(color)\n        lightNode.target.position.set(0, 0, -1)\n        lightNode.add(lightNode.target)\n        break\n\n      case 'point':\n        lightNode = new PointLight(color)\n        lightNode.distance = range\n        break\n\n      case 'spot':\n        lightNode = new SpotLight(color)\n        lightNode.distance = range\n        // Handle spotlight properties.\n        lightDef.spot = lightDef.spot || {}\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0\n        lightDef.spot.outerConeAngle =\n          lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0\n        lightNode.angle = lightDef.spot.outerConeAngle\n        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle\n        lightNode.target.position.set(0, 0, -1)\n        lightNode.add(lightNode.target)\n        break\n\n      default:\n        throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type)\n    }\n\n    // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n    // here, because node-level parsing will only override position if explicitly specified.\n    lightNode.position.set(0, 0, 0)\n\n    lightNode.decay = 2\n\n    assignExtrasToUserData(lightNode, lightDef)\n\n    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity\n\n    lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex)\n\n    dependency = Promise.resolve(lightNode)\n\n    parser.cache.add(cacheKey, dependency)\n\n    return dependency\n  }\n\n  getDependency(type, index) {\n    if (type !== 'light') return\n\n    return this._loadLight(index)\n  }\n\n  createNodeAttachment(nodeIndex) {\n    const self = this\n    const parser = this.parser\n    const json = parser.json\n    const nodeDef = json.nodes[nodeIndex]\n    const lightDef = (nodeDef.extensions && nodeDef.extensions[this.name]) || {}\n    const lightIndex = lightDef.light\n\n    if (lightIndex === undefined) return null\n\n    return this._loadLight(lightIndex).then(function (light) {\n      return parser._getNodeRef(self.cache, lightIndex, light)\n    })\n  }\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT\n  }\n\n  getMaterialType() {\n    return MeshBasicMaterial\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pending = []\n\n    materialParams.color = new Color(1.0, 1.0, 1.0)\n    materialParams.opacity = 1.0\n\n    const metallicRoughness = materialDef.pbrMetallicRoughness\n\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor\n\n        materialParams.color.setRGB(array[0], array[1], array[2], LinearSRGBColorSpace)\n        materialParams.opacity = array[3]\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture, SRGBColorSpace))\n      }\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials Emissive Strength Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/blob/5768b3ce0ef32bc39cdf1bef10b948586635ead3/extensions/2.0/Khronos/KHR_materials_emissive_strength/README.md\n */\nclass GLTFMaterialsEmissiveStrengthExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const emissiveStrength = materialDef.extensions[this.name].emissiveStrength\n\n    if (emissiveStrength !== undefined) {\n      materialParams.emissiveIntensity = emissiveStrength\n    }\n\n    return Promise.resolve()\n  }\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.clearcoatFactor !== undefined) {\n      materialParams.clearcoat = extension.clearcoatFactor\n    }\n\n    if (extension.clearcoatTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture))\n    }\n\n    if (extension.clearcoatRoughnessFactor !== undefined) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor\n    }\n\n    if (extension.clearcoatRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture))\n    }\n\n    if (extension.clearcoatNormalTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture))\n\n      if (extension.clearcoatNormalTexture.scale !== undefined) {\n        const scale = extension.clearcoatNormalTexture.scale\n\n        materialParams.clearcoatNormalScale = new Vector2(scale, scale)\n      }\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials dispersion Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_dispersion\n */\nclass GLTFMaterialsDispersionExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_DISPERSION\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.dispersion = extension.dispersion !== undefined ? extension.dispersion : 0\n\n    return Promise.resolve()\n  }\n}\n\n/**\n * Iridescence Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_iridescence\n */\nclass GLTFMaterialsIridescenceExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_IRIDESCENCE\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.iridescenceFactor !== undefined) {\n      materialParams.iridescence = extension.iridescenceFactor\n    }\n\n    if (extension.iridescenceTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'iridescenceMap', extension.iridescenceTexture))\n    }\n\n    if (extension.iridescenceIor !== undefined) {\n      materialParams.iridescenceIOR = extension.iridescenceIor\n    }\n\n    if (materialParams.iridescenceThicknessRange === undefined) {\n      materialParams.iridescenceThicknessRange = [100, 400]\n    }\n\n    if (extension.iridescenceThicknessMinimum !== undefined) {\n      materialParams.iridescenceThicknessRange[0] = extension.iridescenceThicknessMinimum\n    }\n\n    if (extension.iridescenceThicknessMaximum !== undefined) {\n      materialParams.iridescenceThicknessRange[1] = extension.iridescenceThicknessMaximum\n    }\n\n    if (extension.iridescenceThicknessTexture !== undefined) {\n      pending.push(\n        parser.assignTexture(materialParams, 'iridescenceThicknessMap', extension.iridescenceThicknessTexture),\n      )\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\nclass GLTFMaterialsSheenExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_SHEEN\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    materialParams.sheenColor = new Color(0, 0, 0)\n    materialParams.sheenRoughness = 0\n    materialParams.sheen = 1\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.sheenColorFactor !== undefined) {\n      const colorFactor = extension.sheenColorFactor\n      materialParams.sheenColor.setRGB(colorFactor[0], colorFactor[1], colorFactor[2], LinearSRGBColorSpace)\n    }\n\n    if (extension.sheenRoughnessFactor !== undefined) {\n      materialParams.sheenRoughness = extension.sheenRoughnessFactor\n    }\n\n    if (extension.sheenColorTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenColorMap', extension.sheenColorTexture, SRGBColorSpace))\n    }\n\n    if (extension.sheenRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.transmissionFactor !== undefined) {\n      materialParams.transmission = extension.transmissionFactor\n    }\n\n    if (extension.transmissionTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0\n\n    if (extension.thicknessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture))\n    }\n\n    materialParams.attenuationDistance = extension.attenuationDistance || Infinity\n\n    const colorArray = extension.attenuationColor || [1, 1, 1]\n    materialParams.attenuationColor = new Color().setRGB(\n      colorArray[0],\n      colorArray[1],\n      colorArray[2],\n      LinearSRGBColorSpace,\n    )\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5\n\n    return Promise.resolve()\n  }\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0\n\n    if (extension.specularTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture))\n    }\n\n    const colorArray = extension.specularColorFactor || [1, 1, 1]\n    materialParams.specularColor = new Color().setRGB(colorArray[0], colorArray[1], colorArray[2], LinearSRGBColorSpace)\n\n    if (extension.specularColorTexture !== undefined) {\n      pending.push(\n        parser.assignTexture(materialParams, 'specularColorMap', extension.specularColorTexture, SRGBColorSpace),\n      )\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials bump Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/EXT_materials_bump\n */\nclass GLTFMaterialsBumpExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.EXT_MATERIALS_BUMP\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.bumpScale = extension.bumpFactor !== undefined ? extension.bumpFactor : 1.0\n\n    if (extension.bumpTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'bumpMap', extension.bumpTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials anisotropy Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_anisotropy\n */\nclass GLTFMaterialsAnisotropyExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_ANISOTROPY\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.anisotropyStrength !== undefined) {\n      materialParams.anisotropy = extension.anisotropyStrength\n    }\n\n    if (extension.anisotropyRotation !== undefined) {\n      materialParams.anisotropyRotation = extension.anisotropyRotation\n    }\n\n    if (extension.anisotropyTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'anisotropyMap', extension.anisotropyTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU\n  }\n\n  loadTexture(textureIndex) {\n    const parser = this.parser\n    const json = parser.json\n\n    const textureDef = json.textures[textureIndex]\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null\n    }\n\n    const extension = textureDef.extensions[this.name]\n    const loader = parser.options.ktx2Loader\n\n    if (!loader) {\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n        throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures')\n      } else {\n        // Assumes that the extension is optional and that a fallback texture is present\n        return null\n      }\n    }\n\n    return parser.loadTextureImage(textureIndex, extension.source, loader)\n  }\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP\n    this.isSupported = null\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name\n    const parser = this.parser\n    const json = parser.json\n\n    const textureDef = json.textures[textureIndex]\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null\n    }\n\n    const extension = textureDef.extensions[name]\n    const source = json.images[extension.source]\n\n    let loader = parser.textureLoader\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri)\n      if (handler !== null) loader = handler\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, extension.source, loader)\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.')\n      }\n\n      // Fall back to PNG or JPEG.\n      return parser.loadTexture(textureIndex)\n    })\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image()\n\n        // Lossy test image. Support for lossy images doesn't guarantee support for all\n        // WebP images, unfortunately.\n        image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA'\n\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1)\n        }\n      })\n    }\n\n    return this.isSupported\n  }\n}\n\n/**\n * AVIF Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_avif\n */\nclass GLTFTextureAVIFExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.EXT_TEXTURE_AVIF\n    this.isSupported = null\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name\n    const parser = this.parser\n    const json = parser.json\n\n    const textureDef = json.textures[textureIndex]\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null\n    }\n\n    const extension = textureDef.extensions[name]\n    const source = json.images[extension.source]\n\n    let loader = parser.textureLoader\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri)\n      if (handler !== null) loader = handler\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, extension.source, loader)\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: AVIF required by asset but unsupported.')\n      }\n\n      // Fall back to PNG or JPEG.\n      return parser.loadTexture(textureIndex)\n    })\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image()\n\n        // Lossy test image.\n        image.src =\n          'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI='\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1)\n        }\n      })\n    }\n\n    return this.isSupported\n  }\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION\n    this.parser = parser\n  }\n\n  loadBufferView(index) {\n    const json = this.parser.json\n    const bufferView = json.bufferViews[index]\n\n    if (bufferView.extensions && bufferView.extensions[this.name]) {\n      const extensionDef = bufferView.extensions[this.name]\n\n      const buffer = this.parser.getDependency('buffer', extensionDef.buffer)\n      const decoder = this.parser.options.meshoptDecoder\n\n      if (!decoder || !decoder.supported) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files')\n        } else {\n          // Assumes that the extension is optional and that fallback buffer data is present\n          return null\n        }\n      }\n\n      return buffer.then(function (res) {\n        const byteOffset = extensionDef.byteOffset || 0\n        const byteLength = extensionDef.byteLength || 0\n\n        const count = extensionDef.count\n        const stride = extensionDef.byteStride\n\n        const source = new Uint8Array(res, byteOffset, byteLength)\n\n        if (decoder.decodeGltfBufferAsync) {\n          return decoder\n            .decodeGltfBufferAsync(count, stride, source, extensionDef.mode, extensionDef.filter)\n            .then(function (res) {\n              return res.buffer\n            })\n        } else {\n          // Support for MeshoptDecoder 0.18 or earlier, without decodeGltfBufferAsync\n          return decoder.ready.then(function () {\n            const result = new ArrayBuffer(count * stride)\n            decoder.decodeGltfBuffer(\n              new Uint8Array(result),\n              count,\n              stride,\n              source,\n              extensionDef.mode,\n              extensionDef.filter,\n            )\n            return result\n          })\n        }\n      })\n    } else {\n      return null\n    }\n  }\n}\n\n/**\n * GPU Instancing Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_mesh_gpu_instancing\n *\n */\nclass GLTFMeshGpuInstancing {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESH_GPU_INSTANCING\n    this.parser = parser\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.parser.json\n    const nodeDef = json.nodes[nodeIndex]\n\n    if (!nodeDef.extensions || !nodeDef.extensions[this.name] || nodeDef.mesh === undefined) {\n      return null\n    }\n\n    const meshDef = json.meshes[nodeDef.mesh]\n\n    // No Points or Lines + Instancing support yet\n\n    for (const primitive of meshDef.primitives) {\n      if (\n        primitive.mode !== WEBGL_CONSTANTS.TRIANGLES &&\n        primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_STRIP &&\n        primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_FAN &&\n        primitive.mode !== undefined\n      ) {\n        return null\n      }\n    }\n\n    const extensionDef = nodeDef.extensions[this.name]\n    const attributesDef = extensionDef.attributes\n\n    // @TODO: Can we support InstancedMesh + SkinnedMesh?\n\n    const pending = []\n    const attributes = {}\n\n    for (const key in attributesDef) {\n      pending.push(\n        this.parser.getDependency('accessor', attributesDef[key]).then((accessor) => {\n          attributes[key] = accessor\n          return attributes[key]\n        }),\n      )\n    }\n\n    if (pending.length < 1) {\n      return null\n    }\n\n    pending.push(this.parser.createNodeMesh(nodeIndex))\n\n    return Promise.all(pending).then((results) => {\n      const nodeObject = results.pop()\n      const meshes = nodeObject.isGroup ? nodeObject.children : [nodeObject]\n      const count = results[0].count // All attribute counts should be same\n      const instancedMeshes = []\n\n      for (const mesh of meshes) {\n        // Temporal variables\n        const m = new Matrix4()\n        const p = new Vector3()\n        const q = new Quaternion()\n        const s = new Vector3(1, 1, 1)\n\n        const instancedMesh = new InstancedMesh(mesh.geometry, mesh.material, count)\n\n        for (let i = 0; i < count; i++) {\n          if (attributes.TRANSLATION) {\n            p.fromBufferAttribute(attributes.TRANSLATION, i)\n          }\n\n          if (attributes.ROTATION) {\n            q.fromBufferAttribute(attributes.ROTATION, i)\n          }\n\n          if (attributes.SCALE) {\n            s.fromBufferAttribute(attributes.SCALE, i)\n          }\n\n          instancedMesh.setMatrixAt(i, m.compose(p, q, s))\n        }\n\n        // Add instance attributes to the geometry, excluding TRS.\n        for (const attributeName in attributes) {\n          if (attributeName === '_COLOR_0') {\n            const attr = attributes[attributeName]\n            instancedMesh.instanceColor = new InstancedBufferAttribute(attr.array, attr.itemSize, attr.normalized)\n          } else if (attributeName !== 'TRANSLATION' && attributeName !== 'ROTATION' && attributeName !== 'SCALE') {\n            mesh.geometry.setAttribute(attributeName, attributes[attributeName])\n          }\n        }\n\n        // Just in case\n        Object3D.prototype.copy.call(instancedMesh, mesh)\n\n        this.parser.assignFinalMaterial(instancedMesh)\n\n        instancedMeshes.push(instancedMesh)\n      }\n\n      if (nodeObject.isGroup) {\n        nodeObject.clear()\n\n        nodeObject.add(...instancedMeshes)\n\n        return nodeObject\n      }\n\n      return instancedMeshes[0]\n    })\n  }\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF'\nconst BINARY_EXTENSION_HEADER_LENGTH = 12\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4e4f534a, BIN: 0x004e4942 }\n\nclass GLTFBinaryExtension {\n  constructor(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF\n    this.content = null\n    this.body = null\n\n    const headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH)\n\n    this.header = {\n      magic: decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true),\n    }\n\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.')\n    } else if (this.header.version < 2.0) {\n      throw new Error('THREE.GLTFLoader: Legacy binary file detected.')\n    }\n\n    const chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH\n    const chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH)\n    let chunkIndex = 0\n\n    while (chunkIndex < chunkContentsLength) {\n      const chunkLength = chunkView.getUint32(chunkIndex, true)\n      chunkIndex += 4\n\n      const chunkType = chunkView.getUint32(chunkIndex, true)\n      chunkIndex += 4\n\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        const contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength)\n        this.content = decodeText(contentArray)\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        const byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex\n        this.body = data.slice(byteOffset, byteOffset + chunkLength)\n      }\n\n      // Clients must ignore chunks with unknown types.\n\n      chunkIndex += chunkLength\n    }\n\n    if (this.content === null) {\n      throw new Error('THREE.GLTFLoader: JSON content not found.')\n    }\n  }\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n  constructor(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.')\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION\n    this.json = json\n    this.dracoLoader = dracoLoader\n    this.dracoLoader.preload()\n  }\n\n  decodePrimitive(primitive, parser) {\n    const json = this.json\n    const dracoLoader = this.dracoLoader\n    const bufferViewIndex = primitive.extensions[this.name].bufferView\n    const gltfAttributeMap = primitive.extensions[this.name].attributes\n    const threeAttributeMap = {}\n    const attributeNormalizedMap = {}\n    const attributeTypeMap = {}\n\n    for (const attributeName in gltfAttributeMap) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase()\n\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName]\n    }\n\n    for (const attributeName in primitive.attributes) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase()\n\n      if (gltfAttributeMap[attributeName] !== undefined) {\n        const accessorDef = json.accessors[primitive.attributes[attributeName]]\n        const componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType]\n\n        attributeTypeMap[threeAttributeName] = componentType.name\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true\n      }\n    }\n\n    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n      return new Promise(function (resolve, reject) {\n        dracoLoader.decodeDracoFile(\n          bufferView,\n          function (geometry) {\n            for (const attributeName in geometry.attributes) {\n              const attribute = geometry.attributes[attributeName]\n              const normalized = attributeNormalizedMap[attributeName]\n\n              if (normalized !== undefined) attribute.normalized = normalized\n            }\n\n            resolve(geometry)\n          },\n          threeAttributeMap,\n          attributeTypeMap,\n          LinearSRGBColorSpace,\n          reject,\n        )\n      })\n    })\n  }\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM\n  }\n\n  extendTexture(texture, transform) {\n    if (\n      (transform.texCoord === undefined || transform.texCoord === texture.channel) &&\n      transform.offset === undefined &&\n      transform.rotation === undefined &&\n      transform.scale === undefined\n    ) {\n      // See https://github.com/mrdoob/three.js/issues/21819.\n      return texture\n    }\n\n    texture = texture.clone()\n\n    if (transform.texCoord !== undefined) {\n      texture.channel = transform.texCoord\n    }\n\n    if (transform.offset !== undefined) {\n      texture.offset.fromArray(transform.offset)\n    }\n\n    if (transform.rotation !== undefined) {\n      texture.rotation = transform.rotation\n    }\n\n    if (transform.scale !== undefined) {\n      texture.repeat.fromArray(transform.scale)\n    }\n\n    texture.needsUpdate = true\n\n    return texture\n  }\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION\n  }\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n  constructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer)\n  }\n\n  copySampleValue_(index) {\n    // Copies a sample value to the result buffer. See description of glTF\n    // CUBICSPLINE values layout in interpolate_() function below.\n\n    const result = this.resultBuffer,\n      values = this.sampleValues,\n      valueSize = this.valueSize,\n      offset = index * valueSize * 3 + valueSize\n\n    for (let i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i]\n    }\n\n    return result\n  }\n\n  interpolate_(i1, t0, t, t1) {\n    const result = this.resultBuffer\n    const values = this.sampleValues\n    const stride = this.valueSize\n\n    const stride2 = stride * 2\n    const stride3 = stride * 3\n\n    const td = t1 - t0\n\n    const p = (t - t0) / td\n    const pp = p * p\n    const ppp = pp * p\n\n    const offset1 = i1 * stride3\n    const offset0 = offset1 - stride3\n\n    const s2 = -2 * ppp + 3 * pp\n    const s3 = ppp - pp\n    const s0 = 1 - s2\n    const s1 = s3 - pp + p\n\n    // Layout of keyframe output values for CUBICSPLINE animations:\n    //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n    for (let i = 0; i !== stride; i++) {\n      const p0 = values[offset0 + i + stride] // splineVertex_k\n      const m0 = values[offset0 + i + stride2] * td // outTangent_k * (t_k+1 - t_k)\n      const p1 = values[offset1 + i + stride] // splineVertex_k+1\n      const m1 = values[offset1 + i] * td // inTangent_k+1 * (t_k+1 - t_k)\n\n      result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1\n    }\n\n    return result\n  }\n}\n\nconst _q = new Quaternion()\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n  interpolate_(i1, t0, t, t1) {\n    const result = super.interpolate_(i1, t0, t, t1)\n\n    _q.fromArray(result).normalize().toArray(result)\n\n    return result\n  }\n}\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123,\n}\n\nconst WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array,\n}\n\nconst WEBGL_FILTERS = {\n  9728: NearestFilter,\n  9729: LinearFilter,\n  9984: NearestMipmapNearestFilter,\n  9985: LinearMipmapNearestFilter,\n  9986: NearestMipmapLinearFilter,\n  9987: LinearMipmapLinearFilter,\n}\n\nconst WEBGL_WRAPPINGS = {\n  33071: ClampToEdgeWrapping,\n  33648: MirroredRepeatWrapping,\n  10497: RepeatWrapping,\n}\n\nconst WEBGL_TYPE_SIZES = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16,\n}\n\nconst ATTRIBUTES = {\n  POSITION: 'position',\n  NORMAL: 'normal',\n  TANGENT: 'tangent',\n  // uv => uv1, 4 uv channels\n  // https://github.com/mrdoob/three.js/pull/25943\n  // https://github.com/mrdoob/three.js/pull/25788\n  ...(version >= 152\n    ? {\n        TEXCOORD_0: 'uv',\n        TEXCOORD_1: 'uv1',\n        TEXCOORD_2: 'uv2',\n        TEXCOORD_3: 'uv3',\n      }\n    : {\n        TEXCOORD_0: 'uv',\n        TEXCOORD_1: 'uv2',\n      }),\n\n  COLOR_0: 'color',\n  WEIGHTS_0: 'skinWeight',\n  JOINTS_0: 'skinIndex',\n}\n\nconst PATH_PROPERTIES = {\n  scale: 'scale',\n  translation: 'position',\n  rotation: 'quaternion',\n  weights: 'morphTargetInfluences',\n}\n\nconst INTERPOLATION = {\n  CUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: InterpolateLinear,\n  STEP: InterpolateDiscrete,\n}\n\nconst ALPHA_MODES = {\n  OPAQUE: 'OPAQUE',\n  MASK: 'MASK',\n  BLEND: 'BLEND',\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial(cache) {\n  if (cache['DefaultMaterial'] === undefined) {\n    cache['DefaultMaterial'] = new MeshStandardMaterial({\n      color: 0xffffff,\n      emissive: 0x000000,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: FrontSide,\n    })\n  }\n\n  return cache['DefaultMaterial']\n}\n\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  // Add unknown glTF extensions to an object's userData.\n\n  for (const name in objectDef.extensions) {\n    if (knownExtensions[name] === undefined) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {}\n      object.userData.gltfExtensions[name] = objectDef.extensions[name]\n    }\n  }\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== undefined) {\n    if (typeof gltfDef.extras === 'object') {\n      Object.assign(object.userData, gltfDef.extras)\n    } else {\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras)\n    }\n  }\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets(geometry, targets, parser) {\n  let hasMorphPosition = false\n  let hasMorphNormal = false\n  let hasMorphColor = false\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i]\n\n    if (target.POSITION !== undefined) hasMorphPosition = true\n    if (target.NORMAL !== undefined) hasMorphNormal = true\n    if (target.COLOR_0 !== undefined) hasMorphColor = true\n\n    if (hasMorphPosition && hasMorphNormal && hasMorphColor) break\n  }\n\n  if (!hasMorphPosition && !hasMorphNormal && !hasMorphColor) return Promise.resolve(geometry)\n\n  const pendingPositionAccessors = []\n  const pendingNormalAccessors = []\n  const pendingColorAccessors = []\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i]\n\n    if (hasMorphPosition) {\n      const pendingAccessor =\n        target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position\n\n      pendingPositionAccessors.push(pendingAccessor)\n    }\n\n    if (hasMorphNormal) {\n      const pendingAccessor =\n        target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal\n\n      pendingNormalAccessors.push(pendingAccessor)\n    }\n\n    if (hasMorphColor) {\n      const pendingAccessor =\n        target.COLOR_0 !== undefined ? parser.getDependency('accessor', target.COLOR_0) : geometry.attributes.color\n\n      pendingColorAccessors.push(pendingAccessor)\n    }\n  }\n\n  return Promise.all([\n    Promise.all(pendingPositionAccessors),\n    Promise.all(pendingNormalAccessors),\n    Promise.all(pendingColorAccessors),\n  ]).then(function (accessors) {\n    const morphPositions = accessors[0]\n    const morphNormals = accessors[1]\n    const morphColors = accessors[2]\n\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals\n    if (hasMorphColor) geometry.morphAttributes.color = morphColors\n    geometry.morphTargetsRelative = true\n\n    return geometry\n  })\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets()\n\n  if (meshDef.weights !== undefined) {\n    for (let i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i]\n    }\n  }\n\n  // .extras has user-defined data, so check that .extras.targetNames is an array.\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    const targetNames = meshDef.extras.targetNames\n\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {}\n\n      for (let i = 0, il = targetNames.length; i < il; i++) {\n        mesh.morphTargetDictionary[targetNames[i]] = i\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.')\n    }\n  }\n}\n\nfunction createPrimitiveKey(primitiveDef) {\n  let geometryKey\n\n  const dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]\n\n  if (dracoExtension) {\n    geometryKey =\n      'draco:' +\n      dracoExtension.bufferView +\n      ':' +\n      dracoExtension.indices +\n      ':' +\n      createAttributesKey(dracoExtension.attributes)\n  } else {\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode\n  }\n\n  if (primitiveDef.targets !== undefined) {\n    for (let i = 0, il = primitiveDef.targets.length; i < il; i++) {\n      geometryKey += ':' + createAttributesKey(primitiveDef.targets[i])\n    }\n  }\n\n  return geometryKey\n}\n\nfunction createAttributesKey(attributes) {\n  let attributesKey = ''\n\n  const keys = Object.keys(attributes).sort()\n\n  for (let i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';'\n  }\n\n  return attributesKey\n}\n\nfunction getNormalizedComponentScale(constructor) {\n  // Reference:\n  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127\n\n    case Uint8Array:\n      return 1 / 255\n\n    case Int16Array:\n      return 1 / 32767\n\n    case Uint16Array:\n      return 1 / 65535\n\n    default:\n      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.')\n  }\n}\n\nfunction getImageURIMimeType(uri) {\n  if (uri.search(/\\.jpe?g($|\\?)/i) > 0 || uri.search(/^data\\:image\\/jpeg/) === 0) return 'image/jpeg'\n  if (uri.search(/\\.webp($|\\?)/i) > 0 || uri.search(/^data\\:image\\/webp/) === 0) return 'image/webp'\n\n  return 'image/png'\n}\n\nconst _identityMatrix = new Matrix4()\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n  constructor(json = {}, options = {}) {\n    this.json = json\n    this.extensions = {}\n    this.plugins = {}\n    this.options = options\n\n    // loader object cache\n    this.cache = new GLTFRegistry()\n\n    // associations between Three.js objects and glTF elements\n    this.associations = new Map()\n\n    // BufferGeometry caching\n    this.primitiveCache = {}\n\n    // Node cache\n    this.nodeCache = {}\n\n    // Object3D instance caches\n    this.meshCache = { refs: {}, uses: {} }\n    this.cameraCache = { refs: {}, uses: {} }\n    this.lightCache = { refs: {}, uses: {} }\n\n    this.sourceCache = {}\n    this.textureCache = {}\n\n    // Track node names, to ensure no duplicates\n    this.nodeNamesUsed = {}\n\n    // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    let isSafari = false\n    let isFirefox = false\n    let firefoxVersion = -1\n\n    if (typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined') {\n      isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent) === true\n      isFirefox = navigator.userAgent.indexOf('Firefox') > -1\n      firefoxVersion = isFirefox ? navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)[1] : -1\n    }\n\n    if (typeof createImageBitmap === 'undefined' || isSafari || (isFirefox && firefoxVersion < 98)) {\n      this.textureLoader = new TextureLoader(this.options.manager)\n    } else {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager)\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin)\n    this.textureLoader.setRequestHeader(this.options.requestHeader)\n\n    this.fileLoader = new FileLoader(this.options.manager)\n    this.fileLoader.setResponseType('arraybuffer')\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true)\n    }\n  }\n\n  setExtensions(extensions) {\n    this.extensions = extensions\n  }\n\n  setPlugins(plugins) {\n    this.plugins = plugins\n  }\n\n  parse(onLoad, onError) {\n    const parser = this\n    const json = this.json\n    const extensions = this.extensions\n\n    // Clear the loader cache\n    this.cache.removeAll()\n    this.nodeCache = {}\n\n    // Mark the special nodes/meshes in json for efficient parse\n    this._invokeAll(function (ext) {\n      return ext._markDefs && ext._markDefs()\n    })\n\n    Promise.all(\n      this._invokeAll(function (ext) {\n        return ext.beforeRoot && ext.beforeRoot()\n      }),\n    )\n      .then(function () {\n        return Promise.all([\n          parser.getDependencies('scene'),\n          parser.getDependencies('animation'),\n          parser.getDependencies('camera'),\n        ])\n      })\n      .then(function (dependencies) {\n        const result = {\n          scene: dependencies[0][json.scene || 0],\n          scenes: dependencies[0],\n          animations: dependencies[1],\n          cameras: dependencies[2],\n          asset: json.asset,\n          parser: parser,\n          userData: {},\n        }\n\n        addUnknownExtensionsToUserData(extensions, result, json)\n\n        assignExtrasToUserData(result, json)\n\n        return Promise.all(\n          parser._invokeAll(function (ext) {\n            return ext.afterRoot && ext.afterRoot(result)\n          }),\n        ).then(function () {\n          for (const scene of result.scenes) {\n            scene.updateMatrixWorld()\n          }\n\n          onLoad(result)\n        })\n      })\n      .catch(onError)\n  }\n\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n  _markDefs() {\n    const nodeDefs = this.json.nodes || []\n    const skinDefs = this.json.skins || []\n    const meshDefs = this.json.meshes || []\n\n    // Nothing in the node definition indicates whether it is a Bone or an\n    // Object3D. Use the skins' joint references to mark bones.\n    for (let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      const joints = skinDefs[skinIndex].joints\n\n      for (let i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true\n      }\n    }\n\n    // Iterate over all nodes, marking references to shared resources,\n    // as well as skeleton joints.\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex]\n\n      if (nodeDef.mesh !== undefined) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh)\n\n        // Nothing in the mesh definition indicates whether it is\n        // a SkinnedMesh or Mesh. Use the node's mesh reference\n        // to mark SkinnedMesh if node has skin.\n        if (nodeDef.skin !== undefined) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true\n        }\n      }\n\n      if (nodeDef.camera !== undefined) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera)\n      }\n    }\n  }\n\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n  _addNodeRef(cache, index) {\n    if (index === undefined) return\n\n    if (cache.refs[index] === undefined) {\n      cache.refs[index] = cache.uses[index] = 0\n    }\n\n    cache.refs[index]++\n  }\n\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n  _getNodeRef(cache, index, object) {\n    if (cache.refs[index] <= 1) return object\n\n    const ref = object.clone()\n\n    // Propagates mappings to the cloned object, prevents mappings on the\n    // original object from being lost.\n    const updateMappings = (original, clone) => {\n      const mappings = this.associations.get(original)\n      if (mappings != null) {\n        this.associations.set(clone, mappings)\n      }\n\n      for (const [i, child] of original.children.entries()) {\n        updateMappings(child, clone.children[i])\n      }\n    }\n\n    updateMappings(object, ref)\n\n    ref.name += '_instance_' + cache.uses[index]++\n\n    return ref\n  }\n\n  _invokeOne(func) {\n    const extensions = Object.values(this.plugins)\n    extensions.push(this)\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i])\n\n      if (result) return result\n    }\n\n    return null\n  }\n\n  _invokeAll(func) {\n    const extensions = Object.values(this.plugins)\n    extensions.unshift(this)\n\n    const pending = []\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i])\n\n      if (result) pending.push(result)\n    }\n\n    return pending\n  }\n\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n  getDependency(type, index) {\n    const cacheKey = type + ':' + index\n    let dependency = this.cache.get(cacheKey)\n\n    if (!dependency) {\n      switch (type) {\n        case 'scene':\n          dependency = this.loadScene(index)\n          break\n\n        case 'node':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadNode && ext.loadNode(index)\n          })\n          break\n\n        case 'mesh':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMesh && ext.loadMesh(index)\n          })\n          break\n\n        case 'accessor':\n          dependency = this.loadAccessor(index)\n          break\n\n        case 'bufferView':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadBufferView && ext.loadBufferView(index)\n          })\n          break\n\n        case 'buffer':\n          dependency = this.loadBuffer(index)\n          break\n\n        case 'material':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMaterial && ext.loadMaterial(index)\n          })\n          break\n\n        case 'texture':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadTexture && ext.loadTexture(index)\n          })\n          break\n\n        case 'skin':\n          dependency = this.loadSkin(index)\n          break\n\n        case 'animation':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadAnimation && ext.loadAnimation(index)\n          })\n          break\n\n        case 'camera':\n          dependency = this.loadCamera(index)\n          break\n\n        default:\n          dependency = this._invokeOne(function (ext) {\n            return ext != this && ext.getDependency && ext.getDependency(type, index)\n          })\n\n          if (!dependency) {\n            throw new Error('Unknown type: ' + type)\n          }\n\n          break\n      }\n\n      this.cache.add(cacheKey, dependency)\n    }\n\n    return dependency\n  }\n\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n  getDependencies(type) {\n    let dependencies = this.cache.get(type)\n\n    if (!dependencies) {\n      const parser = this\n      const defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || []\n\n      dependencies = Promise.all(\n        defs.map(function (def, index) {\n          return parser.getDependency(type, index)\n        }),\n      )\n\n      this.cache.add(type, dependencies)\n    }\n\n    return dependencies\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n  loadBuffer(bufferIndex) {\n    const bufferDef = this.json.buffers[bufferIndex]\n    const loader = this.fileLoader\n\n    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.')\n    }\n\n    // If present, GLB container is required to be the first buffer.\n    if (bufferDef.uri === undefined && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body)\n    }\n\n    const options = this.options\n\n    return new Promise(function (resolve, reject) {\n      loader.load(LoaderUtils.resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'))\n      })\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n  loadBufferView(bufferViewIndex) {\n    const bufferViewDef = this.json.bufferViews[bufferViewIndex]\n\n    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n      const byteLength = bufferViewDef.byteLength || 0\n      const byteOffset = bufferViewDef.byteOffset || 0\n      return buffer.slice(byteOffset, byteOffset + byteLength)\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n  loadAccessor(accessorIndex) {\n    const parser = this\n    const json = this.json\n\n    const accessorDef = this.json.accessors[accessorIndex]\n\n    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type]\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]\n      const normalized = accessorDef.normalized === true\n\n      const array = new TypedArray(accessorDef.count * itemSize)\n      return Promise.resolve(new BufferAttribute(array, itemSize, normalized))\n    }\n\n    const pendingBufferViews = []\n\n    if (accessorDef.bufferView !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView))\n    } else {\n      pendingBufferViews.push(null)\n    }\n\n    if (accessorDef.sparse !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView))\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView))\n    }\n\n    return Promise.all(pendingBufferViews).then(function (bufferViews) {\n      const bufferView = bufferViews[0]\n\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type]\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]\n\n      // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n      const elementBytes = TypedArray.BYTES_PER_ELEMENT\n      const itemBytes = elementBytes * itemSize\n      const byteOffset = accessorDef.byteOffset || 0\n      const byteStride =\n        accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined\n      const normalized = accessorDef.normalized === true\n      let array, bufferAttribute\n\n      // The buffer is not interleaved if the stride is the item size in bytes.\n      if (byteStride && byteStride !== itemBytes) {\n        // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n        // This makes sure that IBA.count reflects accessor.count properly\n        const ibSlice = Math.floor(byteOffset / byteStride)\n        const ibCacheKey =\n          'InterleavedBuffer:' +\n          accessorDef.bufferView +\n          ':' +\n          accessorDef.componentType +\n          ':' +\n          ibSlice +\n          ':' +\n          accessorDef.count\n        let ib = parser.cache.get(ibCacheKey)\n\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, (accessorDef.count * byteStride) / elementBytes)\n\n          // Integer parameters to IB/IBA are in array elements, not bytes.\n          ib = new InterleavedBuffer(array, byteStride / elementBytes)\n\n          parser.cache.add(ibCacheKey, ib)\n        }\n\n        bufferAttribute = new InterleavedBufferAttribute(\n          ib,\n          itemSize,\n          (byteOffset % byteStride) / elementBytes,\n          normalized,\n        )\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize)\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize)\n        }\n\n        bufferAttribute = new BufferAttribute(array, itemSize, normalized)\n      }\n\n      // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n      if (accessorDef.sparse !== undefined) {\n        const itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR\n        const TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType]\n\n        const byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0\n        const byteOffsetValues = accessorDef.sparse.values.byteOffset || 0\n\n        const sparseIndices = new TypedArrayIndices(\n          bufferViews[1],\n          byteOffsetIndices,\n          accessorDef.sparse.count * itemSizeIndices,\n        )\n        const sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize)\n\n        if (bufferView !== null) {\n          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n          bufferAttribute = new BufferAttribute(\n            bufferAttribute.array.slice(),\n            bufferAttribute.itemSize,\n            bufferAttribute.normalized,\n          )\n        }\n\n        for (let i = 0, il = sparseIndices.length; i < il; i++) {\n          const index = sparseIndices[i]\n\n          bufferAttribute.setX(index, sparseValues[i * itemSize])\n          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1])\n          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2])\n          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3])\n          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.')\n        }\n      }\n\n      return bufferAttribute\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture|null>}\n   */\n  loadTexture(textureIndex) {\n    const json = this.json\n    const options = this.options\n    const textureDef = json.textures[textureIndex]\n    const sourceIndex = textureDef.source\n    const sourceDef = json.images[sourceIndex]\n\n    let loader = this.textureLoader\n\n    if (sourceDef.uri) {\n      const handler = options.manager.getHandler(sourceDef.uri)\n      if (handler !== null) loader = handler\n    }\n\n    return this.loadTextureImage(textureIndex, sourceIndex, loader)\n  }\n\n  loadTextureImage(textureIndex, sourceIndex, loader) {\n    const parser = this\n    const json = this.json\n\n    const textureDef = json.textures[textureIndex]\n    const sourceDef = json.images[sourceIndex]\n\n    const cacheKey = (sourceDef.uri || sourceDef.bufferView) + ':' + textureDef.sampler\n\n    if (this.textureCache[cacheKey]) {\n      // See https://github.com/mrdoob/three.js/issues/21559.\n      return this.textureCache[cacheKey]\n    }\n\n    const promise = this.loadImageSource(sourceIndex, loader)\n      .then(function (texture) {\n        texture.flipY = false\n\n        texture.name = textureDef.name || sourceDef.name || ''\n\n        if (\n          texture.name === '' &&\n          typeof sourceDef.uri === 'string' &&\n          sourceDef.uri.startsWith('data:image/') === false\n        ) {\n          texture.name = sourceDef.uri\n        }\n\n        const samplers = json.samplers || {}\n        const sampler = samplers[textureDef.sampler] || {}\n\n        texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter\n        texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter\n        texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping\n        texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping\n\n        parser.associations.set(texture, { textures: textureIndex })\n\n        return texture\n      })\n      .catch(function () {\n        return null\n      })\n\n    this.textureCache[cacheKey] = promise\n\n    return promise\n  }\n\n  loadImageSource(sourceIndex, loader) {\n    const parser = this\n    const json = this.json\n    const options = this.options\n\n    if (this.sourceCache[sourceIndex] !== undefined) {\n      return this.sourceCache[sourceIndex].then((texture) => texture.clone())\n    }\n\n    const sourceDef = json.images[sourceIndex]\n\n    const URL = self.URL || self.webkitURL\n\n    let sourceURI = sourceDef.uri || ''\n    let isObjectURL = false\n\n    if (sourceDef.bufferView !== undefined) {\n      // Load binary image data from bufferView, if provided.\n\n      sourceURI = parser.getDependency('bufferView', sourceDef.bufferView).then(function (bufferView) {\n        isObjectURL = true\n        const blob = new Blob([bufferView], { type: sourceDef.mimeType })\n        sourceURI = URL.createObjectURL(blob)\n        return sourceURI\n      })\n    } else if (sourceDef.uri === undefined) {\n      throw new Error('THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView')\n    }\n\n    const promise = Promise.resolve(sourceURI)\n      .then(function (sourceURI) {\n        return new Promise(function (resolve, reject) {\n          let onLoad = resolve\n\n          if (loader.isImageBitmapLoader === true) {\n            onLoad = function (imageBitmap) {\n              const texture = new Texture(imageBitmap)\n              texture.needsUpdate = true\n\n              resolve(texture)\n            }\n          }\n\n          loader.load(LoaderUtils.resolveURL(sourceURI, options.path), onLoad, undefined, reject)\n        })\n      })\n      .then(function (texture) {\n        // Clean up resources and configure Texture.\n\n        if (isObjectURL === true) {\n          URL.revokeObjectURL(sourceURI)\n        }\n\n        assignExtrasToUserData(texture, sourceDef)\n\n        texture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType(sourceDef.uri)\n\n        return texture\n      })\n      .catch(function (error) {\n        console.error(\"THREE.GLTFLoader: Couldn't load texture\", sourceURI)\n        throw error\n      })\n\n    this.sourceCache[sourceIndex] = promise\n    return promise\n  }\n\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise<Texture>}\n   */\n  assignTexture(materialParams, mapName, mapDef, colorSpace) {\n    const parser = this\n\n    return this.getDependency('texture', mapDef.index).then(function (texture) {\n      if (!texture) return null\n\n      if (mapDef.texCoord !== undefined && mapDef.texCoord > 0) {\n        texture = texture.clone()\n        texture.channel = mapDef.texCoord\n      }\n\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        const transform =\n          mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined\n\n        if (transform) {\n          const gltfReference = parser.associations.get(texture)\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform)\n          parser.associations.set(texture, gltfReference)\n        }\n      }\n\n      if (colorSpace !== undefined) {\n        // Convert from legacy encoding to colorSpace\n        if (typeof colorSpace === 'number')\n          colorSpace = colorSpace === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace\n\n        // Set colorSpace if able, fallback to legacy encoding\n        if ('colorSpace' in texture) texture.colorSpace = colorSpace\n        else texture.encoding = colorSpace === SRGBColorSpace ? sRGBEncoding : LinearEncoding\n      }\n\n      materialParams[mapName] = texture\n\n      return texture\n    })\n  }\n\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accommodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n  assignFinalMaterial(mesh) {\n    const geometry = mesh.geometry\n    let material = mesh.material\n\n    const useDerivativeTangents = geometry.attributes.tangent === undefined\n    const useVertexColors = geometry.attributes.color !== undefined\n    const useFlatShading = geometry.attributes.normal === undefined\n\n    if (mesh.isPoints) {\n      const cacheKey = 'PointsMaterial:' + material.uuid\n\n      let pointsMaterial = this.cache.get(cacheKey)\n\n      if (!pointsMaterial) {\n        pointsMaterial = new PointsMaterial()\n        Material.prototype.copy.call(pointsMaterial, material)\n        pointsMaterial.color.copy(material.color)\n        pointsMaterial.map = material.map\n        pointsMaterial.sizeAttenuation = false // glTF spec says points should be 1px\n\n        this.cache.add(cacheKey, pointsMaterial)\n      }\n\n      material = pointsMaterial\n    } else if (mesh.isLine) {\n      const cacheKey = 'LineBasicMaterial:' + material.uuid\n\n      let lineMaterial = this.cache.get(cacheKey)\n\n      if (!lineMaterial) {\n        lineMaterial = new LineBasicMaterial()\n        Material.prototype.copy.call(lineMaterial, material)\n        lineMaterial.color.copy(material.color)\n        lineMaterial.map = material.map\n\n        this.cache.add(cacheKey, lineMaterial)\n      }\n\n      material = lineMaterial\n    }\n\n    // Clone the material if it will be modified\n    if (useDerivativeTangents || useVertexColors || useFlatShading) {\n      let cacheKey = 'ClonedMaterial:' + material.uuid + ':'\n\n      if (useDerivativeTangents) cacheKey += 'derivative-tangents:'\n      if (useVertexColors) cacheKey += 'vertex-colors:'\n      if (useFlatShading) cacheKey += 'flat-shading:'\n\n      let cachedMaterial = this.cache.get(cacheKey)\n\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone()\n\n        if (useVertexColors) cachedMaterial.vertexColors = true\n        if (useFlatShading) cachedMaterial.flatShading = true\n\n        if (useDerivativeTangents) {\n          // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n          if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1\n          if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1\n        }\n\n        this.cache.add(cacheKey, cachedMaterial)\n\n        this.associations.set(cachedMaterial, this.associations.get(material))\n      }\n\n      material = cachedMaterial\n    }\n\n    mesh.material = material\n  }\n\n  getMaterialType(/* materialIndex */) {\n    return MeshStandardMaterial\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n  loadMaterial(materialIndex) {\n    const parser = this\n    const json = this.json\n    const extensions = this.extensions\n    const materialDef = json.materials[materialIndex]\n\n    let materialType\n    const materialParams = {}\n    const materialExtensions = materialDef.extensions || {}\n\n    const pending = []\n\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      const kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT]\n      materialType = kmuExtension.getMaterialType()\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser))\n    } else {\n      // Specification:\n      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n      const metallicRoughness = materialDef.pbrMetallicRoughness || {}\n\n      materialParams.color = new Color(1.0, 1.0, 1.0)\n      materialParams.opacity = 1.0\n\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor\n\n        materialParams.color.setRGB(array[0], array[1], array[2], LinearSRGBColorSpace)\n        materialParams.opacity = array[3]\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture, SRGBColorSpace))\n      }\n\n      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0\n      materialParams.roughness =\n        metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0\n\n      if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture))\n        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture))\n      }\n\n      materialType = this._invokeOne(function (ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex)\n      })\n\n      pending.push(\n        Promise.all(\n          this._invokeAll(function (ext) {\n            return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams)\n          }),\n        ),\n      )\n    }\n\n    if (materialDef.doubleSided === true) {\n      materialParams.side = DoubleSide\n    }\n\n    const alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE\n\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true\n\n      // See: https://github.com/mrdoob/three.js/issues/17706\n      materialParams.depthWrite = false\n    } else {\n      materialParams.transparent = false\n\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5\n      }\n    }\n\n    if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture))\n\n      materialParams.normalScale = new Vector2(1, 1)\n\n      if (materialDef.normalTexture.scale !== undefined) {\n        const scale = materialDef.normalTexture.scale\n\n        materialParams.normalScale.set(scale, scale)\n      }\n    }\n\n    if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture))\n\n      if (materialDef.occlusionTexture.strength !== undefined) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength\n      }\n    }\n\n    if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n      const emissiveFactor = materialDef.emissiveFactor\n      materialParams.emissive = new Color().setRGB(\n        emissiveFactor[0],\n        emissiveFactor[1],\n        emissiveFactor[2],\n        LinearSRGBColorSpace,\n      )\n    }\n\n    if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture, SRGBColorSpace))\n    }\n\n    return Promise.all(pending).then(function () {\n      const material = new materialType(materialParams)\n\n      if (materialDef.name) material.name = materialDef.name\n\n      assignExtrasToUserData(material, materialDef)\n\n      parser.associations.set(material, { materials: materialIndex })\n\n      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef)\n\n      return material\n    })\n  }\n\n  /** When Object3D instances are targeted by animation, they need unique names. */\n  createUniqueName(originalName) {\n    const sanitizedName = PropertyBinding.sanitizeNodeName(originalName || '')\n\n    if (sanitizedName in this.nodeNamesUsed) {\n      return sanitizedName + '_' + ++this.nodeNamesUsed[sanitizedName]\n    } else {\n      this.nodeNamesUsed[sanitizedName] = 0\n\n      return sanitizedName\n    }\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n  loadGeometries(primitives) {\n    const parser = this\n    const extensions = this.extensions\n    const cache = this.primitiveCache\n\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]\n        .decodePrimitive(primitive, parser)\n        .then(function (geometry) {\n          return addPrimitiveAttributes(geometry, primitive, parser)\n        })\n    }\n\n    const pending = []\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const primitive = primitives[i]\n      const cacheKey = createPrimitiveKey(primitive)\n\n      // See if we've already created this geometry\n      const cached = cache[cacheKey]\n\n      if (cached) {\n        // Use the cached geometry if it exists\n        pending.push(cached.promise)\n      } else {\n        let geometryPromise\n\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          // Use DRACO geometry if available\n          geometryPromise = createDracoPrimitive(primitive)\n        } else {\n          // Otherwise create a new geometry\n          geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser)\n        }\n\n        // Cache this geometry\n        cache[cacheKey] = { primitive: primitive, promise: geometryPromise }\n\n        pending.push(geometryPromise)\n      }\n    }\n\n    return Promise.all(pending)\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n  loadMesh(meshIndex) {\n    const parser = this\n    const json = this.json\n    const extensions = this.extensions\n\n    const meshDef = json.meshes[meshIndex]\n    const primitives = meshDef.primitives\n\n    const pending = []\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const material =\n        primitives[i].material === undefined\n          ? createDefaultMaterial(this.cache)\n          : this.getDependency('material', primitives[i].material)\n\n      pending.push(material)\n    }\n\n    pending.push(parser.loadGeometries(primitives))\n\n    return Promise.all(pending).then(function (results) {\n      const materials = results.slice(0, results.length - 1)\n      const geometries = results[results.length - 1]\n\n      const meshes = []\n\n      for (let i = 0, il = geometries.length; i < il; i++) {\n        const geometry = geometries[i]\n        const primitive = primitives[i]\n\n        // 1. create Mesh\n\n        let mesh\n\n        const material = materials[i]\n\n        if (\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n          primitive.mode === undefined\n        ) {\n          // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n          mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, material) : new Mesh(geometry, material)\n\n          if (mesh.isSkinnedMesh === true) {\n            // normalize skin weights to fix malformed assets (see #15319)\n            mesh.normalizeSkinWeights()\n          }\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode)\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode)\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new LineSegments(geometry, material)\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new Line(geometry, material)\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new LineLoop(geometry, material)\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new Points(geometry, material)\n        } else {\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode)\n        }\n\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef)\n        }\n\n        mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex)\n\n        assignExtrasToUserData(mesh, meshDef)\n\n        if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive)\n\n        parser.assignFinalMaterial(mesh)\n\n        meshes.push(mesh)\n      }\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        parser.associations.set(meshes[i], {\n          meshes: meshIndex,\n          primitives: i,\n        })\n      }\n\n      if (meshes.length === 1) {\n        if (meshDef.extensions) addUnknownExtensionsToUserData(extensions, meshes[0], meshDef)\n\n        return meshes[0]\n      }\n\n      const group = new Group()\n\n      if (meshDef.extensions) addUnknownExtensionsToUserData(extensions, group, meshDef)\n\n      parser.associations.set(group, { meshes: meshIndex })\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i])\n      }\n\n      return group\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n  loadCamera(cameraIndex) {\n    let camera\n    const cameraDef = this.json.cameras[cameraIndex]\n    const params = cameraDef[cameraDef.type]\n\n    if (!params) {\n      console.warn('THREE.GLTFLoader: Missing camera parameters.')\n      return\n    }\n\n    if (cameraDef.type === 'perspective') {\n      camera = new PerspectiveCamera(\n        MathUtils.radToDeg(params.yfov),\n        params.aspectRatio || 1,\n        params.znear || 1,\n        params.zfar || 2e6,\n      )\n    } else if (cameraDef.type === 'orthographic') {\n      camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar)\n    }\n\n    if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name)\n\n    assignExtrasToUserData(camera, cameraDef)\n\n    return Promise.resolve(camera)\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Skeleton>}\n   */\n  loadSkin(skinIndex) {\n    const skinDef = this.json.skins[skinIndex]\n\n    const pending = []\n\n    for (let i = 0, il = skinDef.joints.length; i < il; i++) {\n      pending.push(this._loadNodeShallow(skinDef.joints[i]))\n    }\n\n    if (skinDef.inverseBindMatrices !== undefined) {\n      pending.push(this.getDependency('accessor', skinDef.inverseBindMatrices))\n    } else {\n      pending.push(null)\n    }\n\n    return Promise.all(pending).then(function (results) {\n      const inverseBindMatrices = results.pop()\n      const jointNodes = results\n\n      // Note that bones (joint nodes) may or may not be in the\n      // scene graph at this time.\n\n      const bones = []\n      const boneInverses = []\n\n      for (let i = 0, il = jointNodes.length; i < il; i++) {\n        const jointNode = jointNodes[i]\n\n        if (jointNode) {\n          bones.push(jointNode)\n\n          const mat = new Matrix4()\n\n          if (inverseBindMatrices !== null) {\n            mat.fromArray(inverseBindMatrices.array, i * 16)\n          }\n\n          boneInverses.push(mat)\n        } else {\n          console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinDef.joints[i])\n        }\n      }\n\n      return new Skeleton(bones, boneInverses)\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n  loadAnimation(animationIndex) {\n    const json = this.json\n    const parser = this\n\n    const animationDef = json.animations[animationIndex]\n    const animationName = animationDef.name ? animationDef.name : 'animation_' + animationIndex\n\n    const pendingNodes = []\n    const pendingInputAccessors = []\n    const pendingOutputAccessors = []\n    const pendingSamplers = []\n    const pendingTargets = []\n\n    for (let i = 0, il = animationDef.channels.length; i < il; i++) {\n      const channel = animationDef.channels[i]\n      const sampler = animationDef.samplers[channel.sampler]\n      const target = channel.target\n      const name = target.node\n      const input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input\n      const output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output\n\n      if (target.node === undefined) continue\n\n      pendingNodes.push(this.getDependency('node', name))\n      pendingInputAccessors.push(this.getDependency('accessor', input))\n      pendingOutputAccessors.push(this.getDependency('accessor', output))\n      pendingSamplers.push(sampler)\n      pendingTargets.push(target)\n    }\n\n    return Promise.all([\n      Promise.all(pendingNodes),\n      Promise.all(pendingInputAccessors),\n      Promise.all(pendingOutputAccessors),\n      Promise.all(pendingSamplers),\n      Promise.all(pendingTargets),\n    ]).then(function (dependencies) {\n      const nodes = dependencies[0]\n      const inputAccessors = dependencies[1]\n      const outputAccessors = dependencies[2]\n      const samplers = dependencies[3]\n      const targets = dependencies[4]\n\n      const tracks = []\n\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        const node = nodes[i]\n        const inputAccessor = inputAccessors[i]\n        const outputAccessor = outputAccessors[i]\n        const sampler = samplers[i]\n        const target = targets[i]\n\n        if (node === undefined) continue\n\n        if (node.updateMatrix) {\n          node.updateMatrix()\n        }\n\n        const createdTracks = parser._createAnimationTracks(node, inputAccessor, outputAccessor, sampler, target)\n\n        if (createdTracks) {\n          for (let k = 0; k < createdTracks.length; k++) {\n            tracks.push(createdTracks[k])\n          }\n        }\n      }\n\n      return new AnimationClip(animationName, undefined, tracks)\n    })\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.json\n    const parser = this\n    const nodeDef = json.nodes[nodeIndex]\n\n    if (nodeDef.mesh === undefined) return null\n\n    return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n      const node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh)\n\n      // if weights are provided on the node, override weights on the mesh.\n      if (nodeDef.weights !== undefined) {\n        node.traverse(function (o) {\n          if (!o.isMesh) return\n\n          for (let i = 0, il = nodeDef.weights.length; i < il; i++) {\n            o.morphTargetInfluences[i] = nodeDef.weights[i]\n          }\n        })\n      }\n\n      return node\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n  loadNode(nodeIndex) {\n    const json = this.json\n    const parser = this\n\n    const nodeDef = json.nodes[nodeIndex]\n\n    const nodePending = parser._loadNodeShallow(nodeIndex)\n\n    const childPending = []\n    const childrenDef = nodeDef.children || []\n\n    for (let i = 0, il = childrenDef.length; i < il; i++) {\n      childPending.push(parser.getDependency('node', childrenDef[i]))\n    }\n\n    const skeletonPending =\n      nodeDef.skin === undefined ? Promise.resolve(null) : parser.getDependency('skin', nodeDef.skin)\n\n    return Promise.all([nodePending, Promise.all(childPending), skeletonPending]).then(function (results) {\n      const node = results[0]\n      const children = results[1]\n      const skeleton = results[2]\n\n      if (skeleton !== null) {\n        // This full traverse should be fine because\n        // child glTF nodes have not been added to this node yet.\n        node.traverse(function (mesh) {\n          if (!mesh.isSkinnedMesh) return\n\n          mesh.bind(skeleton, _identityMatrix)\n        })\n      }\n\n      for (let i = 0, il = children.length; i < il; i++) {\n        node.add(children[i])\n      }\n\n      return node\n    })\n  }\n\n  // ._loadNodeShallow() parses a single node.\n  // skin and child nodes are created and added in .loadNode() (no '_' prefix).\n  _loadNodeShallow(nodeIndex) {\n    const json = this.json\n    const extensions = this.extensions\n    const parser = this\n\n    // This method is called from .loadNode() and .loadSkin().\n    // Cache a node to avoid duplication.\n\n    if (this.nodeCache[nodeIndex] !== undefined) {\n      return this.nodeCache[nodeIndex]\n    }\n\n    const nodeDef = json.nodes[nodeIndex]\n\n    // reserve node's name before its dependencies, so the root has the intended name.\n    const nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : ''\n\n    const pending = []\n\n    const meshPromise = parser._invokeOne(function (ext) {\n      return ext.createNodeMesh && ext.createNodeMesh(nodeIndex)\n    })\n\n    if (meshPromise) {\n      pending.push(meshPromise)\n    }\n\n    if (nodeDef.camera !== undefined) {\n      pending.push(\n        parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera)\n        }),\n      )\n    }\n\n    parser\n      ._invokeAll(function (ext) {\n        return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex)\n      })\n      .forEach(function (promise) {\n        pending.push(promise)\n      })\n\n    this.nodeCache[nodeIndex] = Promise.all(pending).then(function (objects) {\n      let node\n\n      // .isBone isn't in glTF spec. See ._markDefs\n      if (nodeDef.isBone === true) {\n        node = new Bone()\n      } else if (objects.length > 1) {\n        node = new Group()\n      } else if (objects.length === 1) {\n        node = objects[0]\n      } else {\n        node = new Object3D()\n      }\n\n      if (node !== objects[0]) {\n        for (let i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i])\n        }\n      }\n\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name\n        node.name = nodeName\n      }\n\n      assignExtrasToUserData(node, nodeDef)\n\n      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef)\n\n      if (nodeDef.matrix !== undefined) {\n        const matrix = new Matrix4()\n        matrix.fromArray(nodeDef.matrix)\n        node.applyMatrix4(matrix)\n      } else {\n        if (nodeDef.translation !== undefined) {\n          node.position.fromArray(nodeDef.translation)\n        }\n\n        if (nodeDef.rotation !== undefined) {\n          node.quaternion.fromArray(nodeDef.rotation)\n        }\n\n        if (nodeDef.scale !== undefined) {\n          node.scale.fromArray(nodeDef.scale)\n        }\n      }\n\n      if (!parser.associations.has(node)) {\n        parser.associations.set(node, {})\n      }\n\n      parser.associations.get(node).nodes = nodeIndex\n\n      return node\n    })\n\n    return this.nodeCache[nodeIndex]\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n  loadScene(sceneIndex) {\n    const extensions = this.extensions\n    const sceneDef = this.json.scenes[sceneIndex]\n    const parser = this\n\n    // Loader returns Group, not Scene.\n    // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n    const scene = new Group()\n    if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name)\n\n    assignExtrasToUserData(scene, sceneDef)\n\n    if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef)\n\n    const nodeIds = sceneDef.nodes || []\n\n    const pending = []\n\n    for (let i = 0, il = nodeIds.length; i < il; i++) {\n      pending.push(parser.getDependency('node', nodeIds[i]))\n    }\n\n    return Promise.all(pending).then(function (nodes) {\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        scene.add(nodes[i])\n      }\n\n      // Removes dangling associations, associations that reference a node that\n      // didn't make it into the scene.\n      const reduceAssociations = (node) => {\n        const reducedAssociations = new Map()\n\n        for (const [key, value] of parser.associations) {\n          if (key instanceof Material || key instanceof Texture) {\n            reducedAssociations.set(key, value)\n          }\n        }\n\n        node.traverse((node) => {\n          const mappings = parser.associations.get(node)\n\n          if (mappings != null) {\n            reducedAssociations.set(node, mappings)\n          }\n        })\n\n        return reducedAssociations\n      }\n\n      parser.associations = reduceAssociations(scene)\n\n      return scene\n    })\n  }\n\n  _createAnimationTracks(node, inputAccessor, outputAccessor, sampler, target) {\n    const tracks = []\n\n    const targetName = node.name ? node.name : node.uuid\n    const targetNames = []\n\n    if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n      node.traverse(function (object) {\n        if (object.morphTargetInfluences) {\n          targetNames.push(object.name ? object.name : object.uuid)\n        }\n      })\n    } else {\n      targetNames.push(targetName)\n    }\n\n    let TypedKeyframeTrack\n\n    switch (PATH_PROPERTIES[target.path]) {\n      case PATH_PROPERTIES.weights:\n        TypedKeyframeTrack = NumberKeyframeTrack\n        break\n\n      case PATH_PROPERTIES.rotation:\n        TypedKeyframeTrack = QuaternionKeyframeTrack\n        break\n\n      case PATH_PROPERTIES.position:\n      case PATH_PROPERTIES.scale:\n        TypedKeyframeTrack = VectorKeyframeTrack\n        break\n\n      default:\n        switch (outputAccessor.itemSize) {\n          case 1:\n            TypedKeyframeTrack = NumberKeyframeTrack\n            break\n          case 2:\n          case 3:\n          default:\n            TypedKeyframeTrack = VectorKeyframeTrack\n            break\n        }\n\n        break\n    }\n\n    const interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear\n\n    const outputArray = this._getArrayFromAccessor(outputAccessor)\n\n    for (let j = 0, jl = targetNames.length; j < jl; j++) {\n      const track = new TypedKeyframeTrack(\n        targetNames[j] + '.' + PATH_PROPERTIES[target.path],\n        inputAccessor.array,\n        outputArray,\n        interpolation,\n      )\n\n      // Override interpolation with custom factory method.\n      if (sampler.interpolation === 'CUBICSPLINE') {\n        this._createCubicSplineTrackInterpolant(track)\n      }\n\n      tracks.push(track)\n    }\n\n    return tracks\n  }\n\n  _getArrayFromAccessor(accessor) {\n    let outputArray = accessor.array\n\n    if (accessor.normalized) {\n      const scale = getNormalizedComponentScale(outputArray.constructor)\n      const scaled = new Float32Array(outputArray.length)\n\n      for (let j = 0, jl = outputArray.length; j < jl; j++) {\n        scaled[j] = outputArray[j] * scale\n      }\n\n      outputArray = scaled\n    }\n\n    return outputArray\n  }\n\n  _createCubicSplineTrackInterpolant(track) {\n    track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n      // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n      // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n      // must be divided by three to get the interpolant's sampleSize argument.\n\n      const interpolantType =\n        this instanceof QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant\n\n      return new interpolantType(this.times, this.values, this.getValueSize() / 3, result)\n    }\n\n    // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n    track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true\n  }\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes\n\n  const box = new Box3()\n\n  if (attributes.POSITION !== undefined) {\n    const accessor = parser.json.accessors[attributes.POSITION]\n\n    const min = accessor.min\n    const max = accessor.max\n\n    // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n    if (min !== undefined && max !== undefined) {\n      box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]))\n\n      if (accessor.normalized) {\n        const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType])\n        box.min.multiplyScalar(boxScale)\n        box.max.multiplyScalar(boxScale)\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.')\n\n      return\n    }\n  } else {\n    return\n  }\n\n  const targets = primitiveDef.targets\n\n  if (targets !== undefined) {\n    const maxDisplacement = new Vector3()\n    const vector = new Vector3()\n\n    for (let i = 0, il = targets.length; i < il; i++) {\n      const target = targets[i]\n\n      if (target.POSITION !== undefined) {\n        const accessor = parser.json.accessors[target.POSITION]\n        const min = accessor.min\n        const max = accessor.max\n\n        // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n        if (min !== undefined && max !== undefined) {\n          // we need to get max of absolute components because target weight is [-1,1]\n          vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])))\n          vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])))\n          vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])))\n\n          if (accessor.normalized) {\n            const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType])\n            vector.multiplyScalar(boxScale)\n          }\n\n          // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n          // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n          maxDisplacement.max(vector)\n        } else {\n          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.')\n        }\n      }\n    }\n\n    // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n    box.expandByVector(maxDisplacement)\n  }\n\n  geometry.boundingBox = box\n\n  const sphere = new Sphere()\n\n  box.getCenter(sphere.center)\n  sphere.radius = box.min.distanceTo(box.max) / 2\n\n  geometry.boundingSphere = sphere\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes\n\n  const pending = []\n\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n      geometry.setAttribute(attributeName, accessor)\n    })\n  }\n\n  for (const gltfAttributeName in attributes) {\n    const threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase()\n\n    // Skip attributes already provided by e.g. Draco extension.\n    if (threeAttributeName in geometry.attributes) continue\n\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName))\n  }\n\n  if (primitiveDef.indices !== undefined && !geometry.index) {\n    const accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n      geometry.setIndex(accessor)\n    })\n\n    pending.push(accessor)\n  }\n\n  assignExtrasToUserData(geometry, primitiveDef)\n\n  computeBounds(geometry, primitiveDef, parser)\n\n  return Promise.all(pending).then(function () {\n    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry\n  })\n}\n\nexport { GLTFLoader }\n"],"names":["self","res","sourceURI","node","accessor"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11042, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11048, "column": 0}, "map": {"version":3,"file":"SkeletonUtils.js","sources":["file:///Users/jay/personal/dczii.github.io/node_modules/src/utils/SkeletonUtils.js"],"sourcesContent":["import {\n  AnimationClip,\n  AnimationMixer,\n  Matrix4,\n  Quaternion,\n  QuaternionKeyframeTrack,\n  SkeletonHelper,\n  Vector3,\n  VectorKeyframeTrack,\n} from 'three'\n\nfunction retarget(target, source, options = {}) {\n  const pos = new Vector3(),\n    quat = new Quaternion(),\n    scale = new Vector3(),\n    bindBoneMatrix = new Matrix4(),\n    relativeMatrix = new Matrix4(),\n    globalMatrix = new Matrix4()\n\n  options.preserveMatrix = options.preserveMatrix !== undefined ? options.preserveMatrix : true\n  options.preservePosition = options.preservePosition !== undefined ? options.preservePosition : true\n  options.preserveHipPosition = options.preserveHipPosition !== undefined ? options.preserveHipPosition : false\n  options.useTargetMatrix = options.useTargetMatrix !== undefined ? options.useTargetMatrix : false\n  options.hip = options.hip !== undefined ? options.hip : 'hip'\n  options.names = options.names || {}\n\n  const sourceBones = source.isObject3D ? source.skeleton.bones : getBones(source),\n    bones = target.isObject3D ? target.skeleton.bones : getBones(target)\n\n  let bindBones, bone, name, boneTo, bonesPosition\n\n  // reset bones\n\n  if (target.isObject3D) {\n    target.skeleton.pose()\n  } else {\n    options.useTargetMatrix = true\n    options.preserveMatrix = false\n  }\n\n  if (options.preservePosition) {\n    bonesPosition = []\n\n    for (let i = 0; i < bones.length; i++) {\n      bonesPosition.push(bones[i].position.clone())\n    }\n  }\n\n  if (options.preserveMatrix) {\n    // reset matrix\n\n    target.updateMatrixWorld()\n\n    target.matrixWorld.identity()\n\n    // reset children matrix\n\n    for (let i = 0; i < target.children.length; ++i) {\n      target.children[i].updateMatrixWorld(true)\n    }\n  }\n\n  if (options.offsets) {\n    bindBones = []\n\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i]\n      name = options.names[bone.name] || bone.name\n\n      if (options.offsets[name]) {\n        bone.matrix.multiply(options.offsets[name])\n\n        bone.matrix.decompose(bone.position, bone.quaternion, bone.scale)\n\n        bone.updateMatrixWorld()\n      }\n\n      bindBones.push(bone.matrixWorld.clone())\n    }\n  }\n\n  for (let i = 0; i < bones.length; ++i) {\n    bone = bones[i]\n    name = options.names[bone.name] || bone.name\n\n    boneTo = getBoneByName(name, sourceBones)\n\n    globalMatrix.copy(bone.matrixWorld)\n\n    if (boneTo) {\n      boneTo.updateMatrixWorld()\n\n      if (options.useTargetMatrix) {\n        relativeMatrix.copy(boneTo.matrixWorld)\n      } else {\n        relativeMatrix.copy(target.matrixWorld).invert()\n        relativeMatrix.multiply(boneTo.matrixWorld)\n      }\n\n      // ignore scale to extract rotation\n\n      scale.setFromMatrixScale(relativeMatrix)\n      relativeMatrix.scale(scale.set(1 / scale.x, 1 / scale.y, 1 / scale.z))\n\n      // apply to global matrix\n\n      globalMatrix.makeRotationFromQuaternion(quat.setFromRotationMatrix(relativeMatrix))\n\n      if (target.isObject3D) {\n        const boneIndex = bones.indexOf(bone),\n          wBindMatrix = bindBones\n            ? bindBones[boneIndex]\n            : bindBoneMatrix.copy(target.skeleton.boneInverses[boneIndex]).invert()\n\n        globalMatrix.multiply(wBindMatrix)\n      }\n\n      globalMatrix.copyPosition(relativeMatrix)\n    }\n\n    if (bone.parent && bone.parent.isBone) {\n      bone.matrix.copy(bone.parent.matrixWorld).invert()\n      bone.matrix.multiply(globalMatrix)\n    } else {\n      bone.matrix.copy(globalMatrix)\n    }\n\n    if (options.preserveHipPosition && name === options.hip) {\n      bone.matrix.setPosition(pos.set(0, bone.position.y, 0))\n    }\n\n    bone.matrix.decompose(bone.position, bone.quaternion, bone.scale)\n\n    bone.updateMatrixWorld()\n  }\n\n  if (options.preservePosition) {\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i]\n      name = options.names[bone.name] || bone.name\n\n      if (name !== options.hip) {\n        bone.position.copy(bonesPosition[i])\n      }\n    }\n  }\n\n  if (options.preserveMatrix) {\n    // restore matrix\n\n    target.updateMatrixWorld(true)\n  }\n}\n\nfunction retargetClip(target, source, clip, options = {}) {\n  options.useFirstFramePosition = options.useFirstFramePosition !== undefined ? options.useFirstFramePosition : false\n  options.fps = options.fps !== undefined ? options.fps : 30\n  options.names = options.names || []\n\n  if (!source.isObject3D) {\n    source = getHelperFromSkeleton(source)\n  }\n\n  const numFrames = Math.round(clip.duration * (options.fps / 1000) * 1000),\n    delta = 1 / options.fps,\n    convertedTracks = [],\n    mixer = new AnimationMixer(source),\n    bones = getBones(target.skeleton),\n    boneDatas = []\n  let positionOffset, bone, boneTo, boneData, name\n\n  mixer.clipAction(clip).play()\n  mixer.update(0)\n\n  source.updateMatrixWorld()\n\n  for (let i = 0; i < numFrames; ++i) {\n    const time = i * delta\n\n    retarget(target, source, options)\n\n    for (let j = 0; j < bones.length; ++j) {\n      name = options.names[bones[j].name] || bones[j].name\n\n      boneTo = getBoneByName(name, source.skeleton)\n\n      if (boneTo) {\n        bone = bones[j]\n        boneData = boneDatas[j] = boneDatas[j] || { bone: bone }\n\n        if (options.hip === name) {\n          if (!boneData.pos) {\n            boneData.pos = {\n              times: new Float32Array(numFrames),\n              values: new Float32Array(numFrames * 3),\n            }\n          }\n\n          if (options.useFirstFramePosition) {\n            if (i === 0) {\n              positionOffset = bone.position.clone()\n            }\n\n            bone.position.sub(positionOffset)\n          }\n\n          boneData.pos.times[i] = time\n\n          bone.position.toArray(boneData.pos.values, i * 3)\n        }\n\n        if (!boneData.quat) {\n          boneData.quat = {\n            times: new Float32Array(numFrames),\n            values: new Float32Array(numFrames * 4),\n          }\n        }\n\n        boneData.quat.times[i] = time\n\n        bone.quaternion.toArray(boneData.quat.values, i * 4)\n      }\n    }\n\n    mixer.update(delta)\n\n    source.updateMatrixWorld()\n  }\n\n  for (let i = 0; i < boneDatas.length; ++i) {\n    boneData = boneDatas[i]\n\n    if (boneData) {\n      if (boneData.pos) {\n        convertedTracks.push(\n          new VectorKeyframeTrack(\n            '.bones[' + boneData.bone.name + '].position',\n            boneData.pos.times,\n            boneData.pos.values,\n          ),\n        )\n      }\n\n      convertedTracks.push(\n        new QuaternionKeyframeTrack(\n          '.bones[' + boneData.bone.name + '].quaternion',\n          boneData.quat.times,\n          boneData.quat.values,\n        ),\n      )\n    }\n  }\n\n  mixer.uncacheAction(clip)\n\n  return new AnimationClip(clip.name, -1, convertedTracks)\n}\n\nfunction clone(source) {\n  const sourceLookup = new Map()\n  const cloneLookup = new Map()\n\n  const clone = source.clone()\n\n  parallelTraverse(source, clone, function (sourceNode, clonedNode) {\n    sourceLookup.set(clonedNode, sourceNode)\n    cloneLookup.set(sourceNode, clonedNode)\n  })\n\n  clone.traverse(function (node) {\n    if (!node.isSkinnedMesh) return\n\n    const clonedMesh = node\n    const sourceMesh = sourceLookup.get(node)\n    const sourceBones = sourceMesh.skeleton.bones\n\n    clonedMesh.skeleton = sourceMesh.skeleton.clone()\n    clonedMesh.bindMatrix.copy(sourceMesh.bindMatrix)\n\n    clonedMesh.skeleton.bones = sourceBones.map(function (bone) {\n      return cloneLookup.get(bone)\n    })\n\n    clonedMesh.bind(clonedMesh.skeleton, clonedMesh.bindMatrix)\n  })\n\n  return clone\n}\n\n// internal helper\n\nfunction getBoneByName(name, skeleton) {\n  for (let i = 0, bones = getBones(skeleton); i < bones.length; i++) {\n    if (name === bones[i].name) return bones[i]\n  }\n}\n\nfunction getBones(skeleton) {\n  return Array.isArray(skeleton) ? skeleton : skeleton.bones\n}\n\nfunction getHelperFromSkeleton(skeleton) {\n  const source = new SkeletonHelper(skeleton.bones[0])\n  source.skeleton = skeleton\n\n  return source\n}\n\nfunction parallelTraverse(a, b, callback) {\n  callback(a, b)\n\n  for (let i = 0; i < a.children.length; i++) {\n    parallelTraverse(a.children[i], b.children[i], callback)\n  }\n}\n\nexport const SkeletonUtils = { retarget, retargetClip, clone }\n"],"names":["clone"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11254, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11260, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/%40react-three/drei/core/Clone.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { SkeletonUtils } from 'three-stdlib';\n\nfunction createSpread(child, {\n  keys = ['near', 'far', 'color', 'distance', 'decay', 'penumbra', 'angle', 'intensity', 'skeleton', 'visible', 'castShadow', 'receiveShadow', 'morphTargetDictionary', 'morphTargetInfluences', 'name', 'geometry', 'material', 'position', 'rotation', 'scale', 'up', 'userData', 'bindMode', 'bindMatrix', 'bindMatrixInverse', 'skeleton'],\n  deep,\n  inject,\n  castShadow,\n  receiveShadow\n}) {\n  let spread = {};\n  for (const key of keys) {\n    spread[key] = child[key];\n  }\n  if (deep) {\n    if (spread.geometry && deep !== 'materialsOnly') spread.geometry = spread.geometry.clone();\n    if (spread.material && deep !== 'geometriesOnly') spread.material = spread.material.clone();\n  }\n  if (inject) {\n    if (typeof inject === 'function') spread = {\n      ...spread,\n      children: inject(child)\n    };else if (/*#__PURE__*/React.isValidElement(inject)) spread = {\n      ...spread,\n      children: inject\n    };else spread = {\n      ...spread,\n      ...inject\n    };\n  }\n  if (child instanceof THREE.Mesh) {\n    if (castShadow) spread.castShadow = true;\n    if (receiveShadow) spread.receiveShadow = true;\n  }\n  return spread;\n}\nconst Clone = /* @__PURE__ */React.forwardRef(({\n  isChild = false,\n  object,\n  children,\n  deep,\n  castShadow,\n  receiveShadow,\n  inject,\n  keys,\n  ...props\n}, forwardRef) => {\n  const config = {\n    keys,\n    deep,\n    inject,\n    castShadow,\n    receiveShadow\n  };\n  object = React.useMemo(() => {\n    if (isChild === false && !Array.isArray(object)) {\n      let isSkinned = false;\n      object.traverse(object => {\n        if (object.isSkinnedMesh) isSkinned = true;\n      });\n      if (isSkinned) return SkeletonUtils.clone(object);\n    }\n    return object;\n  }, [object, isChild]);\n\n  // Deal with arrayed clones\n  if (Array.isArray(object)) {\n    return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n      ref: forwardRef\n    }), object.map(o => /*#__PURE__*/React.createElement(Clone, _extends({\n      key: o.uuid,\n      object: o\n    }, config))), children);\n  }\n\n  // Singleton clones\n  const {\n    children: injectChildren,\n    ...spread\n  } = createSpread(object, config);\n  const Element = object.type[0].toLowerCase() + object.type.slice(1);\n  return /*#__PURE__*/React.createElement(Element, _extends({}, spread, props, {\n    ref: forwardRef\n  }), object.children.map(child => {\n    if (child.type === 'Bone') return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n      key: child.uuid,\n      object: child\n    }, config));\n    return /*#__PURE__*/React.createElement(Clone, _extends({\n      key: child.uuid,\n      object: child\n    }, config, {\n      isChild: true\n    }));\n  }), children, injectChildren);\n});\n\nexport { Clone };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11380, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11386, "column": 0}, "map": {"version":3,"file":"DRACOLoader.js","sources":["file:///Users/jay/personal/dczii.github.io/node_modules/src/loaders/DRACOLoader.js"],"sourcesContent":["import { BufferAttribute, BufferGeometry, FileLoader, Loader } from 'three'\n\nconst _taskCache = new WeakMap()\n\nclass DRACOLoader extends Loader {\n  constructor(manager) {\n    super(manager)\n\n    this.decoderPath = ''\n    this.decoderConfig = {}\n    this.decoderBinary = null\n    this.decoderPending = null\n\n    this.workerLimit = 4\n    this.workerPool = []\n    this.workerNextTaskID = 1\n    this.workerSourceURL = ''\n\n    this.defaultAttributeIDs = {\n      position: 'POSITION',\n      normal: 'NORMAL',\n      color: 'COLOR',\n      uv: 'TEX_COORD',\n    }\n    this.defaultAttributeTypes = {\n      position: 'Float32Array',\n      normal: 'Float32Array',\n      color: 'Float32Array',\n      uv: 'Float32Array',\n    }\n  }\n\n  setDecoderPath(path) {\n    this.decoderPath = path\n\n    return this\n  }\n\n  setDecoderConfig(config) {\n    this.decoderConfig = config\n\n    return this\n  }\n\n  setWorkerLimit(workerLimit) {\n    this.workerLimit = workerLimit\n\n    return this\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const loader = new FileLoader(this.manager)\n\n    loader.setPath(this.path)\n    loader.setResponseType('arraybuffer')\n    loader.setRequestHeader(this.requestHeader)\n    loader.setWithCredentials(this.withCredentials)\n\n    loader.load(\n      url,\n      (buffer) => {\n        const taskConfig = {\n          attributeIDs: this.defaultAttributeIDs,\n          attributeTypes: this.defaultAttributeTypes,\n          useUniqueIDs: false,\n        }\n\n        this.decodeGeometry(buffer, taskConfig).then(onLoad).catch(onError)\n      },\n      onProgress,\n      onError,\n    )\n  }\n\n  /** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n  decodeDracoFile(buffer, callback, attributeIDs, attributeTypes) {\n    const taskConfig = {\n      attributeIDs: attributeIDs || this.defaultAttributeIDs,\n      attributeTypes: attributeTypes || this.defaultAttributeTypes,\n      useUniqueIDs: !!attributeIDs,\n    }\n\n    this.decodeGeometry(buffer, taskConfig).then(callback)\n  }\n\n  decodeGeometry(buffer, taskConfig) {\n    // TODO: For backward-compatibility, support 'attributeTypes' objects containing\n    // references (rather than names) to typed array constructors. These must be\n    // serialized before sending them to the worker.\n    for (const attribute in taskConfig.attributeTypes) {\n      const type = taskConfig.attributeTypes[attribute]\n\n      if (type.BYTES_PER_ELEMENT !== undefined) {\n        taskConfig.attributeTypes[attribute] = type.name\n      }\n    }\n\n    //\n\n    const taskKey = JSON.stringify(taskConfig)\n\n    // Check for an existing task using this buffer. A transferred buffer cannot be transferred\n    // again from this thread.\n    if (_taskCache.has(buffer)) {\n      const cachedTask = _taskCache.get(buffer)\n\n      if (cachedTask.key === taskKey) {\n        return cachedTask.promise\n      } else if (buffer.byteLength === 0) {\n        // Technically, it would be possible to wait for the previous task to complete,\n        // transfer the buffer back, and decode again with the second configuration. That\n        // is complex, and I don't know of any reason to decode a Draco buffer twice in\n        // different ways, so this is left unimplemented.\n        throw new Error(\n          'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\n            'settings. Buffer has already been transferred.',\n        )\n      }\n    }\n\n    //\n\n    let worker\n    const taskID = this.workerNextTaskID++\n    const taskCost = buffer.byteLength\n\n    // Obtain a worker and assign a task, and construct a geometry instance\n    // when the task completes.\n    const geometryPending = this._getWorker(taskID, taskCost)\n      .then((_worker) => {\n        worker = _worker\n\n        return new Promise((resolve, reject) => {\n          worker._callbacks[taskID] = { resolve, reject }\n\n          worker.postMessage({ type: 'decode', id: taskID, taskConfig, buffer }, [buffer])\n\n          // this.debug();\n        })\n      })\n      .then((message) => this._createGeometry(message.geometry))\n\n    // Remove task from the task list.\n    // Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n    geometryPending\n      .catch(() => true)\n      .then(() => {\n        if (worker && taskID) {\n          this._releaseTask(worker, taskID)\n\n          // this.debug();\n        }\n      })\n\n    // Cache the task result.\n    _taskCache.set(buffer, {\n      key: taskKey,\n      promise: geometryPending,\n    })\n\n    return geometryPending\n  }\n\n  _createGeometry(geometryData) {\n    const geometry = new BufferGeometry()\n\n    if (geometryData.index) {\n      geometry.setIndex(new BufferAttribute(geometryData.index.array, 1))\n    }\n\n    for (let i = 0; i < geometryData.attributes.length; i++) {\n      const attribute = geometryData.attributes[i]\n      const name = attribute.name\n      const array = attribute.array\n      const itemSize = attribute.itemSize\n\n      geometry.setAttribute(name, new BufferAttribute(array, itemSize))\n    }\n\n    return geometry\n  }\n\n  _loadLibrary(url, responseType) {\n    const loader = new FileLoader(this.manager)\n    loader.setPath(this.decoderPath)\n    loader.setResponseType(responseType)\n    loader.setWithCredentials(this.withCredentials)\n\n    return new Promise((resolve, reject) => {\n      loader.load(url, resolve, undefined, reject)\n    })\n  }\n\n  preload() {\n    this._initDecoder()\n\n    return this\n  }\n\n  _initDecoder() {\n    if (this.decoderPending) return this.decoderPending\n\n    const useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js'\n    const librariesPending = []\n\n    if (useJS) {\n      librariesPending.push(this._loadLibrary('draco_decoder.js', 'text'))\n    } else {\n      librariesPending.push(this._loadLibrary('draco_wasm_wrapper.js', 'text'))\n      librariesPending.push(this._loadLibrary('draco_decoder.wasm', 'arraybuffer'))\n    }\n\n    this.decoderPending = Promise.all(librariesPending).then((libraries) => {\n      const jsContent = libraries[0]\n\n      if (!useJS) {\n        this.decoderConfig.wasmBinary = libraries[1]\n      }\n\n      const fn = DRACOWorker.toString()\n\n      const body = [\n        '/* draco decoder */',\n        jsContent,\n        '',\n        '/* worker */',\n        fn.substring(fn.indexOf('{') + 1, fn.lastIndexOf('}')),\n      ].join('\\n')\n\n      this.workerSourceURL = URL.createObjectURL(new Blob([body]))\n    })\n\n    return this.decoderPending\n  }\n\n  _getWorker(taskID, taskCost) {\n    return this._initDecoder().then(() => {\n      if (this.workerPool.length < this.workerLimit) {\n        const worker = new Worker(this.workerSourceURL)\n\n        worker._callbacks = {}\n        worker._taskCosts = {}\n        worker._taskLoad = 0\n\n        worker.postMessage({ type: 'init', decoderConfig: this.decoderConfig })\n\n        worker.onmessage = function (e) {\n          const message = e.data\n\n          switch (message.type) {\n            case 'decode':\n              worker._callbacks[message.id].resolve(message)\n              break\n\n            case 'error':\n              worker._callbacks[message.id].reject(message)\n              break\n\n            default:\n              console.error('THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"')\n          }\n        }\n\n        this.workerPool.push(worker)\n      } else {\n        this.workerPool.sort(function (a, b) {\n          return a._taskLoad > b._taskLoad ? -1 : 1\n        })\n      }\n\n      const worker = this.workerPool[this.workerPool.length - 1]\n      worker._taskCosts[taskID] = taskCost\n      worker._taskLoad += taskCost\n      return worker\n    })\n  }\n\n  _releaseTask(worker, taskID) {\n    worker._taskLoad -= worker._taskCosts[taskID]\n    delete worker._callbacks[taskID]\n    delete worker._taskCosts[taskID]\n  }\n\n  debug() {\n    console.log(\n      'Task load: ',\n      this.workerPool.map((worker) => worker._taskLoad),\n    )\n  }\n\n  dispose() {\n    for (let i = 0; i < this.workerPool.length; ++i) {\n      this.workerPool[i].terminate()\n    }\n\n    this.workerPool.length = 0\n\n    return this\n  }\n}\n\n/* WEB WORKER */\n\nfunction DRACOWorker() {\n  let decoderConfig\n  let decoderPending\n\n  onmessage = function (e) {\n    const message = e.data\n\n    switch (message.type) {\n      case 'init':\n        decoderConfig = message.decoderConfig\n        decoderPending = new Promise(function (resolve /*, reject*/) {\n          decoderConfig.onModuleLoaded = function (draco) {\n            // Module is Promise-like. Wrap before resolving to avoid loop.\n            resolve({ draco: draco })\n          }\n\n          DracoDecoderModule(decoderConfig)\n        })\n        break\n\n      case 'decode':\n        const buffer = message.buffer\n        const taskConfig = message.taskConfig\n        decoderPending.then((module) => {\n          const draco = module.draco\n          const decoder = new draco.Decoder()\n          const decoderBuffer = new draco.DecoderBuffer()\n          decoderBuffer.Init(new Int8Array(buffer), buffer.byteLength)\n\n          try {\n            const geometry = decodeGeometry(draco, decoder, decoderBuffer, taskConfig)\n\n            const buffers = geometry.attributes.map((attr) => attr.array.buffer)\n\n            if (geometry.index) buffers.push(geometry.index.array.buffer)\n\n            self.postMessage({ type: 'decode', id: message.id, geometry }, buffers)\n          } catch (error) {\n            console.error(error)\n\n            self.postMessage({ type: 'error', id: message.id, error: error.message })\n          } finally {\n            draco.destroy(decoderBuffer)\n            draco.destroy(decoder)\n          }\n        })\n        break\n    }\n  }\n\n  function decodeGeometry(draco, decoder, decoderBuffer, taskConfig) {\n    const attributeIDs = taskConfig.attributeIDs\n    const attributeTypes = taskConfig.attributeTypes\n\n    let dracoGeometry\n    let decodingStatus\n\n    const geometryType = decoder.GetEncodedGeometryType(decoderBuffer)\n\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      dracoGeometry = new draco.Mesh()\n      decodingStatus = decoder.DecodeBufferToMesh(decoderBuffer, dracoGeometry)\n    } else if (geometryType === draco.POINT_CLOUD) {\n      dracoGeometry = new draco.PointCloud()\n      decodingStatus = decoder.DecodeBufferToPointCloud(decoderBuffer, dracoGeometry)\n    } else {\n      throw new Error('THREE.DRACOLoader: Unexpected geometry type.')\n    }\n\n    if (!decodingStatus.ok() || dracoGeometry.ptr === 0) {\n      throw new Error('THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg())\n    }\n\n    const geometry = { index: null, attributes: [] }\n\n    // Gather all vertex attributes.\n    for (const attributeName in attributeIDs) {\n      const attributeType = self[attributeTypes[attributeName]]\n\n      let attribute\n      let attributeID\n\n      // A Draco file may be created with default vertex attributes, whose attribute IDs\n      // are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n      // a Draco file may contain a custom set of attributes, identified by known unique\n      // IDs. glTF files always do the latter, and `.drc` files typically do the former.\n      if (taskConfig.useUniqueIDs) {\n        attributeID = attributeIDs[attributeName]\n        attribute = decoder.GetAttributeByUniqueId(dracoGeometry, attributeID)\n      } else {\n        attributeID = decoder.GetAttributeId(dracoGeometry, draco[attributeIDs[attributeName]])\n\n        if (attributeID === -1) continue\n\n        attribute = decoder.GetAttribute(dracoGeometry, attributeID)\n      }\n\n      geometry.attributes.push(decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute))\n    }\n\n    // Add index.\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      geometry.index = decodeIndex(draco, decoder, dracoGeometry)\n    }\n\n    draco.destroy(dracoGeometry)\n\n    return geometry\n  }\n\n  function decodeIndex(draco, decoder, dracoGeometry) {\n    const numFaces = dracoGeometry.num_faces()\n    const numIndices = numFaces * 3\n    const byteLength = numIndices * 4\n\n    const ptr = draco._malloc(byteLength)\n    decoder.GetTrianglesUInt32Array(dracoGeometry, byteLength, ptr)\n    const index = new Uint32Array(draco.HEAPF32.buffer, ptr, numIndices).slice()\n    draco._free(ptr)\n\n    return { array: index, itemSize: 1 }\n  }\n\n  function decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute) {\n    const numComponents = attribute.num_components()\n    const numPoints = dracoGeometry.num_points()\n    const numValues = numPoints * numComponents\n    const byteLength = numValues * attributeType.BYTES_PER_ELEMENT\n    const dataType = getDracoDataType(draco, attributeType)\n\n    const ptr = draco._malloc(byteLength)\n    decoder.GetAttributeDataArrayForAllPoints(dracoGeometry, attribute, dataType, byteLength, ptr)\n    const array = new attributeType(draco.HEAPF32.buffer, ptr, numValues).slice()\n    draco._free(ptr)\n\n    return {\n      name: attributeName,\n      array: array,\n      itemSize: numComponents,\n    }\n  }\n\n  function getDracoDataType(draco, attributeType) {\n    switch (attributeType) {\n      case Float32Array:\n        return draco.DT_FLOAT32\n      case Int8Array:\n        return draco.DT_INT8\n      case Int16Array:\n        return draco.DT_INT16\n      case Int32Array:\n        return draco.DT_INT32\n      case Uint8Array:\n        return draco.DT_UINT8\n      case Uint16Array:\n        return draco.DT_UINT16\n      case Uint32Array:\n        return draco.DT_UINT32\n    }\n  }\n}\n\nexport { DRACOLoader }\n"],"names":["worker"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11747, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11753, "column": 0}, "map": {"version":3,"file":"MeshoptDecoder.js","sources":["file:///Users/jay/personal/dczii.github.io/node_modules/src/libs/MeshoptDecoder.ts"],"sourcesContent":["// This file is part of meshoptimizer library and is distributed under the terms of MIT License.\n// Copyright (C) 2016-2020, by Arseny Kapoulkine (arseny.kapoulkine@gmail.com)\n\ntype API = {\n  ready: Promise<void>\n  supported: boolean\n  decodeVertexBuffer: (target: Uint8Array, count: number, size: number, source: Uint8Array, filter?: string) => void\n  decodeIndexBuffer: (target: Uint8Array, count: number, size: number, source: Uint8Array) => void\n  decodeIndexSequence: (target: Uint8Array, count: number, size: number, source: Uint8Array) => void\n  decodeGltfBuffer: (\n    target: Uint8Array,\n    count: number,\n    size: number,\n    source: Uint8Array,\n    mode: string,\n    filter?: string,\n  ) => void\n}\n\nlet generated: API\n\nconst MeshoptDecoder = () => {\n  if (generated) return generated\n\n  // Built with clang version 11.0.0 (https://github.com/llvm/llvm-project.git 0160ad802e899c2922bc9b29564080c22eb0908c)\n  // Built from meshoptimizer 0.14\n  const wasm_base =\n    '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'\n  const wasm_simd =\n    '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'\n\n  // Uses bulk-memory and simd extensions\n  const detector = new Uint8Array([\n    0,\n    97,\n    115,\n    109,\n    1,\n    0,\n    0,\n    0,\n    1,\n    4,\n    1,\n    96,\n    0,\n    0,\n    3,\n    3,\n    2,\n    0,\n    0,\n    5,\n    3,\n    1,\n    0,\n    1,\n    12,\n    1,\n    0,\n    10,\n    22,\n    2,\n    12,\n    0,\n    65,\n    0,\n    65,\n    0,\n    65,\n    0,\n    252,\n    10,\n    0,\n    0,\n    11,\n    7,\n    0,\n    65,\n    0,\n    253,\n    15,\n    26,\n    11,\n  ])\n\n  // Used to unpack wasm\n  const wasmpack = new Uint8Array([\n    32,\n    0,\n    65,\n    253,\n    3,\n    1,\n    2,\n    34,\n    4,\n    106,\n    6,\n    5,\n    11,\n    8,\n    7,\n    20,\n    13,\n    33,\n    12,\n    16,\n    128,\n    9,\n    116,\n    64,\n    19,\n    113,\n    127,\n    15,\n    10,\n    21,\n    22,\n    14,\n    255,\n    66,\n    24,\n    54,\n    136,\n    107,\n    18,\n    23,\n    192,\n    26,\n    114,\n    118,\n    132,\n    17,\n    77,\n    101,\n    130,\n    144,\n    27,\n    87,\n    131,\n    44,\n    45,\n    74,\n    156,\n    154,\n    70,\n    167,\n  ])\n\n  if (typeof WebAssembly !== 'object') {\n    // This module requires WebAssembly to function\n    return {\n      supported: false,\n    }\n  }\n\n  let wasm = wasm_base\n\n  if (WebAssembly.validate(detector)) {\n    wasm = wasm_simd\n  }\n\n  let instance: any // WebAssembly.Instance\n\n  const promise = WebAssembly.instantiate(unpack(wasm), {}).then((result) => {\n    instance = result.instance\n    instance.exports.__wasm_call_ctors()\n  })\n\n  function unpack(data: string) {\n    const result = new Uint8Array(data.length)\n    for (let i = 0; i < data.length; ++i) {\n      const ch = data.charCodeAt(i)\n      result[i] = ch > 96 ? ch - 71 : ch > 64 ? ch - 65 : ch > 47 ? ch + 4 : ch > 46 ? 63 : 62\n    }\n    let write = 0\n    for (let i = 0; i < data.length; ++i) {\n      result[write++] = result[i] < 60 ? wasmpack[result[i]] : (result[i] - 60) * 64 + result[++i]\n    }\n    return result.buffer.slice(0, write)\n  }\n\n  function decode(\n    fun: Function,\n    target: Uint8Array,\n    count: number,\n    size: number,\n    source: Uint8Array,\n    filter?: Function,\n  ) {\n    const sbrk = instance.exports.sbrk\n    const count4 = (count + 3) & ~3 // pad for SIMD filter\n    const tp = sbrk(count4 * size)\n    const sp = sbrk(source.length)\n    const heap = new Uint8Array(instance.exports.memory.buffer)\n    heap.set(source, sp)\n    const res = fun(tp, count, size, sp, source.length)\n    if (res === 0 && filter) {\n      filter(tp, count4, size)\n    }\n    target.set(heap.subarray(tp, tp + count * size))\n    sbrk(tp - sbrk(0))\n    if (res !== 0) {\n      throw new Error(`Malformed buffer data: ${res}`)\n    }\n  }\n\n  const filters = {\n    // legacy index-based enums for glTF\n    0: '',\n    1: 'meshopt_decodeFilterOct',\n    2: 'meshopt_decodeFilterQuat',\n    3: 'meshopt_decodeFilterExp',\n    // string-based enums for glTF\n    NONE: '',\n    OCTAHEDRAL: 'meshopt_decodeFilterOct',\n    QUATERNION: 'meshopt_decodeFilterQuat',\n    EXPONENTIAL: 'meshopt_decodeFilterExp',\n  }\n\n  const decoders = {\n    // legacy index-based enums for glTF\n    0: 'meshopt_decodeVertexBuffer',\n    1: 'meshopt_decodeIndexBuffer',\n    2: 'meshopt_decodeIndexSequence',\n    // string-based enums for glTF\n    ATTRIBUTES: 'meshopt_decodeVertexBuffer',\n    TRIANGLES: 'meshopt_decodeIndexBuffer',\n    INDICES: 'meshopt_decodeIndexSequence',\n  }\n\n  generated = {\n    ready: promise,\n    supported: true,\n    decodeVertexBuffer(target, count, size, source, filter) {\n      decode(\n        instance.exports.meshopt_decodeVertexBuffer,\n        target,\n        count,\n        size,\n        source,\n        instance.exports[filters[filter as keyof typeof filters]],\n      )\n    },\n    decodeIndexBuffer(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexBuffer, target, count, size, source)\n    },\n    decodeIndexSequence(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexSequence, target, count, size, source)\n    },\n    decodeGltfBuffer(target, count, size, source, mode, filter) {\n      decode(\n        instance.exports[decoders[mode as keyof typeof decoders]],\n        target,\n        count,\n        size,\n        source,\n        instance.exports[filters[filter as keyof typeof filters]],\n      )\n    },\n  }\n\n  return generated\n}\n\nexport { MeshoptDecoder }\n"],"names":[],"mappings":";;;AAmBA,IAAI;AAEJ,MAAM,iBAAiB,MAAM;IACvB,IAAA,WAAkB,OAAA;IAItB,MAAM,YACJ;IACF,MAAM,YACJ;IAGI,MAAA,WAAW,IAAI,WAAW;QAC9B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAGK,MAAA,WAAW,IAAI,WAAW;QAC9B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAEG,IAAA,OAAO,gBAAgB,UAAU;QAE5B,OAAA;YACL,WAAW;QAAA;IAEf;IAEA,IAAI,OAAO;IAEP,IAAA,YAAY,QAAA,CAAS,QAAQ,GAAG;QAC3B,OAAA;IACT;IAEI,IAAA;IAEE,MAAA,UAAU,YAAY,WAAA,CAAY,OAAO,IAAI,GAAG,CAAA,CAAE,EAAE,IAAA,CAAK,CAAC,WAAW;QACzE,WAAW,OAAO,QAAA;QAClB,SAAS,OAAA,CAAQ,iBAAA;IAAkB,CACpC;IAED,SAAS,OAAO,IAAA,EAAc;QAC5B,MAAM,SAAS,IAAI,WAAW,KAAK,MAAM;QACzC,IAAA,IAAS,IAAI,GAAG,IAAI,KAAK,MAAA,EAAQ,EAAE,EAAG;YAC9B,MAAA,KAAK,KAAK,UAAA,CAAW,CAAC;YAC5B,MAAA,CAAO,CAAC,CAAA,GAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK;QACxF;QACA,IAAI,QAAQ;QACZ,IAAA,IAAS,IAAI,GAAG,IAAI,KAAK,MAAA,EAAQ,EAAE,EAAG;YACpC,MAAA,CAAO,OAAO,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,GAAI,KAAK,QAAA,CAAS,MAAA,CAAO,CAAC,CAAC,CAAA,GAAA,CAAK,MAAA,CAAO,CAAC,CAAA,GAAI,EAAA,IAAM,KAAK,MAAA,CAAO,EAAE,CAAC,CAAA;QAC7F;QACA,OAAO,OAAO,MAAA,CAAO,KAAA,CAAM,GAAG,KAAK;IACrC;IAEA,SAAS,OACP,GAAA,EACA,MAAA,EACA,KAAA,EACA,IAAA,EACA,MAAA,EACA,MAAA,EACA;QACM,MAAA,OAAO,SAAS,OAAA,CAAQ,IAAA;QACxB,MAAA,SAAU,QAAQ,IAAK,CAAC;QACxB,MAAA,KAAK,KAAK,SAAS,IAAI;QACvB,MAAA,KAAK,KAAK,OAAO,MAAM;QAC7B,MAAM,OAAO,IAAI,WAAW,SAAS,OAAA,CAAQ,MAAA,CAAO,MAAM;QACrD,KAAA,GAAA,CAAI,QAAQ,EAAE;QACnB,MAAM,MAAM,IAAI,IAAI,OAAO,MAAM,IAAI,OAAO,MAAM;QAC9C,IAAA,QAAQ,KAAK,QAAQ;YAChB,OAAA,IAAI,QAAQ,IAAI;QACzB;QACA,OAAO,GAAA,CAAI,KAAK,QAAA,CAAS,IAAI,KAAK,QAAQ,IAAI,CAAC;QAC1C,KAAA,KAAK,KAAK,CAAC,CAAC;QACjB,IAAI,QAAQ,GAAG;YACP,MAAA,IAAI,MAAM,CAAA,uBAAA,EAA0B,KAAK;QACjD;IACF;IAEA,MAAM,UAAU;QAAA,oCAAA;QAEd,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QAAA,8BAAA;QAEH,MAAM;QACN,YAAY;QACZ,YAAY;QACZ,aAAa;IAAA;IAGf,MAAM,WAAW;QAAA,oCAAA;QAEf,GAAG;QACH,GAAG;QACH,GAAG;QAAA,8BAAA;QAEH,YAAY;QACZ,WAAW;QACX,SAAS;IAAA;IAGC,YAAA;QACV,OAAO;QACP,WAAW;QACX,oBAAmB,MAAA,EAAQ,KAAA,EAAO,IAAA,EAAM,MAAA,EAAQ,MAAA,EAAQ;YACtD,OACE,SAAS,OAAA,CAAQ,0BAAA,EACjB,QACA,OACA,MACA,QACA,SAAS,OAAA,CAAQ,OAAA,CAAQ,MAA8B,CAAC,CAAA;QAE5D;QACA,mBAAkB,MAAA,EAAQ,KAAA,EAAO,IAAA,EAAM,MAAA,EAAQ;YAC7C,OAAO,SAAS,OAAA,CAAQ,yBAAA,EAA2B,QAAQ,OAAO,MAAM,MAAM;QAChF;QACA,qBAAoB,MAAA,EAAQ,KAAA,EAAO,IAAA,EAAM,MAAA,EAAQ;YAC/C,OAAO,SAAS,OAAA,CAAQ,2BAAA,EAA6B,QAAQ,OAAO,MAAM,MAAM;QAClF;QACA,kBAAiB,MAAA,EAAQ,KAAA,EAAO,IAAA,EAAM,MAAA,EAAQ,IAAA,EAAM,MAAA,EAAQ;YAC1D,OACE,SAAS,OAAA,CAAQ,QAAA,CAAS,IAA6B,CAAC,CAAA,EACxD,QACA,OACA,MACA,QACA,SAAS,OAAA,CAAQ,OAAA,CAAQ,MAA8B,CAAC,CAAA;QAE5D;IAAA;IAGK,OAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 11961, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11967, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/%40react-three/drei/core/Gltf.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { GLTFLoader, DRACOLoader, MeshoptDecoder } from 'three-stdlib';\nimport { useLoader } from '@react-three/fiber';\nimport { Clone } from './Clone.js';\n\nlet dracoLoader = null;\nlet decoderPath = 'https://www.gstatic.com/draco/versioned/decoders/1.5.5/';\nfunction extensions(useDraco = true, useMeshopt = true, extendLoader) {\n  return loader => {\n    if (extendLoader) {\n      extendLoader(loader);\n    }\n    if (useDraco) {\n      if (!dracoLoader) {\n        dracoLoader = new DRACOLoader();\n      }\n      dracoLoader.setDecoderPath(typeof useDraco === 'string' ? useDraco : decoderPath);\n      loader.setDRACOLoader(dracoLoader);\n    }\n    if (useMeshopt) {\n      loader.setMeshoptDecoder(typeof MeshoptDecoder === 'function' ? MeshoptDecoder() : MeshoptDecoder);\n    }\n  };\n}\nconst useGLTF = (path, useDraco, useMeshopt, extendLoader) => useLoader(GLTFLoader, path, extensions(useDraco, useMeshopt, extendLoader));\nuseGLTF.preload = (path, useDraco, useMeshopt, extendLoader) => useLoader.preload(GLTFLoader, path, extensions(useDraco, useMeshopt, extendLoader));\nuseGLTF.clear = path => useLoader.clear(GLTFLoader, path);\nuseGLTF.setDecoderPath = path => {\n  decoderPath = path;\n};\n\n//\n\nconst Gltf = /* @__PURE__ */React.forwardRef(({\n  src,\n  useDraco,\n  useMeshOpt,\n  extendLoader,\n  ...props\n}, ref) => {\n  const {\n    scene\n  } = useGLTF(src, useDraco, useMeshOpt, extendLoader);\n  return /*#__PURE__*/React.createElement(Clone, _extends({\n    ref: ref\n  }, props, {\n    object: scene\n  }));\n});\n\nexport { Gltf, useGLTF };\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;AADA;AAEA;AAFA;AAAA;;;;;;AAIA,IAAI,cAAc;AAClB,IAAI,cAAc;AAClB,SAAS,WAAW,WAAW,IAAI,EAAE,aAAa,IAAI,EAAE,YAAY;IAClE,OAAO,CAAA;QACL,IAAI,cAAc;YAChB,aAAa;QACf;QACA,IAAI,UAAU;YACZ,IAAI,CAAC,aAAa;gBAChB,cAAc,IAAI,4JAAA,CAAA,cAAW;YAC/B;YACA,YAAY,cAAc,CAAC,OAAO,aAAa,WAAW,WAAW;YACrE,OAAO,cAAc,CAAC;QACxB;QACA,IAAI,YAAY;YACd,OAAO,iBAAiB,CAAC,OAAO,4JAAA,CAAA,iBAAc,KAAK,aAAa,CAAA,GAAA,4JAAA,CAAA,iBAAc,AAAD,MAAM,4JAAA,CAAA,iBAAc;QACnG;IACF;AACF;AACA,MAAM,UAAU,CAAC,MAAM,UAAU,YAAY,eAAiB,CAAA,GAAA,iNAAA,CAAA,YAAS,AAAD,EAAE,2JAAA,CAAA,aAAU,EAAE,MAAM,WAAW,UAAU,YAAY;AAC3H,QAAQ,OAAO,GAAG,CAAC,MAAM,UAAU,YAAY,eAAiB,iNAAA,CAAA,YAAS,CAAC,OAAO,CAAC,2JAAA,CAAA,aAAU,EAAE,MAAM,WAAW,UAAU,YAAY;AACrI,QAAQ,KAAK,GAAG,CAAA,OAAQ,iNAAA,CAAA,YAAS,CAAC,KAAK,CAAC,2JAAA,CAAA,aAAU,EAAE;AACpD,QAAQ,cAAc,GAAG,CAAA;IACvB,cAAc;AAChB;AAEA,EAAE;AAEF,MAAM,OAAO,aAAa,GAAE,8JAAM,UAAU,CAAC,CAAC,EAC5C,GAAG,EACH,QAAQ,EACR,UAAU,EACV,YAAY,EACZ,GAAG,OACJ,EAAE;IACD,MAAM,EACJ,KAAK,EACN,GAAG,QAAQ,KAAK,UAAU,YAAY;IACvC,OAAO,WAAW,GAAE,8JAAM,aAAa,CAAC,4JAAA,CAAA,QAAK,EAAE,CAAA,GAAA,kKAAA,CAAA,UAAQ,AAAD,EAAE;QACtD,KAAK;IACP,GAAG,OAAO;QACR,QAAQ;IACV;AACF","ignoreList":[0]}},
    {"offset": {"line": 12018, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12024, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/webgl-sdf-generator/dist/webgl-sdf-generator.mjs"],"sourcesContent":["function SDFGenerator() {\nvar exports = (function (exports) {\n\n  /**\n   * Find the point on a quadratic bezier curve at t where t is in the range [0, 1]\n   */\n  function pointOnQuadraticBezier (x0, y0, x1, y1, x2, y2, t, pointOut) {\n    var t2 = 1 - t;\n    pointOut.x = t2 * t2 * x0 + 2 * t2 * t * x1 + t * t * x2;\n    pointOut.y = t2 * t2 * y0 + 2 * t2 * t * y1 + t * t * y2;\n  }\n\n  /**\n   * Find the point on a cubic bezier curve at t where t is in the range [0, 1]\n   */\n  function pointOnCubicBezier (x0, y0, x1, y1, x2, y2, x3, y3, t, pointOut) {\n    var t2 = 1 - t;\n    pointOut.x = t2 * t2 * t2 * x0 + 3 * t2 * t2 * t * x1 + 3 * t2 * t * t * x2 + t * t * t * x3;\n    pointOut.y = t2 * t2 * t2 * y0 + 3 * t2 * t2 * t * y1 + 3 * t2 * t * t * y2 + t * t * t * y3;\n  }\n\n  /**\n   * Parse a path string into its constituent line/curve commands, invoking a callback for each.\n   * @param {string} pathString - An SVG-like path string to parse; should only contain commands: M/L/Q/C/Z\n   * @param {function(\n   *   command: 'L'|'Q'|'C',\n   *   startX: number,\n   *   startY: number,\n   *   endX: number,\n   *   endY: number,\n   *   ctrl1X?: number,\n   *   ctrl1Y?: number,\n   *   ctrl2X?: number,\n   *   ctrl2Y?: number\n   * )} commandCallback - A callback function that will be called once for each parsed path command, passing the\n   *                      command identifier (only L/Q/C commands) and its numeric arguments.\n   */\n  function forEachPathCommand(pathString, commandCallback) {\n    var segmentRE = /([MLQCZ])([^MLQCZ]*)/g;\n    var match, firstX, firstY, prevX, prevY;\n    while ((match = segmentRE.exec(pathString))) {\n      var args = match[2]\n        .replace(/^\\s*|\\s*$/g, '')\n        .split(/[,\\s]+/)\n        .map(function (v) { return parseFloat(v); });\n      switch (match[1]) {\n        case 'M':\n          prevX = firstX = args[0];\n          prevY = firstY = args[1];\n          break\n        case 'L':\n          if (args[0] !== prevX || args[1] !== prevY) { // yup, some fonts have zero-length line commands\n            commandCallback('L', prevX, prevY, (prevX = args[0]), (prevY = args[1]));\n          }\n          break\n        case 'Q': {\n          commandCallback('Q', prevX, prevY, (prevX = args[2]), (prevY = args[3]), args[0], args[1]);\n          break\n        }\n        case 'C': {\n          commandCallback('C', prevX, prevY, (prevX = args[4]), (prevY = args[5]), args[0], args[1], args[2], args[3]);\n          break\n        }\n        case 'Z':\n          if (prevX !== firstX || prevY !== firstY) {\n            commandCallback('L', prevX, prevY, firstX, firstY);\n          }\n          break\n      }\n    }\n  }\n\n  /**\n   * Convert a path string to a series of straight line segments\n   * @param {string} pathString - An SVG-like path string to parse; should only contain commands: M/L/Q/C/Z\n   * @param {function(x1:number, y1:number, x2:number, y2:number)} segmentCallback - A callback\n   *        function that will be called once for every line segment\n   * @param {number} [curvePoints] - How many straight line segments to use when approximating a\n   *        bezier curve in the path. Defaults to 16.\n   */\n  function pathToLineSegments (pathString, segmentCallback, curvePoints) {\n    if ( curvePoints === void 0 ) curvePoints = 16;\n\n    var tempPoint = { x: 0, y: 0 };\n    forEachPathCommand(pathString, function (command, startX, startY, endX, endY, ctrl1X, ctrl1Y, ctrl2X, ctrl2Y) {\n      switch (command) {\n        case 'L':\n          segmentCallback(startX, startY, endX, endY);\n          break\n        case 'Q': {\n          var prevCurveX = startX;\n          var prevCurveY = startY;\n          for (var i = 1; i < curvePoints; i++) {\n            pointOnQuadraticBezier(\n              startX, startY,\n              ctrl1X, ctrl1Y,\n              endX, endY,\n              i / (curvePoints - 1),\n              tempPoint\n            );\n            segmentCallback(prevCurveX, prevCurveY, tempPoint.x, tempPoint.y);\n            prevCurveX = tempPoint.x;\n            prevCurveY = tempPoint.y;\n          }\n          break\n        }\n        case 'C': {\n          var prevCurveX$1 = startX;\n          var prevCurveY$1 = startY;\n          for (var i$1 = 1; i$1 < curvePoints; i$1++) {\n            pointOnCubicBezier(\n              startX, startY,\n              ctrl1X, ctrl1Y,\n              ctrl2X, ctrl2Y,\n              endX, endY,\n              i$1 / (curvePoints - 1),\n              tempPoint\n            );\n            segmentCallback(prevCurveX$1, prevCurveY$1, tempPoint.x, tempPoint.y);\n            prevCurveX$1 = tempPoint.x;\n            prevCurveY$1 = tempPoint.y;\n          }\n          break\n        }\n      }\n    });\n  }\n\n  var viewportQuadVertex = \"precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}\";\n\n  var copyTexFragment = \"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}\";\n\n  var cache = new WeakMap();\n\n  var glContextParams = {\n    premultipliedAlpha: false,\n    preserveDrawingBuffer: true,\n    antialias: false,\n    depth: false,\n  };\n\n  /**\n   * This is a little helper library for WebGL. It assists with state management for a GL context.\n   * It's pretty tightly wrapped to the needs of this package, not very general-purpose.\n   *\n   * @param { WebGLRenderingContext | HTMLCanvasElement | OffscreenCanvas } glOrCanvas - the GL context to wrap\n   * @param { ({gl, getExtension, withProgram, withTexture, withTextureFramebuffer, handleContextLoss}) => void } callback\n   */\n  function withWebGLContext (glOrCanvas, callback) {\n    var gl = glOrCanvas.getContext ? glOrCanvas.getContext('webgl', glContextParams) : glOrCanvas;\n    var wrapper = cache.get(gl);\n    if (!wrapper) {\n      var isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext;\n      var extensions = {};\n      var programs = {};\n      var textures = {};\n      var textureUnit = -1;\n      var framebufferStack = [];\n\n      gl.canvas.addEventListener('webglcontextlost', function (e) {\n        handleContextLoss();\n        e.preventDefault();\n      }, false);\n\n      function getExtension (name) {\n        var ext = extensions[name];\n        if (!ext) {\n          ext = extensions[name] = gl.getExtension(name);\n          if (!ext) {\n            throw new Error((name + \" not supported\"))\n          }\n        }\n        return ext\n      }\n\n      function compileShader (src, type) {\n        var shader = gl.createShader(type);\n        gl.shaderSource(shader, src);\n        gl.compileShader(shader);\n        // const status = gl.getShaderParameter(shader, gl.COMPILE_STATUS)\n        // if (!status && !gl.isContextLost()) {\n        //   throw new Error(gl.getShaderInfoLog(shader).trim())\n        // }\n        return shader\n      }\n\n      function withProgram (name, vert, frag, func) {\n        if (!programs[name]) {\n          var attributes = {};\n          var uniforms = {};\n          var program = gl.createProgram();\n          gl.attachShader(program, compileShader(vert, gl.VERTEX_SHADER));\n          gl.attachShader(program, compileShader(frag, gl.FRAGMENT_SHADER));\n          gl.linkProgram(program);\n\n          programs[name] = {\n            program: program,\n            transaction: function transaction (func) {\n              gl.useProgram(program);\n              func({\n                setUniform: function setUniform (type, name) {\n                  var values = [], len = arguments.length - 2;\n                  while ( len-- > 0 ) values[ len ] = arguments[ len + 2 ];\n\n                  var uniformLoc = uniforms[name] || (uniforms[name] = gl.getUniformLocation(program, name));\n                  gl[(\"uniform\" + type)].apply(gl, [ uniformLoc ].concat( values ));\n                },\n\n                setAttribute: function setAttribute (name, size, usage, instancingDivisor, data) {\n                  var attr = attributes[name];\n                  if (!attr) {\n                    attr = attributes[name] = {\n                      buf: gl.createBuffer(), // TODO should we destroy our buffers?\n                      loc: gl.getAttribLocation(program, name),\n                      data: null\n                    };\n                  }\n                  gl.bindBuffer(gl.ARRAY_BUFFER, attr.buf);\n                  gl.vertexAttribPointer(attr.loc, size, gl.FLOAT, false, 0, 0);\n                  gl.enableVertexAttribArray(attr.loc);\n                  if (isWebGL2) {\n                    gl.vertexAttribDivisor(attr.loc, instancingDivisor);\n                  } else {\n                    getExtension('ANGLE_instanced_arrays').vertexAttribDivisorANGLE(attr.loc, instancingDivisor);\n                  }\n                  if (data !== attr.data) {\n                    gl.bufferData(gl.ARRAY_BUFFER, data, usage);\n                    attr.data = data;\n                  }\n                }\n              });\n            }\n          };\n        }\n\n        programs[name].transaction(func);\n      }\n\n      function withTexture (name, func) {\n        textureUnit++;\n        try {\n          gl.activeTexture(gl.TEXTURE0 + textureUnit);\n          var texture = textures[name];\n          if (!texture) {\n            texture = textures[name] = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n          }\n          gl.bindTexture(gl.TEXTURE_2D, texture);\n          func(texture, textureUnit);\n        } finally {\n          textureUnit--;\n        }\n      }\n\n      function withTextureFramebuffer (texture, textureUnit, func) {\n        var framebuffer = gl.createFramebuffer();\n        framebufferStack.push(framebuffer);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n        gl.activeTexture(gl.TEXTURE0 + textureUnit);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n        try {\n          func(framebuffer);\n        } finally {\n          gl.deleteFramebuffer(framebuffer);\n          gl.bindFramebuffer(gl.FRAMEBUFFER, framebufferStack[--framebufferStack.length - 1] || null);\n        }\n      }\n\n      function handleContextLoss () {\n        extensions = {};\n        programs = {};\n        textures = {};\n        textureUnit = -1;\n        framebufferStack.length = 0;\n      }\n\n      cache.set(gl, wrapper = {\n        gl: gl,\n        isWebGL2: isWebGL2,\n        getExtension: getExtension,\n        withProgram: withProgram,\n        withTexture: withTexture,\n        withTextureFramebuffer: withTextureFramebuffer,\n        handleContextLoss: handleContextLoss,\n      });\n    }\n    callback(wrapper);\n  }\n\n\n  function renderImageData(glOrCanvas, imageData, x, y, width, height, channels, framebuffer) {\n    if ( channels === void 0 ) channels = 15;\n    if ( framebuffer === void 0 ) framebuffer = null;\n\n    withWebGLContext(glOrCanvas, function (ref) {\n      var gl = ref.gl;\n      var withProgram = ref.withProgram;\n      var withTexture = ref.withTexture;\n\n      withTexture('copy', function (tex, texUnit) {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, imageData);\n        withProgram('copy', viewportQuadVertex, copyTexFragment, function (ref) {\n          var setUniform = ref.setUniform;\n          var setAttribute = ref.setAttribute;\n\n          setAttribute('aUV', 2, gl.STATIC_DRAW, 0, new Float32Array([0, 0, 2, 0, 0, 2]));\n          setUniform('1i', 'image', texUnit);\n          gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer || null);\n          gl.disable(gl.BLEND);\n          gl.colorMask(channels & 8, channels & 4, channels & 2, channels & 1);\n          gl.viewport(x, y, width, height);\n          gl.scissor(x, y, width, height);\n          gl.drawArrays(gl.TRIANGLES, 0, 3);\n        });\n      });\n    });\n  }\n\n  /**\n   * Resizing a canvas clears its contents; this utility copies the previous contents over.\n   * @param canvas\n   * @param newWidth\n   * @param newHeight\n   */\n  function resizeWebGLCanvasWithoutClearing(canvas, newWidth, newHeight) {\n    var width = canvas.width;\n    var height = canvas.height;\n    withWebGLContext(canvas, function (ref) {\n      var gl = ref.gl;\n\n      var data = new Uint8Array(width * height * 4);\n      gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, data);\n      canvas.width = newWidth;\n      canvas.height = newHeight;\n      renderImageData(gl, data, 0, 0, width, height);\n    });\n  }\n\n  var webglUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    withWebGLContext: withWebGLContext,\n    renderImageData: renderImageData,\n    resizeWebGLCanvasWithoutClearing: resizeWebGLCanvasWithoutClearing\n  });\n\n  function generate$2 (sdfWidth, sdfHeight, path, viewBox, maxDistance, sdfExponent) {\n    if ( sdfExponent === void 0 ) sdfExponent = 1;\n\n    var textureData = new Uint8Array(sdfWidth * sdfHeight);\n\n    var viewBoxWidth = viewBox[2] - viewBox[0];\n    var viewBoxHeight = viewBox[3] - viewBox[1];\n\n    // Decompose all paths into straight line segments and add them to an index\n    var segments = [];\n    pathToLineSegments(path, function (x1, y1, x2, y2) {\n      segments.push({\n        x1: x1, y1: y1, x2: x2, y2: y2,\n        minX: Math.min(x1, x2),\n        minY: Math.min(y1, y2),\n        maxX: Math.max(x1, x2),\n        maxY: Math.max(y1, y2)\n      });\n    });\n\n    // Sort segments by maxX, this will let us short-circuit some loops below\n    segments.sort(function (a, b) { return a.maxX - b.maxX; });\n\n    // For each target SDF texel, find the distance from its center to its nearest line segment,\n    // map that distance to an alpha value, and write that alpha to the texel\n    for (var sdfX = 0; sdfX < sdfWidth; sdfX++) {\n      for (var sdfY = 0; sdfY < sdfHeight; sdfY++) {\n        var signedDist = findNearestSignedDistance(\n          viewBox[0] + viewBoxWidth * (sdfX + 0.5) / sdfWidth,\n          viewBox[1] + viewBoxHeight * (sdfY + 0.5) / sdfHeight\n        );\n\n        // Use an exponential scale to ensure the texels very near the glyph path have adequate\n        // precision, while allowing the distance field to cover the entire texture, given that\n        // there are only 8 bits available. Formula visualized: https://www.desmos.com/calculator/uiaq5aqiam\n        var alpha = Math.pow((1 - Math.abs(signedDist) / maxDistance), sdfExponent) / 2;\n        if (signedDist < 0) {\n          alpha = 1 - alpha;\n        }\n\n        alpha = Math.max(0, Math.min(255, Math.round(alpha * 255))); //clamp\n        textureData[sdfY * sdfWidth + sdfX] = alpha;\n      }\n    }\n\n    return textureData\n\n    /**\n     * For a given x/y, search the index for the closest line segment and return\n     * its signed distance. Negative = inside, positive = outside, zero = on edge\n     * @param x\n     * @param y\n     * @returns {number}\n     */\n    function findNearestSignedDistance (x, y) {\n      var closestDistSq = Infinity;\n      var closestDist = Infinity;\n\n      for (var i = segments.length; i--;) {\n        var seg = segments[i];\n        if (seg.maxX + closestDist <= x) { break } //sorting by maxX means no more can be closer, so we can short-circuit\n        if (x + closestDist > seg.minX && y - closestDist < seg.maxY && y + closestDist > seg.minY) {\n          var distSq = absSquareDistanceToLineSegment(x, y, seg.x1, seg.y1, seg.x2, seg.y2);\n          if (distSq < closestDistSq) {\n            closestDistSq = distSq;\n            closestDist = Math.sqrt(closestDistSq);\n          }\n        }\n      }\n\n      // Flip to negative distance if inside the poly\n      if (isPointInPoly(x, y)) {\n        closestDist = -closestDist;\n      }\n      return closestDist\n    }\n\n    /**\n     * Determine whether the given point lies inside or outside the glyph. Uses a simple\n     * winding-number ray casting algorithm using a ray pointing east from the point.\n     */\n    function isPointInPoly (x, y) {\n      var winding = 0;\n      for (var i = segments.length; i--;) {\n        var seg = segments[i];\n        if (seg.maxX <= x) { break } //sorting by maxX means no more can cross, so we can short-circuit\n        var intersects = ((seg.y1 > y) !== (seg.y2 > y)) && (x < (seg.x2 - seg.x1) * (y - seg.y1) / (seg.y2 - seg.y1) + seg.x1);\n        if (intersects) {\n          winding += seg.y1 < seg.y2 ? 1 : -1;\n        }\n      }\n      return winding !== 0\n    }\n  }\n\n  function generateIntoCanvas$2(sdfWidth, sdfHeight, path, viewBox, maxDistance, sdfExponent, canvas, x, y, channel) {\n    if ( sdfExponent === void 0 ) sdfExponent = 1;\n    if ( x === void 0 ) x = 0;\n    if ( y === void 0 ) y = 0;\n    if ( channel === void 0 ) channel = 0;\n\n    generateIntoFramebuffer$1(sdfWidth, sdfHeight, path, viewBox, maxDistance, sdfExponent, canvas, null, x, y, channel);\n  }\n\n  function generateIntoFramebuffer$1 (sdfWidth, sdfHeight, path, viewBox, maxDistance, sdfExponent, glOrCanvas, framebuffer, x, y, channel) {\n    if ( sdfExponent === void 0 ) sdfExponent = 1;\n    if ( x === void 0 ) x = 0;\n    if ( y === void 0 ) y = 0;\n    if ( channel === void 0 ) channel = 0;\n\n    var data = generate$2(sdfWidth, sdfHeight, path, viewBox, maxDistance, sdfExponent);\n    // Expand single-channel data to rbga\n    var rgbaData = new Uint8Array(data.length * 4);\n    for (var i = 0; i < data.length; i++) {\n      rgbaData[i * 4 + channel] = data[i];\n    }\n    renderImageData(glOrCanvas, rgbaData, x, y, sdfWidth, sdfHeight, 1 << (3 - channel), framebuffer);\n  }\n\n  /**\n   * Find the absolute distance from a point to a line segment at closest approach\n   */\n  function absSquareDistanceToLineSegment (x, y, lineX0, lineY0, lineX1, lineY1) {\n    var ldx = lineX1 - lineX0;\n    var ldy = lineY1 - lineY0;\n    var lengthSq = ldx * ldx + ldy * ldy;\n    var t = lengthSq ? Math.max(0, Math.min(1, ((x - lineX0) * ldx + (y - lineY0) * ldy) / lengthSq)) : 0;\n    var dx = x - (lineX0 + t * ldx);\n    var dy = y - (lineY0 + t * ldy);\n    return dx * dx + dy * dy\n  }\n\n  var javascript = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    generate: generate$2,\n    generateIntoCanvas: generateIntoCanvas$2,\n    generateIntoFramebuffer: generateIntoFramebuffer$1\n  });\n\n  var mainVertex = \"precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}\";\n\n  var mainFragment = \"precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}\";\n\n  var postFragment = \"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}\";\n\n  // Single triangle covering viewport\n  var viewportUVs = new Float32Array([0, 0, 2, 0, 0, 2]);\n\n  var implicitContext = null;\n  var isTestingSupport = false;\n  var NULL_OBJECT = {};\n  var supportByCanvas = new WeakMap(); // canvas -> bool\n\n  function validateSupport (glOrCanvas) {\n    if (!isTestingSupport && !isSupported(glOrCanvas)) {\n      throw new Error('WebGL generation not supported')\n    }\n  }\n\n  function generate$1 (sdfWidth, sdfHeight, path, viewBox, maxDistance, sdfExponent, glOrCanvas) {\n    if ( sdfExponent === void 0 ) sdfExponent = 1;\n    if ( glOrCanvas === void 0 ) glOrCanvas = null;\n\n    if (!glOrCanvas) {\n      glOrCanvas = implicitContext;\n      if (!glOrCanvas) {\n        var canvas = typeof OffscreenCanvas === 'function'\n          ? new OffscreenCanvas(1, 1)\n          : typeof document !== 'undefined'\n            ? document.createElement('canvas')\n            : null;\n        if (!canvas) {\n          throw new Error('OffscreenCanvas or DOM canvas not supported')\n        }\n        glOrCanvas = implicitContext = canvas.getContext('webgl', { depth: false });\n      }\n    }\n\n    validateSupport(glOrCanvas);\n\n    var rgbaData = new Uint8Array(sdfWidth * sdfHeight * 4); //not Uint8ClampedArray, cuz Safari\n\n    // Render into a background texture framebuffer\n    withWebGLContext(glOrCanvas, function (ref) {\n      var gl = ref.gl;\n      var withTexture = ref.withTexture;\n      var withTextureFramebuffer = ref.withTextureFramebuffer;\n\n      withTexture('readable', function (texture, textureUnit) {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, sdfWidth, sdfHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n        withTextureFramebuffer(texture, textureUnit, function (framebuffer) {\n          generateIntoFramebuffer(\n            sdfWidth,\n            sdfHeight,\n            path,\n            viewBox,\n            maxDistance,\n            sdfExponent,\n            gl,\n            framebuffer,\n            0,\n            0,\n            0 // red channel\n          );\n          gl.readPixels(0, 0, sdfWidth, sdfHeight, gl.RGBA, gl.UNSIGNED_BYTE, rgbaData);\n        });\n      });\n    });\n\n    // Throw away all but the red channel\n    var data = new Uint8Array(sdfWidth * sdfHeight);\n    for (var i = 0, j = 0; i < rgbaData.length; i += 4) {\n      data[j++] = rgbaData[i];\n    }\n\n    return data\n  }\n\n  function generateIntoCanvas$1(sdfWidth, sdfHeight, path, viewBox, maxDistance, sdfExponent, canvas, x, y, channel) {\n    if ( sdfExponent === void 0 ) sdfExponent = 1;\n    if ( x === void 0 ) x = 0;\n    if ( y === void 0 ) y = 0;\n    if ( channel === void 0 ) channel = 0;\n\n    generateIntoFramebuffer(sdfWidth, sdfHeight, path, viewBox, maxDistance, sdfExponent, canvas, null, x, y, channel);\n  }\n\n  function generateIntoFramebuffer (sdfWidth, sdfHeight, path, viewBox, maxDistance, sdfExponent, glOrCanvas, framebuffer, x, y, channel) {\n    if ( sdfExponent === void 0 ) sdfExponent = 1;\n    if ( x === void 0 ) x = 0;\n    if ( y === void 0 ) y = 0;\n    if ( channel === void 0 ) channel = 0;\n\n    // Verify support\n    validateSupport(glOrCanvas);\n\n    // Compute path segments\n    var lineSegmentCoords = [];\n    pathToLineSegments(path, function (x1, y1, x2, y2) {\n      lineSegmentCoords.push(x1, y1, x2, y2);\n    });\n    lineSegmentCoords = new Float32Array(lineSegmentCoords);\n\n    withWebGLContext(glOrCanvas, function (ref) {\n      var gl = ref.gl;\n      var isWebGL2 = ref.isWebGL2;\n      var getExtension = ref.getExtension;\n      var withProgram = ref.withProgram;\n      var withTexture = ref.withTexture;\n      var withTextureFramebuffer = ref.withTextureFramebuffer;\n      var handleContextLoss = ref.handleContextLoss;\n\n      withTexture('rawDistances', function (intermediateTexture, intermediateTextureUnit) {\n        if (sdfWidth !== intermediateTexture._lastWidth || sdfHeight !== intermediateTexture._lastHeight) {\n          gl.texImage2D(\n            gl.TEXTURE_2D, 0, gl.RGBA,\n            intermediateTexture._lastWidth = sdfWidth,\n            intermediateTexture._lastHeight = sdfHeight,\n            0, gl.RGBA, gl.UNSIGNED_BYTE, null\n          );\n        }\n\n        // Unsigned distance pass\n        withProgram('main', mainVertex, mainFragment, function (ref) {\n          var setAttribute = ref.setAttribute;\n          var setUniform = ref.setUniform;\n\n          // Init extensions\n          var instancingExtension = !isWebGL2 && getExtension('ANGLE_instanced_arrays');\n          var blendMinMaxExtension = !isWebGL2 && getExtension('EXT_blend_minmax');\n\n          // Init/update attributes\n          setAttribute('aUV', 2, gl.STATIC_DRAW, 0, viewportUVs);\n          setAttribute('aLineSegment', 4, gl.DYNAMIC_DRAW, 1, lineSegmentCoords);\n\n          // Init/update uniforms\n          setUniform.apply(void 0, [ '4f', 'uGlyphBounds' ].concat( viewBox ));\n          setUniform('1f', 'uMaxDistance', maxDistance);\n          setUniform('1f', 'uExponent', sdfExponent);\n\n          // Render initial unsigned distance / winding number info to a texture\n          withTextureFramebuffer(intermediateTexture, intermediateTextureUnit, function (framebuffer) {\n            gl.enable(gl.BLEND);\n            gl.colorMask(true, true, true, true);\n            gl.viewport(0, 0, sdfWidth, sdfHeight);\n            gl.scissor(0, 0, sdfWidth, sdfHeight);\n            gl.blendFunc(gl.ONE, gl.ONE);\n            // Red+Green channels are incremented (FUNC_ADD) for segment-ray crossings to give a \"winding number\".\n            // Alpha holds the closest (MAX) unsigned distance.\n            gl.blendEquationSeparate(gl.FUNC_ADD, isWebGL2 ? gl.MAX : blendMinMaxExtension.MAX_EXT);\n            gl.clear(gl.COLOR_BUFFER_BIT);\n            if (isWebGL2) {\n              gl.drawArraysInstanced(gl.TRIANGLES, 0, 3, lineSegmentCoords.length / 4);\n            } else {\n              instancingExtension.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 3, lineSegmentCoords.length / 4);\n            }\n            // Debug\n            // const debug = new Uint8Array(sdfWidth * sdfHeight * 4)\n            // gl.readPixels(0, 0, sdfWidth, sdfHeight, gl.RGBA, gl.UNSIGNED_BYTE, debug)\n            // console.log('intermediate texture data: ', debug)\n          });\n        });\n\n        // Use the data stored in the texture to apply inside/outside and write to the output framebuffer rect+channel.\n        withProgram('post', viewportQuadVertex, postFragment, function (program) {\n          program.setAttribute('aUV', 2, gl.STATIC_DRAW, 0, viewportUVs);\n          program.setUniform('1i', 'tex', intermediateTextureUnit);\n          gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n          gl.disable(gl.BLEND);\n          gl.colorMask(channel === 0, channel === 1, channel === 2, channel === 3);\n          gl.viewport(x, y, sdfWidth, sdfHeight);\n          gl.scissor(x, y, sdfWidth, sdfHeight);\n          gl.drawArrays(gl.TRIANGLES, 0, 3);\n        });\n      });\n\n      // Handle context loss occurring during any of the above calls\n      if (gl.isContextLost()) {\n        handleContextLoss();\n        throw new Error('webgl context lost')\n      }\n    });\n  }\n\n  function isSupported (glOrCanvas) {\n    var key = (!glOrCanvas || glOrCanvas === implicitContext) ? NULL_OBJECT : (glOrCanvas.canvas || glOrCanvas);\n    var supported = supportByCanvas.get(key);\n    if (supported === undefined) {\n      isTestingSupport = true;\n      var failReason = null;\n      try {\n        // Since we can't detect all failure modes up front, let's just do a trial run of a\n        // simple path and compare what we get back to the correct expected result. This will\n        // also serve to prime the shader compilation.\n        var expectedResult = [\n          97, 106, 97, 61,\n          99, 137, 118, 80,\n          80, 118, 137, 99,\n          61, 97, 106, 97\n        ];\n        var testResult = generate$1(\n          4,\n          4,\n          'M8,8L16,8L24,24L16,24Z',\n          [0, 0, 32, 32],\n          24,\n          1,\n          glOrCanvas\n        );\n        supported = testResult && expectedResult.length === testResult.length &&\n          testResult.every(function (val, i) { return val === expectedResult[i]; });\n        if (!supported) {\n          failReason = 'bad trial run results';\n          console.info(expectedResult, testResult);\n        }\n      } catch (err) {\n        // TODO if it threw due to webgl context loss, should we maybe leave isSupported as null and try again later?\n        supported = false;\n        failReason = err.message;\n      }\n      if (failReason) {\n        console.warn('WebGL SDF generation not supported:', failReason);\n      }\n      isTestingSupport = false;\n      supportByCanvas.set(key, supported);\n    }\n    return supported\n  }\n\n  var webgl = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    generate: generate$1,\n    generateIntoCanvas: generateIntoCanvas$1,\n    generateIntoFramebuffer: generateIntoFramebuffer,\n    isSupported: isSupported\n  });\n\n  /**\n   * Generate an SDF texture image for a 2D path.\n   *\n   * @param {number} sdfWidth - width of the SDF output image in pixels.\n   * @param {number} sdfHeight - height of the SDF output image in pixels.\n   * @param {string} path - an SVG-like path string describing the glyph; should only contain commands: M/L/Q/C/Z.\n   * @param {number[]} viewBox - [minX, minY, maxX, maxY] in font units aligning with the texture's edges.\n   * @param {number} maxDistance - the maximum distance from the glyph path in font units that will be encoded; defaults\n   *        to half the maximum viewBox dimension.\n   * @param {number} [sdfExponent] - specifies an exponent for encoding the SDF's distance values; higher exponents\n   *        will give greater precision nearer the glyph's path.\n   * @return {Uint8Array}\n   */\n  function generate(\n    sdfWidth,\n    sdfHeight,\n    path,\n    viewBox,\n    maxDistance,\n    sdfExponent\n  ) {\n    if ( maxDistance === void 0 ) maxDistance = Math.max(viewBox[2] - viewBox[0], viewBox[3] - viewBox[1]) / 2;\n    if ( sdfExponent === void 0 ) sdfExponent = 1;\n\n    try {\n      return generate$1.apply(webgl, arguments)\n    } catch(e) {\n      console.info('WebGL SDF generation failed, falling back to JS', e);\n      return generate$2.apply(javascript, arguments)\n    }\n  }\n\n  /**\n   * Generate an SDF texture image for a 2D path, inserting the result into a WebGL `canvas` at a given x/y position\n   * and color channel. This is generally much faster than calling `generate` because it does not require reading pixels\n   * back from the GPU->CPU -- the `canvas` can be used directly as a WebGL texture image, so it all stays on the GPU.\n   *\n   * @param {number} sdfWidth - width of the SDF output image in pixels.\n   * @param {number} sdfHeight - height of the SDF output image in pixels.\n   * @param {string} path - an SVG-like path string describing the glyph; should only contain commands: M/L/Q/C/Z.\n   * @param {number[]} viewBox - [minX, minY, maxX, maxY] in font units aligning with the texture's edges.\n   * @param {number} maxDistance - the maximum distance from the glyph path in font units that will be encoded; defaults\n   *        to half the maximum viewBox dimension.\n   * @param {number} [sdfExponent] - specifies an exponent for encoding the SDF's distance values; higher exponents\n   *        will give greater precision nearer the glyph's path.\n   * @param {HTMLCanvasElement|OffscreenCanvas} canvas - a WebGL-enabled canvas into which the SDF will be rendered.\n   *        Only the relevant rect/channel will be modified, the rest will be preserved. To avoid unpredictable results\n   *        due to shared GL context state, this canvas should be dedicated to use by this library alone.\n   * @param {number} x - the x position at which to render the SDF.\n   * @param {number} y - the y position at which to render the SDF.\n   * @param {number} channel - the color channel index (0-4) into which the SDF will be rendered.\n   * @return {Uint8Array}\n   */\n  function generateIntoCanvas(\n    sdfWidth,\n    sdfHeight,\n    path,\n    viewBox,\n    maxDistance,\n    sdfExponent,\n    canvas,\n    x,\n    y,\n    channel\n  ) {\n    if ( maxDistance === void 0 ) maxDistance = Math.max(viewBox[2] - viewBox[0], viewBox[3] - viewBox[1]) / 2;\n    if ( sdfExponent === void 0 ) sdfExponent = 1;\n    if ( x === void 0 ) x = 0;\n    if ( y === void 0 ) y = 0;\n    if ( channel === void 0 ) channel = 0;\n\n    try {\n      return generateIntoCanvas$1.apply(webgl, arguments)\n    } catch(e) {\n      console.info('WebGL SDF generation failed, falling back to JS', e);\n      return generateIntoCanvas$2.apply(javascript, arguments)\n    }\n  }\n\n  exports.forEachPathCommand = forEachPathCommand;\n  exports.generate = generate;\n  exports.generateIntoCanvas = generateIntoCanvas;\n  exports.javascript = javascript;\n  exports.pathToLineSegments = pathToLineSegments;\n  exports.webgl = webgl;\n  exports.webglUtils = webglUtils;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n}({}));\nreturn exports\n}\n\nexport { SDFGenerator as default };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 12744, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12750, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/bidi-js/dist/bidi.mjs"],"sourcesContent":["function bidiFactory() {\nvar bidi = (function (exports) {\n\n  // Bidi character types data, auto generated\n  var DATA = {\n    \"R\": \"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73\",\n    \"EN\": \"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9\",\n    \"ES\": \"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2\",\n    \"ET\": \"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj\",\n    \"AN\": \"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u\",\n    \"CS\": \"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b\",\n    \"B\": \"a,3,f+2,2v,690\",\n    \"S\": \"9,2,k\",\n    \"WS\": \"c,k,4f4,1vk+a,u,1j,335\",\n    \"ON\": \"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i\",\n    \"BN\": \"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1\",\n    \"NSM\": \"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n\",\n    \"AL\": \"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d\",\n    \"LRO\": \"6ct\",\n    \"RLO\": \"6cu\",\n    \"LRE\": \"6cq\",\n    \"RLE\": \"6cr\",\n    \"PDF\": \"6cs\",\n    \"LRI\": \"6ee\",\n    \"RLI\": \"6ef\",\n    \"FSI\": \"6eg\",\n    \"PDI\": \"6eh\"\n  };\n\n  var TYPES = {};\n  var TYPES_TO_NAMES = {};\n  TYPES.L = 1; //L is the default\n  TYPES_TO_NAMES[1] = 'L';\n  Object.keys(DATA).forEach(function (type, i) {\n    TYPES[type] = 1 << (i + 1);\n    TYPES_TO_NAMES[TYPES[type]] = type;\n  });\n  Object.freeze(TYPES);\n\n  var ISOLATE_INIT_TYPES = TYPES.LRI | TYPES.RLI | TYPES.FSI;\n  var STRONG_TYPES = TYPES.L | TYPES.R | TYPES.AL;\n  var NEUTRAL_ISOLATE_TYPES = TYPES.B | TYPES.S | TYPES.WS | TYPES.ON | TYPES.FSI | TYPES.LRI | TYPES.RLI | TYPES.PDI;\n  var BN_LIKE_TYPES = TYPES.BN | TYPES.RLE | TYPES.LRE | TYPES.RLO | TYPES.LRO | TYPES.PDF;\n  var TRAILING_TYPES = TYPES.S | TYPES.WS | TYPES.B | ISOLATE_INIT_TYPES | TYPES.PDI | BN_LIKE_TYPES;\n\n  var map = null;\n\n  function parseData () {\n    if (!map) {\n      //const start = performance.now()\n      map = new Map();\n      var loop = function ( type ) {\n        if (DATA.hasOwnProperty(type)) {\n          var lastCode = 0;\n          DATA[type].split(',').forEach(function (range) {\n            var ref = range.split('+');\n            var skip = ref[0];\n            var step = ref[1];\n            skip = parseInt(skip, 36);\n            step = step ? parseInt(step, 36) : 0;\n            map.set(lastCode += skip, TYPES[type]);\n            for (var i = 0; i < step; i++) {\n              map.set(++lastCode, TYPES[type]);\n            }\n          });\n        }\n      };\n\n      for (var type in DATA) loop( type );\n      //console.log(`char types parsed in ${performance.now() - start}ms`)\n    }\n  }\n\n  /**\n   * @param {string} char\n   * @return {number}\n   */\n  function getBidiCharType (char) {\n    parseData();\n    return map.get(char.codePointAt(0)) || TYPES.L\n  }\n\n  function getBidiCharTypeName(char) {\n    return TYPES_TO_NAMES[getBidiCharType(char)]\n  }\n\n  // Bidi bracket pairs data, auto generated\n  var data$1 = {\n    \"pairs\": \"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1\",\n    \"canonical\": \"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye\"\n  };\n\n  /**\n   * Parses an string that holds encoded codepoint mappings, e.g. for bracket pairs or\n   * mirroring characters, as encoded by scripts/generateBidiData.js. Returns an object\n   * holding the `map`, and optionally a `reverseMap` if `includeReverse:true`.\n   * @param {string} encodedString\n   * @param {boolean} includeReverse - true if you want reverseMap in the output\n   * @return {{map: Map<number, number>, reverseMap?: Map<number, number>}}\n   */\n  function parseCharacterMap (encodedString, includeReverse) {\n    var radix = 36;\n    var lastCode = 0;\n    var map = new Map();\n    var reverseMap = includeReverse && new Map();\n    var prevPair;\n    encodedString.split(',').forEach(function visit(entry) {\n      if (entry.indexOf('+') !== -1) {\n        for (var i = +entry; i--;) {\n          visit(prevPair);\n        }\n      } else {\n        prevPair = entry;\n        var ref = entry.split('>');\n        var a = ref[0];\n        var b = ref[1];\n        a = String.fromCodePoint(lastCode += parseInt(a, radix));\n        b = String.fromCodePoint(lastCode += parseInt(b, radix));\n        map.set(a, b);\n        includeReverse && reverseMap.set(b, a);\n      }\n    });\n    return { map: map, reverseMap: reverseMap }\n  }\n\n  var openToClose, closeToOpen, canonical;\n\n  function parse$1 () {\n    if (!openToClose) {\n      //const start = performance.now()\n      var ref = parseCharacterMap(data$1.pairs, true);\n      var map = ref.map;\n      var reverseMap = ref.reverseMap;\n      openToClose = map;\n      closeToOpen = reverseMap;\n      canonical = parseCharacterMap(data$1.canonical, false).map;\n      //console.log(`brackets parsed in ${performance.now() - start}ms`)\n    }\n  }\n\n  function openingToClosingBracket (char) {\n    parse$1();\n    return openToClose.get(char) || null\n  }\n\n  function closingToOpeningBracket (char) {\n    parse$1();\n    return closeToOpen.get(char) || null\n  }\n\n  function getCanonicalBracket (char) {\n    parse$1();\n    return canonical.get(char) || null\n  }\n\n  // Local type aliases\n  var TYPE_L = TYPES.L;\n  var TYPE_R = TYPES.R;\n  var TYPE_EN = TYPES.EN;\n  var TYPE_ES = TYPES.ES;\n  var TYPE_ET = TYPES.ET;\n  var TYPE_AN = TYPES.AN;\n  var TYPE_CS = TYPES.CS;\n  var TYPE_B = TYPES.B;\n  var TYPE_S = TYPES.S;\n  var TYPE_ON = TYPES.ON;\n  var TYPE_BN = TYPES.BN;\n  var TYPE_NSM = TYPES.NSM;\n  var TYPE_AL = TYPES.AL;\n  var TYPE_LRO = TYPES.LRO;\n  var TYPE_RLO = TYPES.RLO;\n  var TYPE_LRE = TYPES.LRE;\n  var TYPE_RLE = TYPES.RLE;\n  var TYPE_PDF = TYPES.PDF;\n  var TYPE_LRI = TYPES.LRI;\n  var TYPE_RLI = TYPES.RLI;\n  var TYPE_FSI = TYPES.FSI;\n  var TYPE_PDI = TYPES.PDI;\n\n  /**\n   * @typedef {object} GetEmbeddingLevelsResult\n   * @property {{start, end, level}[]} paragraphs\n   * @property {Uint8Array} levels\n   */\n\n  /**\n   * This function applies the Bidirectional Algorithm to a string, returning the resolved embedding levels\n   * in a single Uint8Array plus a list of objects holding each paragraph's start and end indices and resolved\n   * base embedding level.\n   *\n   * @param {string} string - The input string\n   * @param {\"ltr\"|\"rtl\"|\"auto\"} [baseDirection] - Use \"ltr\" or \"rtl\" to force a base paragraph direction,\n   *        otherwise a direction will be chosen automatically from each paragraph's contents.\n   * @return {GetEmbeddingLevelsResult}\n   */\n  function getEmbeddingLevels (string, baseDirection) {\n    var MAX_DEPTH = 125;\n\n    // Start by mapping all characters to their unicode type, as a bitmask integer\n    var charTypes = new Uint32Array(string.length);\n    for (var i = 0; i < string.length; i++) {\n      charTypes[i] = getBidiCharType(string[i]);\n    }\n\n    var charTypeCounts = new Map(); //will be cleared at start of each paragraph\n    function changeCharType(i, type) {\n      var oldType = charTypes[i];\n      charTypes[i] = type;\n      charTypeCounts.set(oldType, charTypeCounts.get(oldType) - 1);\n      if (oldType & NEUTRAL_ISOLATE_TYPES) {\n        charTypeCounts.set(NEUTRAL_ISOLATE_TYPES, charTypeCounts.get(NEUTRAL_ISOLATE_TYPES) - 1);\n      }\n      charTypeCounts.set(type, (charTypeCounts.get(type) || 0) + 1);\n      if (type & NEUTRAL_ISOLATE_TYPES) {\n        charTypeCounts.set(NEUTRAL_ISOLATE_TYPES, (charTypeCounts.get(NEUTRAL_ISOLATE_TYPES) || 0) + 1);\n      }\n    }\n\n    var embedLevels = new Uint8Array(string.length);\n    var isolationPairs = new Map(); //init->pdi and pdi->init\n\n    // === 3.3.1 The Paragraph Level ===\n    // 3.3.1 P1: Split the text into paragraphs\n    var paragraphs = []; // [{start, end, level}, ...]\n    var paragraph = null;\n    for (var i$1 = 0; i$1 < string.length; i$1++) {\n      if (!paragraph) {\n        paragraphs.push(paragraph = {\n          start: i$1,\n          end: string.length - 1,\n          // 3.3.1 P2-P3: Determine the paragraph level\n          level: baseDirection === 'rtl' ? 1 : baseDirection === 'ltr' ? 0 : determineAutoEmbedLevel(i$1, false)\n        });\n      }\n      if (charTypes[i$1] & TYPE_B) {\n        paragraph.end = i$1;\n        paragraph = null;\n      }\n    }\n\n    var FORMATTING_TYPES = TYPE_RLE | TYPE_LRE | TYPE_RLO | TYPE_LRO | ISOLATE_INIT_TYPES | TYPE_PDI | TYPE_PDF | TYPE_B;\n    var nextEven = function (n) { return n + ((n & 1) ? 1 : 2); };\n    var nextOdd = function (n) { return n + ((n & 1) ? 2 : 1); };\n\n    // Everything from here on will operate per paragraph.\n    for (var paraIdx = 0; paraIdx < paragraphs.length; paraIdx++) {\n      paragraph = paragraphs[paraIdx];\n      var statusStack = [{\n        _level: paragraph.level,\n        _override: 0, //0=neutral, 1=L, 2=R\n        _isolate: 0 //bool\n      }];\n      var stackTop = (void 0);\n      var overflowIsolateCount = 0;\n      var overflowEmbeddingCount = 0;\n      var validIsolateCount = 0;\n      charTypeCounts.clear();\n\n      // === 3.3.2 Explicit Levels and Directions ===\n      for (var i$2 = paragraph.start; i$2 <= paragraph.end; i$2++) {\n        var charType = charTypes[i$2];\n        stackTop = statusStack[statusStack.length - 1];\n\n        // Set initial counts\n        charTypeCounts.set(charType, (charTypeCounts.get(charType) || 0) + 1);\n        if (charType & NEUTRAL_ISOLATE_TYPES) {\n          charTypeCounts.set(NEUTRAL_ISOLATE_TYPES, (charTypeCounts.get(NEUTRAL_ISOLATE_TYPES) || 0) + 1);\n        }\n\n        // Explicit Embeddings: 3.3.2 X2 - X3\n        if (charType & FORMATTING_TYPES) { //prefilter all formatters\n          if (charType & (TYPE_RLE | TYPE_LRE)) {\n            embedLevels[i$2] = stackTop._level; // 5.2\n            var level = (charType === TYPE_RLE ? nextOdd : nextEven)(stackTop._level);\n            if (level <= MAX_DEPTH && !overflowIsolateCount && !overflowEmbeddingCount) {\n              statusStack.push({\n                _level: level,\n                _override: 0,\n                _isolate: 0\n              });\n            } else if (!overflowIsolateCount) {\n              overflowEmbeddingCount++;\n            }\n          }\n\n          // Explicit Overrides: 3.3.2 X4 - X5\n          else if (charType & (TYPE_RLO | TYPE_LRO)) {\n            embedLevels[i$2] = stackTop._level; // 5.2\n            var level$1 = (charType === TYPE_RLO ? nextOdd : nextEven)(stackTop._level);\n            if (level$1 <= MAX_DEPTH && !overflowIsolateCount && !overflowEmbeddingCount) {\n              statusStack.push({\n                _level: level$1,\n                _override: (charType & TYPE_RLO) ? TYPE_R : TYPE_L,\n                _isolate: 0\n              });\n            } else if (!overflowIsolateCount) {\n              overflowEmbeddingCount++;\n            }\n          }\n\n          // Isolates: 3.3.2 X5a - X5c\n          else if (charType & ISOLATE_INIT_TYPES) {\n            // X5c - FSI becomes either RLI or LRI\n            if (charType & TYPE_FSI) {\n              charType = determineAutoEmbedLevel(i$2 + 1, true) === 1 ? TYPE_RLI : TYPE_LRI;\n            }\n\n            embedLevels[i$2] = stackTop._level;\n            if (stackTop._override) {\n              changeCharType(i$2, stackTop._override);\n            }\n            var level$2 = (charType === TYPE_RLI ? nextOdd : nextEven)(stackTop._level);\n            if (level$2 <= MAX_DEPTH && overflowIsolateCount === 0 && overflowEmbeddingCount === 0) {\n              validIsolateCount++;\n              statusStack.push({\n                _level: level$2,\n                _override: 0,\n                _isolate: 1,\n                _isolInitIndex: i$2\n              });\n            } else {\n              overflowIsolateCount++;\n            }\n          }\n\n          // Terminating Isolates: 3.3.2 X6a\n          else if (charType & TYPE_PDI) {\n            if (overflowIsolateCount > 0) {\n              overflowIsolateCount--;\n            } else if (validIsolateCount > 0) {\n              overflowEmbeddingCount = 0;\n              while (!statusStack[statusStack.length - 1]._isolate) {\n                statusStack.pop();\n              }\n              // Add to isolation pairs bidirectional mapping:\n              var isolInitIndex = statusStack[statusStack.length - 1]._isolInitIndex;\n              if (isolInitIndex != null) {\n                isolationPairs.set(isolInitIndex, i$2);\n                isolationPairs.set(i$2, isolInitIndex);\n              }\n              statusStack.pop();\n              validIsolateCount--;\n            }\n            stackTop = statusStack[statusStack.length - 1];\n            embedLevels[i$2] = stackTop._level;\n            if (stackTop._override) {\n              changeCharType(i$2, stackTop._override);\n            }\n          }\n\n\n          // Terminating Embeddings and Overrides: 3.3.2 X7\n          else if (charType & TYPE_PDF) {\n            if (overflowIsolateCount === 0) {\n              if (overflowEmbeddingCount > 0) {\n                overflowEmbeddingCount--;\n              } else if (!stackTop._isolate && statusStack.length > 1) {\n                statusStack.pop();\n                stackTop = statusStack[statusStack.length - 1];\n              }\n            }\n            embedLevels[i$2] = stackTop._level; // 5.2\n          }\n\n          // End of Paragraph: 3.3.2 X8\n          else if (charType & TYPE_B) {\n            embedLevels[i$2] = paragraph.level;\n          }\n        }\n\n        // Non-formatting characters: 3.3.2 X6\n        else {\n          embedLevels[i$2] = stackTop._level;\n          // NOTE: This exclusion of BN seems to go against what section 5.2 says, but is required for test passage\n          if (stackTop._override && charType !== TYPE_BN) {\n            changeCharType(i$2, stackTop._override);\n          }\n        }\n      }\n\n      // === 3.3.3 Preparations for Implicit Processing ===\n\n      // Remove all RLE, LRE, RLO, LRO, PDF, and BN characters: 3.3.3 X9\n      // Note: Due to section 5.2, we won't remove them, but we'll use the BN_LIKE_TYPES bitset to\n      // easily ignore them all from here on out.\n\n      // 3.3.3 X10\n      // Compute the set of isolating run sequences as specified by BD13\n      var levelRuns = [];\n      var currentRun = null;\n      for (var i$3 = paragraph.start; i$3 <= paragraph.end; i$3++) {\n        var charType$1 = charTypes[i$3];\n        if (!(charType$1 & BN_LIKE_TYPES)) {\n          var lvl = embedLevels[i$3];\n          var isIsolInit = charType$1 & ISOLATE_INIT_TYPES;\n          var isPDI = charType$1 === TYPE_PDI;\n          if (currentRun && lvl === currentRun._level) {\n            currentRun._end = i$3;\n            currentRun._endsWithIsolInit = isIsolInit;\n          } else {\n            levelRuns.push(currentRun = {\n              _start: i$3,\n              _end: i$3,\n              _level: lvl,\n              _startsWithPDI: isPDI,\n              _endsWithIsolInit: isIsolInit\n            });\n          }\n        }\n      }\n      var isolatingRunSeqs = []; // [{seqIndices: [], sosType: L|R, eosType: L|R}]\n      for (var runIdx = 0; runIdx < levelRuns.length; runIdx++) {\n        var run = levelRuns[runIdx];\n        if (!run._startsWithPDI || (run._startsWithPDI && !isolationPairs.has(run._start))) {\n          var seqRuns = [currentRun = run];\n          for (var pdiIndex = (void 0); currentRun && currentRun._endsWithIsolInit && (pdiIndex = isolationPairs.get(currentRun._end)) != null;) {\n            for (var i$4 = runIdx + 1; i$4 < levelRuns.length; i$4++) {\n              if (levelRuns[i$4]._start === pdiIndex) {\n                seqRuns.push(currentRun = levelRuns[i$4]);\n                break\n              }\n            }\n          }\n          // build flat list of indices across all runs:\n          var seqIndices = [];\n          for (var i$5 = 0; i$5 < seqRuns.length; i$5++) {\n            var run$1 = seqRuns[i$5];\n            for (var j = run$1._start; j <= run$1._end; j++) {\n              seqIndices.push(j);\n            }\n          }\n          // determine the sos/eos types:\n          var firstLevel = embedLevels[seqIndices[0]];\n          var prevLevel = paragraph.level;\n          for (var i$6 = seqIndices[0] - 1; i$6 >= 0; i$6--) {\n            if (!(charTypes[i$6] & BN_LIKE_TYPES)) { //5.2\n              prevLevel = embedLevels[i$6];\n              break\n            }\n          }\n          var lastIndex = seqIndices[seqIndices.length - 1];\n          var lastLevel = embedLevels[lastIndex];\n          var nextLevel = paragraph.level;\n          if (!(charTypes[lastIndex] & ISOLATE_INIT_TYPES)) {\n            for (var i$7 = lastIndex + 1; i$7 <= paragraph.end; i$7++) {\n              if (!(charTypes[i$7] & BN_LIKE_TYPES)) { //5.2\n                nextLevel = embedLevels[i$7];\n                break\n              }\n            }\n          }\n          isolatingRunSeqs.push({\n            _seqIndices: seqIndices,\n            _sosType: Math.max(prevLevel, firstLevel) % 2 ? TYPE_R : TYPE_L,\n            _eosType: Math.max(nextLevel, lastLevel) % 2 ? TYPE_R : TYPE_L\n          });\n        }\n      }\n\n      // The next steps are done per isolating run sequence\n      for (var seqIdx = 0; seqIdx < isolatingRunSeqs.length; seqIdx++) {\n        var ref = isolatingRunSeqs[seqIdx];\n        var seqIndices$1 = ref._seqIndices;\n        var sosType = ref._sosType;\n        var eosType = ref._eosType;\n        /**\n         * All the level runs in an isolating run sequence have the same embedding level.\n         * \n         * DO NOT change any `embedLevels[i]` within the current scope.\n         */\n        var embedDirection = ((embedLevels[seqIndices$1[0]]) & 1) ? TYPE_R : TYPE_L;\n\n        // === 3.3.4 Resolving Weak Types ===\n\n        // W1 + 5.2. Search backward from each NSM to the first character in the isolating run sequence whose\n        // bidirectional type is not BN, and set the NSM to ON if it is an isolate initiator or PDI, and to its\n        // type otherwise. If the NSM is the first non-BN character, change the NSM to the type of sos.\n        if (charTypeCounts.get(TYPE_NSM)) {\n          for (var si = 0; si < seqIndices$1.length; si++) {\n            var i$8 = seqIndices$1[si];\n            if (charTypes[i$8] & TYPE_NSM) {\n              var prevType = sosType;\n              for (var sj = si - 1; sj >= 0; sj--) {\n                if (!(charTypes[seqIndices$1[sj]] & BN_LIKE_TYPES)) { //5.2 scan back to first non-BN\n                  prevType = charTypes[seqIndices$1[sj]];\n                  break\n                }\n              }\n              changeCharType(i$8, (prevType & (ISOLATE_INIT_TYPES | TYPE_PDI)) ? TYPE_ON : prevType);\n            }\n          }\n        }\n\n        // W2. Search backward from each instance of a European number until the first strong type (R, L, AL, or sos)\n        // is found. If an AL is found, change the type of the European number to Arabic number.\n        if (charTypeCounts.get(TYPE_EN)) {\n          for (var si$1 = 0; si$1 < seqIndices$1.length; si$1++) {\n            var i$9 = seqIndices$1[si$1];\n            if (charTypes[i$9] & TYPE_EN) {\n              for (var sj$1 = si$1 - 1; sj$1 >= -1; sj$1--) {\n                var prevCharType = sj$1 === -1 ? sosType : charTypes[seqIndices$1[sj$1]];\n                if (prevCharType & STRONG_TYPES) {\n                  if (prevCharType === TYPE_AL) {\n                    changeCharType(i$9, TYPE_AN);\n                  }\n                  break\n                }\n              }\n            }\n          }\n        }\n\n        // W3. Change all ALs to R\n        if (charTypeCounts.get(TYPE_AL)) {\n          for (var si$2 = 0; si$2 < seqIndices$1.length; si$2++) {\n            var i$10 = seqIndices$1[si$2];\n            if (charTypes[i$10] & TYPE_AL) {\n              changeCharType(i$10, TYPE_R);\n            }\n          }\n        }\n\n        // W4. A single European separator between two European numbers changes to a European number. A single common\n        // separator between two numbers of the same type changes to that type.\n        if (charTypeCounts.get(TYPE_ES) || charTypeCounts.get(TYPE_CS)) {\n          for (var si$3 = 1; si$3 < seqIndices$1.length - 1; si$3++) {\n            var i$11 = seqIndices$1[si$3];\n            if (charTypes[i$11] & (TYPE_ES | TYPE_CS)) {\n              var prevType$1 = 0, nextType = 0;\n              for (var sj$2 = si$3 - 1; sj$2 >= 0; sj$2--) {\n                prevType$1 = charTypes[seqIndices$1[sj$2]];\n                if (!(prevType$1 & BN_LIKE_TYPES)) { //5.2\n                  break\n                }\n              }\n              for (var sj$3 = si$3 + 1; sj$3 < seqIndices$1.length; sj$3++) {\n                nextType = charTypes[seqIndices$1[sj$3]];\n                if (!(nextType & BN_LIKE_TYPES)) { //5.2\n                  break\n                }\n              }\n              if (prevType$1 === nextType && (charTypes[i$11] === TYPE_ES ? prevType$1 === TYPE_EN : (prevType$1 & (TYPE_EN | TYPE_AN)))) {\n                changeCharType(i$11, prevType$1);\n              }\n            }\n          }\n        }\n\n        // W5. A sequence of European terminators adjacent to European numbers changes to all European numbers.\n        if (charTypeCounts.get(TYPE_EN)) {\n          for (var si$4 = 0; si$4 < seqIndices$1.length; si$4++) {\n            var i$12 = seqIndices$1[si$4];\n            if (charTypes[i$12] & TYPE_EN) {\n              for (var sj$4 = si$4 - 1; sj$4 >= 0 && (charTypes[seqIndices$1[sj$4]] & (TYPE_ET | BN_LIKE_TYPES)); sj$4--) {\n                changeCharType(seqIndices$1[sj$4], TYPE_EN);\n              }\n              for (si$4++; si$4 < seqIndices$1.length && (charTypes[seqIndices$1[si$4]] & (TYPE_ET | BN_LIKE_TYPES | TYPE_EN)); si$4++) {\n                if (charTypes[seqIndices$1[si$4]] !== TYPE_EN) {\n                  changeCharType(seqIndices$1[si$4], TYPE_EN);\n                }\n              }\n            }\n          }\n        }\n\n        // W6. Otherwise, separators and terminators change to Other Neutral.\n        if (charTypeCounts.get(TYPE_ET) || charTypeCounts.get(TYPE_ES) || charTypeCounts.get(TYPE_CS)) {\n          for (var si$5 = 0; si$5 < seqIndices$1.length; si$5++) {\n            var i$13 = seqIndices$1[si$5];\n            if (charTypes[i$13] & (TYPE_ET | TYPE_ES | TYPE_CS)) {\n              changeCharType(i$13, TYPE_ON);\n              // 5.2 transform adjacent BNs too:\n              for (var sj$5 = si$5 - 1; sj$5 >= 0 && (charTypes[seqIndices$1[sj$5]] & BN_LIKE_TYPES); sj$5--) {\n                changeCharType(seqIndices$1[sj$5], TYPE_ON);\n              }\n              for (var sj$6 = si$5 + 1; sj$6 < seqIndices$1.length && (charTypes[seqIndices$1[sj$6]] & BN_LIKE_TYPES); sj$6++) {\n                changeCharType(seqIndices$1[sj$6], TYPE_ON);\n              }\n            }\n          }\n        }\n\n        // W7. Search backward from each instance of a European number until the first strong type (R, L, or sos)\n        // is found. If an L is found, then change the type of the European number to L.\n        // NOTE: implemented in single forward pass for efficiency\n        if (charTypeCounts.get(TYPE_EN)) {\n          for (var si$6 = 0, prevStrongType = sosType; si$6 < seqIndices$1.length; si$6++) {\n            var i$14 = seqIndices$1[si$6];\n            var type = charTypes[i$14];\n            if (type & TYPE_EN) {\n              if (prevStrongType === TYPE_L) {\n                changeCharType(i$14, TYPE_L);\n              }\n            } else if (type & STRONG_TYPES) {\n              prevStrongType = type;\n            }\n          }\n        }\n\n        // === 3.3.5 Resolving Neutral and Isolate Formatting Types ===\n\n        if (charTypeCounts.get(NEUTRAL_ISOLATE_TYPES)) {\n          // N0. Process bracket pairs in an isolating run sequence sequentially in the logical order of the text\n          // positions of the opening paired brackets using the logic given below. Within this scope, bidirectional\n          // types EN and AN are treated as R.\n          var R_TYPES_FOR_N_STEPS = (TYPE_R | TYPE_EN | TYPE_AN);\n          var STRONG_TYPES_FOR_N_STEPS = R_TYPES_FOR_N_STEPS | TYPE_L;\n\n          // * Identify the bracket pairs in the current isolating run sequence according to BD16.\n          var bracketPairs = [];\n          {\n            var openerStack = [];\n            for (var si$7 = 0; si$7 < seqIndices$1.length; si$7++) {\n              // NOTE: for any potential bracket character we also test that it still carries a NI\n              // type, as that may have been changed earlier. This doesn't seem to be explicitly\n              // called out in the spec, but is required for passage of certain tests.\n              if (charTypes[seqIndices$1[si$7]] & NEUTRAL_ISOLATE_TYPES) {\n                var char = string[seqIndices$1[si$7]];\n                var oppositeBracket = (void 0);\n                // Opening bracket\n                if (openingToClosingBracket(char) !== null) {\n                  if (openerStack.length < 63) {\n                    openerStack.push({ char: char, seqIndex: si$7 });\n                  } else {\n                    break\n                  }\n                }\n                // Closing bracket\n                else if ((oppositeBracket = closingToOpeningBracket(char)) !== null) {\n                  for (var stackIdx = openerStack.length - 1; stackIdx >= 0; stackIdx--) {\n                    var stackChar = openerStack[stackIdx].char;\n                    if (stackChar === oppositeBracket ||\n                      stackChar === closingToOpeningBracket(getCanonicalBracket(char)) ||\n                      openingToClosingBracket(getCanonicalBracket(stackChar)) === char\n                    ) {\n                      bracketPairs.push([openerStack[stackIdx].seqIndex, si$7]);\n                      openerStack.length = stackIdx; //pop the matching bracket and all following\n                      break\n                    }\n                  }\n                }\n              }\n            }\n            bracketPairs.sort(function (a, b) { return a[0] - b[0]; });\n          }\n          // * For each bracket-pair element in the list of pairs of text positions\n          for (var pairIdx = 0; pairIdx < bracketPairs.length; pairIdx++) {\n            var ref$1 = bracketPairs[pairIdx];\n            var openSeqIdx = ref$1[0];\n            var closeSeqIdx = ref$1[1];\n            // a. Inspect the bidirectional types of the characters enclosed within the bracket pair.\n            // b. If any strong type (either L or R) matching the embedding direction is found, set the type for both\n            // brackets in the pair to match the embedding direction.\n            var foundStrongType = false;\n            var useStrongType = 0;\n            for (var si$8 = openSeqIdx + 1; si$8 < closeSeqIdx; si$8++) {\n              var i$15 = seqIndices$1[si$8];\n              if (charTypes[i$15] & STRONG_TYPES_FOR_N_STEPS) {\n                foundStrongType = true;\n                var lr = (charTypes[i$15] & R_TYPES_FOR_N_STEPS) ? TYPE_R : TYPE_L;\n                if (lr === embedDirection) {\n                  useStrongType = lr;\n                  break\n                }\n              }\n            }\n            // c. Otherwise, if there is a strong type it must be opposite the embedding direction. Therefore, test\n            // for an established context with a preceding strong type by checking backwards before the opening paired\n            // bracket until the first strong type (L, R, or sos) is found.\n            //    1. If the preceding strong type is also opposite the embedding direction, context is established, so\n            //    set the type for both brackets in the pair to that direction.\n            //    2. Otherwise set the type for both brackets in the pair to the embedding direction.\n            if (foundStrongType && !useStrongType) {\n              useStrongType = sosType;\n              for (var si$9 = openSeqIdx - 1; si$9 >= 0; si$9--) {\n                var i$16 = seqIndices$1[si$9];\n                if (charTypes[i$16] & STRONG_TYPES_FOR_N_STEPS) {\n                  var lr$1 = (charTypes[i$16] & R_TYPES_FOR_N_STEPS) ? TYPE_R : TYPE_L;\n                  if (lr$1 !== embedDirection) {\n                    useStrongType = lr$1;\n                  } else {\n                    useStrongType = embedDirection;\n                  }\n                  break\n                }\n              }\n            }\n            if (useStrongType) {\n              charTypes[seqIndices$1[openSeqIdx]] = charTypes[seqIndices$1[closeSeqIdx]] = useStrongType;\n              // * Any number of characters that had original bidirectional character type NSM prior to the application\n              // of W1 that immediately follow a paired bracket which changed to L or R under N0 should change to match\n              // the type of their preceding bracket.\n              if (useStrongType !== embedDirection) {\n                for (var si$10 = openSeqIdx + 1; si$10 < seqIndices$1.length; si$10++) {\n                  if (!(charTypes[seqIndices$1[si$10]] & BN_LIKE_TYPES)) {\n                    if (getBidiCharType(string[seqIndices$1[si$10]]) & TYPE_NSM) {\n                      charTypes[seqIndices$1[si$10]] = useStrongType;\n                    }\n                    break\n                  }\n                }\n              }\n              if (useStrongType !== embedDirection) {\n                for (var si$11 = closeSeqIdx + 1; si$11 < seqIndices$1.length; si$11++) {\n                  if (!(charTypes[seqIndices$1[si$11]] & BN_LIKE_TYPES)) {\n                    if (getBidiCharType(string[seqIndices$1[si$11]]) & TYPE_NSM) {\n                      charTypes[seqIndices$1[si$11]] = useStrongType;\n                    }\n                    break\n                  }\n                }\n              }\n            }\n          }\n\n          // N1. A sequence of NIs takes the direction of the surrounding strong text if the text on both sides has the\n          // same direction.\n          // N2. Any remaining NIs take the embedding direction.\n          for (var si$12 = 0; si$12 < seqIndices$1.length; si$12++) {\n            if (charTypes[seqIndices$1[si$12]] & NEUTRAL_ISOLATE_TYPES) {\n              var niRunStart = si$12, niRunEnd = si$12;\n              var prevType$2 = sosType; //si === 0 ? sosType : (charTypes[seqIndices[si - 1]] & R_TYPES_FOR_N_STEPS) ? TYPE_R : TYPE_L\n              for (var si2 = si$12 - 1; si2 >= 0; si2--) {\n                if (charTypes[seqIndices$1[si2]] & BN_LIKE_TYPES) {\n                  niRunStart = si2; //5.2 treat BNs adjacent to NIs as NIs\n                } else {\n                  prevType$2 = (charTypes[seqIndices$1[si2]] & R_TYPES_FOR_N_STEPS) ? TYPE_R : TYPE_L;\n                  break\n                }\n              }\n              var nextType$1 = eosType;\n              for (var si2$1 = si$12 + 1; si2$1 < seqIndices$1.length; si2$1++) {\n                if (charTypes[seqIndices$1[si2$1]] & (NEUTRAL_ISOLATE_TYPES | BN_LIKE_TYPES)) {\n                  niRunEnd = si2$1;\n                } else {\n                  nextType$1 = (charTypes[seqIndices$1[si2$1]] & R_TYPES_FOR_N_STEPS) ? TYPE_R : TYPE_L;\n                  break\n                }\n              }\n              for (var sj$7 = niRunStart; sj$7 <= niRunEnd; sj$7++) {\n                charTypes[seqIndices$1[sj$7]] = prevType$2 === nextType$1 ? prevType$2 : embedDirection;\n              }\n              si$12 = niRunEnd;\n            }\n          }\n        }\n      }\n\n      // === 3.3.6 Resolving Implicit Levels ===\n\n      for (var i$17 = paragraph.start; i$17 <= paragraph.end; i$17++) {\n        var level$3 = embedLevels[i$17];\n        var type$1 = charTypes[i$17];\n        // I2. For all characters with an odd (right-to-left) embedding level, those of type L, EN or AN go up one level.\n        if (level$3 & 1) {\n          if (type$1 & (TYPE_L | TYPE_EN | TYPE_AN)) {\n            embedLevels[i$17]++;\n          }\n        }\n          // I1. For all characters with an even (left-to-right) embedding level, those of type R go up one level\n        // and those of type AN or EN go up two levels.\n        else {\n          if (type$1 & TYPE_R) {\n            embedLevels[i$17]++;\n          } else if (type$1 & (TYPE_AN | TYPE_EN)) {\n            embedLevels[i$17] += 2;\n          }\n        }\n\n        // 5.2: Resolve any LRE, RLE, LRO, RLO, PDF, or BN to the level of the preceding character if there is one,\n        // and otherwise to the base level.\n        if (type$1 & BN_LIKE_TYPES) {\n          embedLevels[i$17] = i$17 === 0 ? paragraph.level : embedLevels[i$17 - 1];\n        }\n\n        // 3.4 L1.1-4: Reset the embedding level of segment/paragraph separators, and any sequence of whitespace or\n        // isolate formatting characters preceding them or the end of the paragraph, to the paragraph level.\n        // NOTE: this will also need to be applied to each individual line ending after line wrapping occurs.\n        if (i$17 === paragraph.end || getBidiCharType(string[i$17]) & (TYPE_S | TYPE_B)) {\n          for (var j$1 = i$17; j$1 >= 0 && (getBidiCharType(string[j$1]) & TRAILING_TYPES); j$1--) {\n            embedLevels[j$1] = paragraph.level;\n          }\n        }\n      }\n    }\n\n    // DONE! The resolved levels can then be used, after line wrapping, to flip runs of characters\n    // according to section 3.4 Reordering Resolved Levels\n    return {\n      levels: embedLevels,\n      paragraphs: paragraphs\n    }\n\n    function determineAutoEmbedLevel (start, isFSI) {\n      // 3.3.1 P2 - P3\n      for (var i = start; i < string.length; i++) {\n        var charType = charTypes[i];\n        if (charType & (TYPE_R | TYPE_AL)) {\n          return 1\n        }\n        if ((charType & (TYPE_B | TYPE_L)) || (isFSI && charType === TYPE_PDI)) {\n          return 0\n        }\n        if (charType & ISOLATE_INIT_TYPES) {\n          var pdi = indexOfMatchingPDI(i);\n          i = pdi === -1 ? string.length : pdi;\n        }\n      }\n      return 0\n    }\n\n    function indexOfMatchingPDI (isolateStart) {\n      // 3.1.2 BD9\n      var isolationLevel = 1;\n      for (var i = isolateStart + 1; i < string.length; i++) {\n        var charType = charTypes[i];\n        if (charType & TYPE_B) {\n          break\n        }\n        if (charType & TYPE_PDI) {\n          if (--isolationLevel === 0) {\n            return i\n          }\n        } else if (charType & ISOLATE_INIT_TYPES) {\n          isolationLevel++;\n        }\n      }\n      return -1\n    }\n  }\n\n  // Bidi mirrored chars data, auto generated\n  var data = \"14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1\";\n\n  var mirrorMap;\n\n  function parse () {\n    if (!mirrorMap) {\n      //const start = performance.now()\n      var ref = parseCharacterMap(data, true);\n      var map = ref.map;\n      var reverseMap = ref.reverseMap;\n      // Combine both maps into one\n      reverseMap.forEach(function (value, key) {\n        map.set(key, value);\n      });\n      mirrorMap = map;\n      //console.log(`mirrored chars parsed in ${performance.now() - start}ms`)\n    }\n  }\n\n  function getMirroredCharacter (char) {\n    parse();\n    return mirrorMap.get(char) || null\n  }\n\n  /**\n   * Given a string and its resolved embedding levels, build a map of indices to replacement chars\n   * for any characters in right-to-left segments that have defined mirrored characters.\n   * @param string\n   * @param embeddingLevels\n   * @param [start]\n   * @param [end]\n   * @return {Map<number, string>}\n   */\n  function getMirroredCharactersMap(string, embeddingLevels, start, end) {\n    var strLen = string.length;\n    start = Math.max(0, start == null ? 0 : +start);\n    end = Math.min(strLen - 1, end == null ? strLen - 1 : +end);\n\n    var map = new Map();\n    for (var i = start; i <= end; i++) {\n      if (embeddingLevels[i] & 1) { //only odd (rtl) levels\n        var mirror = getMirroredCharacter(string[i]);\n        if (mirror !== null) {\n          map.set(i, mirror);\n        }\n      }\n    }\n    return map\n  }\n\n  /**\n   * Given a start and end denoting a single line within a string, and a set of precalculated\n   * bidi embedding levels, produce a list of segments whose ordering should be flipped, in sequence.\n   * @param {string} string - the full input string\n   * @param {GetEmbeddingLevelsResult} embeddingLevelsResult - the result object from getEmbeddingLevels\n   * @param {number} [start] - first character in a subset of the full string\n   * @param {number} [end] - last character in a subset of the full string\n   * @return {number[][]} - the list of start/end segments that should be flipped, in order.\n   */\n  function getReorderSegments(string, embeddingLevelsResult, start, end) {\n    var strLen = string.length;\n    start = Math.max(0, start == null ? 0 : +start);\n    end = Math.min(strLen - 1, end == null ? strLen - 1 : +end);\n\n    var segments = [];\n    embeddingLevelsResult.paragraphs.forEach(function (paragraph) {\n      var lineStart = Math.max(start, paragraph.start);\n      var lineEnd = Math.min(end, paragraph.end);\n      if (lineStart < lineEnd) {\n        // Local slice for mutation\n        var lineLevels = embeddingLevelsResult.levels.slice(lineStart, lineEnd + 1);\n\n        // 3.4 L1.4: Reset any sequence of whitespace characters and/or isolate formatting characters at the\n        // end of the line to the paragraph level.\n        for (var i = lineEnd; i >= lineStart && (getBidiCharType(string[i]) & TRAILING_TYPES); i--) {\n          lineLevels[i] = paragraph.level;\n        }\n\n        // L2. From the highest level found in the text to the lowest odd level on each line, including intermediate levels\n        // not actually present in the text, reverse any contiguous sequence of characters that are at that level or higher.\n        var maxLevel = paragraph.level;\n        var minOddLevel = Infinity;\n        for (var i$1 = 0; i$1 < lineLevels.length; i$1++) {\n          var level = lineLevels[i$1];\n          if (level > maxLevel) { maxLevel = level; }\n          if (level < minOddLevel) { minOddLevel = level | 1; }\n        }\n        for (var lvl = maxLevel; lvl >= minOddLevel; lvl--) {\n          for (var i$2 = 0; i$2 < lineLevels.length; i$2++) {\n            if (lineLevels[i$2] >= lvl) {\n              var segStart = i$2;\n              while (i$2 + 1 < lineLevels.length && lineLevels[i$2 + 1] >= lvl) {\n                i$2++;\n              }\n              if (i$2 > segStart) {\n                segments.push([segStart + lineStart, i$2 + lineStart]);\n              }\n            }\n          }\n        }\n      }\n    });\n    return segments\n  }\n\n  /**\n   * @param {string} string\n   * @param {GetEmbeddingLevelsResult} embedLevelsResult\n   * @param {number} [start]\n   * @param {number} [end]\n   * @return {string} the new string with bidi segments reordered\n   */\n  function getReorderedString(string, embedLevelsResult, start, end) {\n    var indices = getReorderedIndices(string, embedLevelsResult, start, end);\n    var chars = [].concat( string );\n    indices.forEach(function (charIndex, i) {\n      chars[i] = (\n        (embedLevelsResult.levels[charIndex] & 1) ? getMirroredCharacter(string[charIndex]) : null\n      ) || string[charIndex];\n    });\n    return chars.join('')\n  }\n\n  /**\n   * @param {string} string\n   * @param {GetEmbeddingLevelsResult} embedLevelsResult\n   * @param {number} [start]\n   * @param {number} [end]\n   * @return {number[]} an array with character indices in their new bidi order\n   */\n  function getReorderedIndices(string, embedLevelsResult, start, end) {\n    var segments = getReorderSegments(string, embedLevelsResult, start, end);\n    // Fill an array with indices\n    var indices = [];\n    for (var i = 0; i < string.length; i++) {\n      indices[i] = i;\n    }\n    // Reverse each segment in order\n    segments.forEach(function (ref) {\n      var start = ref[0];\n      var end = ref[1];\n\n      var slice = indices.slice(start, end + 1);\n      for (var i = slice.length; i--;) {\n        indices[end - i] = slice[i];\n      }\n    });\n    return indices\n  }\n\n  exports.closingToOpeningBracket = closingToOpeningBracket;\n  exports.getBidiCharType = getBidiCharType;\n  exports.getBidiCharTypeName = getBidiCharTypeName;\n  exports.getCanonicalBracket = getCanonicalBracket;\n  exports.getEmbeddingLevels = getEmbeddingLevels;\n  exports.getMirroredCharacter = getMirroredCharacter;\n  exports.getMirroredCharactersMap = getMirroredCharactersMap;\n  exports.getReorderSegments = getReorderSegments;\n  exports.getReorderedIndices = getReorderedIndices;\n  exports.getReorderedString = getReorderedString;\n  exports.openingToClosingBracket = openingToClosingBracket;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n}({}));\nreturn bidi}\n\nexport default bidiFactory;\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 13678, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 13684, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/troika-worker-utils/dist/troika-worker-utils.esm.js"],"sourcesContent":["/**\n * Main content for the worker that handles the loading and execution of\n * modules within it.\n */\nfunction workerBootstrap() {\n  var modules = Object.create(null);\n\n  // Handle messages for registering a module\n  function registerModule(ref, callback) {\n    var id = ref.id;\n    var name = ref.name;\n    var dependencies = ref.dependencies; if ( dependencies === void 0 ) dependencies = [];\n    var init = ref.init; if ( init === void 0 ) init = function(){};\n    var getTransferables = ref.getTransferables; if ( getTransferables === void 0 ) getTransferables = null;\n\n    // Only register once\n    if (modules[id]) { return }\n\n    try {\n      // If any dependencies are modules, ensure they're registered and grab their value\n      dependencies = dependencies.map(function (dep) {\n        if (dep && dep.isWorkerModule) {\n          registerModule(dep, function (depResult) {\n            if (depResult instanceof Error) { throw depResult }\n          });\n          dep = modules[dep.id].value;\n        }\n        return dep\n      });\n\n      // Rehydrate functions\n      init = rehydrate((\"<\" + name + \">.init\"), init);\n      if (getTransferables) {\n        getTransferables = rehydrate((\"<\" + name + \">.getTransferables\"), getTransferables);\n      }\n\n      // Initialize the module and store its value\n      var value = null;\n      if (typeof init === 'function') {\n        value = init.apply(void 0, dependencies);\n      } else {\n        console.error('worker module init function failed to rehydrate');\n      }\n      modules[id] = {\n        id: id,\n        value: value,\n        getTransferables: getTransferables\n      };\n      callback(value);\n    } catch(err) {\n      if (!(err && err.noLog)) {\n        console.error(err);\n      }\n      callback(err);\n    }\n  }\n\n  // Handle messages for calling a registered module's result function\n  function callModule(ref, callback) {\n    var ref$1;\n\n    var id = ref.id;\n    var args = ref.args;\n    if (!modules[id] || typeof modules[id].value !== 'function') {\n      callback(new Error((\"Worker module \" + id + \": not found or its 'init' did not return a function\")));\n    }\n    try {\n      var result = (ref$1 = modules[id]).value.apply(ref$1, args);\n      if (result && typeof result.then === 'function') {\n        result.then(handleResult, function (rej) { return callback(rej instanceof Error ? rej : new Error('' + rej)); });\n      } else {\n        handleResult(result);\n      }\n    } catch(err) {\n      callback(err);\n    }\n    function handleResult(result) {\n      try {\n        var tx = modules[id].getTransferables && modules[id].getTransferables(result);\n        if (!tx || !Array.isArray(tx) || !tx.length) {\n          tx = undefined; //postMessage is very picky about not passing null or empty transferables\n        }\n        callback(result, tx);\n      } catch(err) {\n        console.error(err);\n        callback(err);\n      }\n    }\n  }\n\n  function rehydrate(name, str) {\n    var result = void 0;\n    self.troikaDefine = function (r) { return result = r; };\n    var url = URL.createObjectURL(\n      new Blob(\n        [(\"/** \" + (name.replace(/\\*/g, '')) + \" **/\\n\\ntroikaDefine(\\n\" + str + \"\\n)\")],\n        {type: 'application/javascript'}\n      )\n    );\n    try {\n      importScripts(url);\n    } catch(err) {\n      console.error(err);\n    }\n    URL.revokeObjectURL(url);\n    delete self.troikaDefine;\n    return result\n  }\n\n  // Handler for all messages within the worker\n  self.addEventListener('message', function (e) {\n    var ref = e.data;\n    var messageId = ref.messageId;\n    var action = ref.action;\n    var data = ref.data;\n    try {\n      // Module registration\n      if (action === 'registerModule') {\n        registerModule(data, function (result) {\n          if (result instanceof Error) {\n            postMessage({\n              messageId: messageId,\n              success: false,\n              error: result.message\n            });\n          } else {\n            postMessage({\n              messageId: messageId,\n              success: true,\n              result: {isCallable: typeof result === 'function'}\n            });\n          }\n        });\n      }\n      // Invocation\n      if (action === 'callModule') {\n        callModule(data, function (result, transferables) {\n          if (result instanceof Error) {\n            postMessage({\n              messageId: messageId,\n              success: false,\n              error: result.message\n            });\n          } else {\n            postMessage({\n              messageId: messageId,\n              success: true,\n              result: result\n            }, transferables || undefined);\n          }\n        });\n      }\n    } catch(err) {\n      postMessage({\n        messageId: messageId,\n        success: false,\n        error: err.stack\n      });\n    }\n  });\n}\n\n/**\n * Fallback for `defineWorkerModule` that behaves identically but runs in the main\n * thread, for when the execution environment doesn't support web workers or they\n * are disallowed due to e.g. CSP security restrictions.\n */\nfunction defineMainThreadModule(options) {\n  var moduleFunc = function() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    return moduleFunc._getInitResult().then(function (initResult) {\n      if (typeof initResult === 'function') {\n        return initResult.apply(void 0, args)\n      } else {\n        throw new Error('Worker module function was called but `init` did not return a callable function')\n      }\n    })\n  };\n  moduleFunc._getInitResult = function() {\n    // We can ignore getTransferables in main thread. TODO workerId?\n    var dependencies = options.dependencies;\n    var init = options.init;\n\n    // Resolve dependencies\n    dependencies = Array.isArray(dependencies) ? dependencies.map(function (dep) {\n      if (dep) {\n        // If it's a worker module, use its main thread impl\n        dep = dep.onMainThread || dep;\n        // If it's a main thread worker module, use its init return value\n        if (dep._getInitResult) {\n          dep = dep._getInitResult();\n        }\n      }\n      return dep\n    }) : [];\n\n    // Invoke init with the resolved dependencies\n    var initPromise = Promise.all(dependencies).then(function (deps) {\n      return init.apply(null, deps)\n    });\n\n    // Cache the resolved promise for subsequent calls\n    moduleFunc._getInitResult = function () { return initPromise; };\n\n    return initPromise\n  };\n  return moduleFunc\n}\n\nvar supportsWorkers = function () {\n  var supported = false;\n\n  // Only attempt worker initialization in browsers; elsewhere it would just be\n  // noise e.g. loading into a Node environment for SSR.\n  if (typeof window !== 'undefined' && typeof window.document !== 'undefined') {\n    try {\n      // TODO additional checks for things like importScripts within the worker?\n      //  Would need to be an async check.\n      var worker = new Worker(\n        URL.createObjectURL(new Blob([''], { type: 'application/javascript' }))\n      );\n      worker.terminate();\n      supported = true;\n    } catch (err) {\n      if (typeof process !== 'undefined' && process.env.NODE_ENV === 'test') ; else {\n        console.log(\n          (\"Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: [\" + (err.message) + \"]\")\n        );\n      }\n    }\n  }\n\n  // Cached result\n  supportsWorkers = function () { return supported; };\n  return supported\n};\n\nvar _workerModuleId = 0;\nvar _messageId = 0;\nvar _allowInitAsString = false;\nvar workers = Object.create(null);\nvar registeredModules = Object.create(null); //workerId -> Set<unregisterFn>\nvar openRequests = Object.create(null);\n\n\n/**\n * Define a module of code that will be executed with a web worker. This provides a simple\n * interface for moving chunks of logic off the main thread, and managing their dependencies\n * among one another.\n *\n * @param {object} options\n * @param {function} options.init\n * @param {array} [options.dependencies]\n * @param {function} [options.getTransferables]\n * @param {string} [options.name]\n * @param {string} [options.workerId]\n * @return {function(...[*]): {then}}\n */\nfunction defineWorkerModule(options) {\n  if ((!options || typeof options.init !== 'function') && !_allowInitAsString) {\n    throw new Error('requires `options.init` function')\n  }\n  var dependencies = options.dependencies;\n  var init = options.init;\n  var getTransferables = options.getTransferables;\n  var workerId = options.workerId;\n\n  var onMainThread = defineMainThreadModule(options);\n\n  if (workerId == null) {\n    workerId = '#default';\n  }\n  var id = \"workerModule\" + (++_workerModuleId);\n  var name = options.name || id;\n  var registrationPromise = null;\n\n  dependencies = dependencies && dependencies.map(function (dep) {\n    // Wrap raw functions as worker modules with no dependencies\n    if (typeof dep === 'function' && !dep.workerModuleData) {\n      _allowInitAsString = true;\n      dep = defineWorkerModule({\n        workerId: workerId,\n        name: (\"<\" + name + \"> function dependency: \" + (dep.name)),\n        init: (\"function(){return (\\n\" + (stringifyFunction(dep)) + \"\\n)}\")\n      });\n      _allowInitAsString = false;\n    }\n    // Grab postable data for worker modules\n    if (dep && dep.workerModuleData) {\n      dep = dep.workerModuleData;\n    }\n    return dep\n  });\n\n  function moduleFunc() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    if (!supportsWorkers()) {\n      return onMainThread.apply(void 0, args)\n    }\n\n    // Register this module if needed\n    if (!registrationPromise) {\n      registrationPromise = callWorker(workerId,'registerModule', moduleFunc.workerModuleData);\n      var unregister = function () {\n        registrationPromise = null;\n        registeredModules[workerId].delete(unregister);\n      }\n      ;(registeredModules[workerId] || (registeredModules[workerId] = new Set())).add(unregister);\n    }\n\n    // Invoke the module, returning a promise\n    return registrationPromise.then(function (ref) {\n      var isCallable = ref.isCallable;\n\n      if (isCallable) {\n        return callWorker(workerId,'callModule', {id: id, args: args})\n      } else {\n        throw new Error('Worker module function was called but `init` did not return a callable function')\n      }\n    })\n  }\n  moduleFunc.workerModuleData = {\n    isWorkerModule: true,\n    id: id,\n    name: name,\n    dependencies: dependencies,\n    init: stringifyFunction(init),\n    getTransferables: getTransferables && stringifyFunction(getTransferables)\n  };\n\n  moduleFunc.onMainThread = onMainThread;\n\n  return moduleFunc\n}\n\n/**\n * Terminate an active Worker by a workerId that was passed to defineWorkerModule.\n * This only terminates the Worker itself; the worker module will remain available\n * and if you call it again its Worker will be respawned.\n * @param {string} workerId\n */\nfunction terminateWorker(workerId) {\n  // Unregister all modules that were registered in that worker\n  if (registeredModules[workerId]) {\n    registeredModules[workerId].forEach(function (unregister) {\n      unregister();\n    });\n  }\n  // Terminate the Worker object\n  if (workers[workerId]) {\n    workers[workerId].terminate();\n    delete workers[workerId];\n  }\n}\n\n/**\n * Stringifies a function into a form that can be deserialized in the worker\n * @param fn\n */\nfunction stringifyFunction(fn) {\n  var str = fn.toString();\n  // If it was defined in object method/property format, it needs to be modified\n  if (!/^function/.test(str) && /^\\w+\\s*\\(/.test(str)) {\n    str = 'function ' + str;\n  }\n  return str\n}\n\n\nfunction getWorker(workerId) {\n  var worker = workers[workerId];\n  if (!worker) {\n    // Bootstrap the worker's content\n    var bootstrap = stringifyFunction(workerBootstrap);\n\n    // Create the worker from the bootstrap function content\n    worker = workers[workerId] = new Worker(\n      URL.createObjectURL(\n        new Blob(\n          [(\"/** Worker Module Bootstrap: \" + (workerId.replace(/\\*/g, '')) + \" **/\\n\\n;(\" + bootstrap + \")()\")],\n          {type: 'application/javascript'}\n        )\n      )\n    );\n\n    // Single handler for response messages from the worker\n    worker.onmessage = function (e) {\n      var response = e.data;\n      var msgId = response.messageId;\n      var callback = openRequests[msgId];\n      if (!callback) {\n        throw new Error('WorkerModule response with empty or unknown messageId')\n      }\n      delete openRequests[msgId];\n      callback(response);\n    };\n  }\n  return worker\n}\n\n// Issue a call to the worker with a callback to handle the response\nfunction callWorker(workerId, action, data) {\n  return new Promise(function (resolve, reject) {\n    var messageId = ++_messageId;\n    openRequests[messageId] = function (response) {\n      if (response.success) {\n        resolve(response.result);\n      } else {\n        reject(new Error((\"Error in worker \" + action + \" call: \" + (response.error))));\n      }\n    };\n    getWorker(workerId).postMessage({\n      messageId: messageId,\n      action: action,\n      data: data\n    });\n  })\n}\n\nexport { defineWorkerModule, stringifyFunction, terminateWorker };\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;AA+NgB;AA9NjB,SAAS;IACP,IAAI,UAAU,OAAO,MAAM,CAAC;IAE5B,2CAA2C;IAC3C,SAAS,eAAe,GAAG,EAAE,QAAQ;QACnC,IAAI,KAAK,IAAI,EAAE;QACf,IAAI,OAAO,IAAI,IAAI;QACnB,IAAI,eAAe,IAAI,YAAY;QAAE,IAAK,iBAAiB,KAAK,GAAI,eAAe,EAAE;QACrF,IAAI,OAAO,IAAI,IAAI;QAAE,IAAK,SAAS,KAAK,GAAI,OAAO,YAAW;QAC9D,IAAI,mBAAmB,IAAI,gBAAgB;QAAE,IAAK,qBAAqB,KAAK,GAAI,mBAAmB;QAEnG,qBAAqB;QACrB,IAAI,OAAO,CAAC,GAAG,EAAE;YAAE;QAAO;QAE1B,IAAI;YACF,kFAAkF;YAClF,eAAe,aAAa,GAAG,CAAC,SAAU,GAAG;gBAC3C,IAAI,OAAO,IAAI,cAAc,EAAE;oBAC7B,eAAe,KAAK,SAAU,SAAS;wBACrC,IAAI,qBAAqB,OAAO;4BAAE,MAAM;wBAAU;oBACpD;oBACA,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK;gBAC7B;gBACA,OAAO;YACT;YAEA,sBAAsB;YACtB,OAAO,UAAW,MAAM,OAAO,UAAW;YAC1C,IAAI,kBAAkB;gBACpB,mBAAmB,UAAW,MAAM,OAAO,sBAAuB;YACpE;YAEA,4CAA4C;YAC5C,IAAI,QAAQ;YACZ,IAAI,OAAO,SAAS,YAAY;gBAC9B,QAAQ,KAAK,KAAK,CAAC,KAAK,GAAG;YAC7B,OAAO;gBACL,QAAQ,KAAK,CAAC;YAChB;YACA,OAAO,CAAC,GAAG,GAAG;gBACZ,IAAI;gBACJ,OAAO;gBACP,kBAAkB;YACpB;YACA,SAAS;QACX,EAAE,OAAM,KAAK;YACX,IAAI,CAAC,CAAC,OAAO,IAAI,KAAK,GAAG;gBACvB,QAAQ,KAAK,CAAC;YAChB;YACA,SAAS;QACX;IACF;IAEA,oEAAoE;IACpE,SAAS,WAAW,GAAG,EAAE,QAAQ;QAC/B,IAAI;QAEJ,IAAI,KAAK,IAAI,EAAE;QACf,IAAI,OAAO,IAAI,IAAI;QACnB,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,KAAK,YAAY;YAC3D,SAAS,IAAI,MAAO,mBAAmB,KAAK;QAC9C;QACA,IAAI;YACF,IAAI,SAAS,CAAC,QAAQ,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO;YACtD,IAAI,UAAU,OAAO,OAAO,IAAI,KAAK,YAAY;gBAC/C,OAAO,IAAI,CAAC,cAAc,SAAU,GAAG;oBAAI,OAAO,SAAS,eAAe,QAAQ,MAAM,IAAI,MAAM,KAAK;gBAAO;YAChH,OAAO;gBACL,aAAa;YACf;QACF,EAAE,OAAM,KAAK;YACX,SAAS;QACX;QACA,SAAS,aAAa,MAAM;YAC1B,IAAI;gBACF,IAAI,KAAK,OAAO,CAAC,GAAG,CAAC,gBAAgB,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC;gBACtE,IAAI,CAAC,MAAM,CAAC,MAAM,OAAO,CAAC,OAAO,CAAC,GAAG,MAAM,EAAE;oBAC3C,KAAK,WAAW,yEAAyE;gBAC3F;gBACA,SAAS,QAAQ;YACnB,EAAE,OAAM,KAAK;gBACX,QAAQ,KAAK,CAAC;gBACd,SAAS;YACX;QACF;IACF;IAEA,SAAS,UAAU,IAAI,EAAE,GAAG;QAC1B,IAAI,SAAS,KAAK;QAClB,KAAK,YAAY,GAAG,SAAU,CAAC;YAAI,OAAO,SAAS;QAAG;QACtD,IAAI,MAAM,IAAI,eAAe,CAC3B,IAAI,KACF;YAAE,SAAU,KAAK,OAAO,CAAC,OAAO,MAAO,4BAA4B,MAAM;SAAO,EAChF;YAAC,MAAM;QAAwB;QAGnC,IAAI;YACF,cAAc;QAChB,EAAE,OAAM,KAAK;YACX,QAAQ,KAAK,CAAC;QAChB;QACA,IAAI,eAAe,CAAC;QACpB,OAAO,KAAK,YAAY;QACxB,OAAO;IACT;IAEA,6CAA6C;IAC7C,KAAK,gBAAgB,CAAC,WAAW,SAAU,CAAC;QAC1C,IAAI,MAAM,EAAE,IAAI;QAChB,IAAI,YAAY,IAAI,SAAS;QAC7B,IAAI,SAAS,IAAI,MAAM;QACvB,IAAI,OAAO,IAAI,IAAI;QACnB,IAAI;YACF,sBAAsB;YACtB,IAAI,WAAW,kBAAkB;gBAC/B,eAAe,MAAM,SAAU,MAAM;oBACnC,IAAI,kBAAkB,OAAO;wBAC3B,YAAY;4BACV,WAAW;4BACX,SAAS;4BACT,OAAO,OAAO,OAAO;wBACvB;oBACF,OAAO;wBACL,YAAY;4BACV,WAAW;4BACX,SAAS;4BACT,QAAQ;gCAAC,YAAY,OAAO,WAAW;4BAAU;wBACnD;oBACF;gBACF;YACF;YACA,aAAa;YACb,IAAI,WAAW,cAAc;gBAC3B,WAAW,MAAM,SAAU,MAAM,EAAE,aAAa;oBAC9C,IAAI,kBAAkB,OAAO;wBAC3B,YAAY;4BACV,WAAW;4BACX,SAAS;4BACT,OAAO,OAAO,OAAO;wBACvB;oBACF,OAAO;wBACL,YAAY;4BACV,WAAW;4BACX,SAAS;4BACT,QAAQ;wBACV,GAAG,iBAAiB;oBACtB;gBACF;YACF;QACF,EAAE,OAAM,KAAK;YACX,YAAY;gBACV,WAAW;gBACX,SAAS;gBACT,OAAO,IAAI,KAAK;YAClB;QACF;IACF;AACF;AAEA;;;;CAIC,GACD,SAAS,uBAAuB,OAAO;IACrC,IAAI,aAAa;QACf,IAAI,OAAO,EAAE,EAAE,MAAM,UAAU,MAAM;QACrC,MAAQ,MAAQ,IAAI,CAAE,IAAK,GAAG,SAAS,CAAE,IAAK;QAE9C,OAAO,WAAW,cAAc,GAAG,IAAI,CAAC,SAAU,UAAU;YAC1D,IAAI,OAAO,eAAe,YAAY;gBACpC,OAAO,WAAW,KAAK,CAAC,KAAK,GAAG;YAClC,OAAO;gBACL,MAAM,IAAI,MAAM;YAClB;QACF;IACF;IACA,WAAW,cAAc,GAAG;QAC1B,gEAAgE;QAChE,IAAI,eAAe,QAAQ,YAAY;QACvC,IAAI,OAAO,QAAQ,IAAI;QAEvB,uBAAuB;QACvB,eAAe,MAAM,OAAO,CAAC,gBAAgB,aAAa,GAAG,CAAC,SAAU,GAAG;YACzE,IAAI,KAAK;gBACP,oDAAoD;gBACpD,MAAM,IAAI,YAAY,IAAI;gBAC1B,iEAAiE;gBACjE,IAAI,IAAI,cAAc,EAAE;oBACtB,MAAM,IAAI,cAAc;gBAC1B;YACF;YACA,OAAO;QACT,KAAK,EAAE;QAEP,6CAA6C;QAC7C,IAAI,cAAc,QAAQ,GAAG,CAAC,cAAc,IAAI,CAAC,SAAU,IAAI;YAC7D,OAAO,KAAK,KAAK,CAAC,MAAM;QAC1B;QAEA,kDAAkD;QAClD,WAAW,cAAc,GAAG;YAAc,OAAO;QAAa;QAE9D,OAAO;IACT;IACA,OAAO;AACT;AAEA,IAAI,kBAAkB;IACpB,IAAI,YAAY;IAEhB,6EAA6E;IAC7E,sDAAsD;IACtD,IAAI,OAAO,WAAW,eAAe,OAAO,OAAO,QAAQ,KAAK,aAAa;QAC3E,IAAI;YACF,0EAA0E;YAC1E,oCAAoC;YACpC,IAAI,SAAS,IAAI,OACf,IAAI,eAAe,CAAC,IAAI,KAAK;gBAAC;aAAG,EAAE;gBAAE,MAAM;YAAyB;YAEtE,OAAO,SAAS;YAChB,YAAY;QACd,EAAE,OAAO,KAAK;YACZ;iBAA8E;gBAC5E,QAAQ,GAAG,CACR,wGAAyG,IAAI,OAAO,GAAI;YAE7H;QACF;IACF;IAEA,gBAAgB;IAChB,kBAAkB;QAAc,OAAO;IAAW;IAClD,OAAO;AACT;AAEA,IAAI,kBAAkB;AACtB,IAAI,aAAa;AACjB,IAAI,qBAAqB;AACzB,IAAI,UAAU,OAAO,MAAM,CAAC;AAC5B,IAAI,oBAAoB,OAAO,MAAM,CAAC,OAAO,+BAA+B;AAC5E,IAAI,eAAe,OAAO,MAAM,CAAC;AAGjC;;;;;;;;;;;;CAYC,GACD,SAAS,mBAAmB,OAAO;IACjC,IAAI,CAAC,CAAC,WAAW,OAAO,QAAQ,IAAI,KAAK,UAAU,KAAK,CAAC,oBAAoB;QAC3E,MAAM,IAAI,MAAM;IAClB;IACA,IAAI,eAAe,QAAQ,YAAY;IACvC,IAAI,OAAO,QAAQ,IAAI;IACvB,IAAI,mBAAmB,QAAQ,gBAAgB;IAC/C,IAAI,WAAW,QAAQ,QAAQ;IAE/B,IAAI,eAAe,uBAAuB;IAE1C,IAAI,YAAY,MAAM;QACpB,WAAW;IACb;IACA,IAAI,KAAK,iBAAkB,EAAE;IAC7B,IAAI,OAAO,QAAQ,IAAI,IAAI;IAC3B,IAAI,sBAAsB;IAE1B,eAAe,gBAAgB,aAAa,GAAG,CAAC,SAAU,GAAG;QAC3D,4DAA4D;QAC5D,IAAI,OAAO,QAAQ,cAAc,CAAC,IAAI,gBAAgB,EAAE;YACtD,qBAAqB;YACrB,MAAM,mBAAmB;gBACvB,UAAU;gBACV,MAAO,MAAM,OAAO,4BAA6B,IAAI,IAAI;gBACzD,MAAO,0BAA2B,kBAAkB,OAAQ;YAC9D;YACA,qBAAqB;QACvB;QACA,wCAAwC;QACxC,IAAI,OAAO,IAAI,gBAAgB,EAAE;YAC/B,MAAM,IAAI,gBAAgB;QAC5B;QACA,OAAO;IACT;IAEA,SAAS;QACP,IAAI,OAAO,EAAE,EAAE,MAAM,UAAU,MAAM;QACrC,MAAQ,MAAQ,IAAI,CAAE,IAAK,GAAG,SAAS,CAAE,IAAK;QAE9C,IAAI,CAAC,mBAAmB;YACtB,OAAO,aAAa,KAAK,CAAC,KAAK,GAAG;QACpC;QAEA,iCAAiC;QACjC,IAAI,CAAC,qBAAqB;YACxB,sBAAsB,WAAW,UAAS,kBAAkB,WAAW,gBAAgB;YACvF,IAAI,aAAa;gBACf,sBAAsB;gBACtB,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;YACrC;YACC,CAAC,iBAAiB,CAAC,SAAS,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,CAAC;QAClF;QAEA,yCAAyC;QACzC,OAAO,oBAAoB,IAAI,CAAC,SAAU,GAAG;YAC3C,IAAI,aAAa,IAAI,UAAU;YAE/B,IAAI,YAAY;gBACd,OAAO,WAAW,UAAS,cAAc;oBAAC,IAAI;oBAAI,MAAM;gBAAI;YAC9D,OAAO;gBACL,MAAM,IAAI,MAAM;YAClB;QACF;IACF;IACA,WAAW,gBAAgB,GAAG;QAC5B,gBAAgB;QAChB,IAAI;QACJ,MAAM;QACN,cAAc;QACd,MAAM,kBAAkB;QACxB,kBAAkB,oBAAoB,kBAAkB;IAC1D;IAEA,WAAW,YAAY,GAAG;IAE1B,OAAO;AACT;AAEA;;;;;CAKC,GACD,SAAS,gBAAgB,QAAQ;IAC/B,6DAA6D;IAC7D,IAAI,iBAAiB,CAAC,SAAS,EAAE;QAC/B,iBAAiB,CAAC,SAAS,CAAC,OAAO,CAAC,SAAU,UAAU;YACtD;QACF;IACF;IACA,8BAA8B;IAC9B,IAAI,OAAO,CAAC,SAAS,EAAE;QACrB,OAAO,CAAC,SAAS,CAAC,SAAS;QAC3B,OAAO,OAAO,CAAC,SAAS;IAC1B;AACF;AAEA;;;CAGC,GACD,SAAS,kBAAkB,EAAE;IAC3B,IAAI,MAAM,GAAG,QAAQ;IACrB,8EAA8E;IAC9E,IAAI,CAAC,YAAY,IAAI,CAAC,QAAQ,YAAY,IAAI,CAAC,MAAM;QACnD,MAAM,cAAc;IACtB;IACA,OAAO;AACT;AAGA,SAAS,UAAU,QAAQ;IACzB,IAAI,SAAS,OAAO,CAAC,SAAS;IAC9B,IAAI,CAAC,QAAQ;QACX,iCAAiC;QACjC,IAAI,YAAY,kBAAkB;QAElC,wDAAwD;QACxD,SAAS,OAAO,CAAC,SAAS,GAAG,IAAI,OAC/B,IAAI,eAAe,CACjB,IAAI,KACF;YAAE,kCAAmC,SAAS,OAAO,CAAC,OAAO,MAAO,eAAe,YAAY;SAAO,EACtG;YAAC,MAAM;QAAwB;QAKrC,uDAAuD;QACvD,OAAO,SAAS,GAAG,SAAU,CAAC;YAC5B,IAAI,WAAW,EAAE,IAAI;YACrB,IAAI,QAAQ,SAAS,SAAS;YAC9B,IAAI,WAAW,YAAY,CAAC,MAAM;YAClC,IAAI,CAAC,UAAU;gBACb,MAAM,IAAI,MAAM;YAClB;YACA,OAAO,YAAY,CAAC,MAAM;YAC1B,SAAS;QACX;IACF;IACA,OAAO;AACT;AAEA,oEAAoE;AACpE,SAAS,WAAW,QAAQ,EAAE,MAAM,EAAE,IAAI;IACxC,OAAO,IAAI,QAAQ,SAAU,OAAO,EAAE,MAAM;QAC1C,IAAI,YAAY,EAAE;QAClB,YAAY,CAAC,UAAU,GAAG,SAAU,QAAQ;YAC1C,IAAI,SAAS,OAAO,EAAE;gBACpB,QAAQ,SAAS,MAAM;YACzB,OAAO;gBACL,OAAO,IAAI,MAAO,qBAAqB,SAAS,YAAa,SAAS,KAAK;YAC7E;QACF;QACA,UAAU,UAAU,WAAW,CAAC;YAC9B,WAAW;YACX,QAAQ;YACR,MAAM;QACR;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 14087, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14093, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/troika-three-utils/dist/troika-three-utils.esm.js"],"sourcesContent":["import { ShaderChunk, UniformsUtils, MeshDepthMaterial, RGBADepthPacking, MeshDistanceMaterial, ShaderLib, Matrix4, Vector3, Mesh, CylinderGeometry, Vector2, MeshStandardMaterial, DoubleSide } from 'three';\n\n/**\n * Regular expression for matching the `void main() {` opener line in GLSL.\n * @type {RegExp}\n */\nconst voidMainRegExp = /\\bvoid\\s+main\\s*\\(\\s*\\)\\s*{/g;\n\n/**\n * Recursively expands all `#include <xyz>` statements within string of shader code.\n * Copied from three's WebGLProgram#parseIncludes for external use.\n *\n * @param {string} source - The GLSL source code to evaluate\n * @return {string} The GLSL code with all includes expanded\n */\nfunction expandShaderIncludes( source ) {\n  const pattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n  function replace(match, include) {\n    let chunk = ShaderChunk[include];\n    return chunk ? expandShaderIncludes(chunk) : match\n  }\n  return source.replace( pattern, replace )\n}\n\n/*\n * This is a direct copy of MathUtils.generateUUID from Three.js, to preserve compatibility with three\n * versions before 0.113.0 as it was changed from Math to MathUtils in that version.\n * https://github.com/mrdoob/three.js/blob/dd8b5aa3b270c17096b90945cd2d6d1b13aaec53/src/math/MathUtils.js#L16\n */\n\nconst _lut = [];\n\nfor (let i = 0; i < 256; i++) {\n  _lut[i] = (i < 16 ? '0' : '') + (i).toString(16);\n}\n\nfunction generateUUID() {\n\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n  const d0 = Math.random() * 0xffffffff | 0;\n  const d1 = Math.random() * 0xffffffff | 0;\n  const d2 = Math.random() * 0xffffffff | 0;\n  const d3 = Math.random() * 0xffffffff | 0;\n  const uuid = _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' +\n    _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' +\n    _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] +\n    _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff];\n\n  // .toUpperCase() here flattens concatenated strings to save heap memory space.\n  return uuid.toUpperCase()\n\n}\n\n// Local assign polyfill to avoid importing troika-core\nconst assign = Object.assign || function(/*target, ...sources*/) {\n  let target = arguments[0];\n  for (let i = 1, len = arguments.length; i < len; i++) {\n    let source = arguments[i];\n    if (source) {\n      for (let prop in source) {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\n          target[prop] = source[prop];\n        }\n      }\n    }\n  }\n  return target\n};\n\n\nconst epoch = Date.now();\nconst CONSTRUCTOR_CACHE = new WeakMap();\nconst SHADER_UPGRADE_CACHE = new Map();\n\n// Material ids must be integers, but we can't access the increment from Three's `Material` module,\n// so let's choose a sufficiently large starting value that should theoretically never collide.\nlet materialInstanceId = 1e10;\n\n/**\n * A utility for creating a custom shader material derived from another material's\n * shaders. This allows you to inject custom shader logic and transforms into the\n * builtin ThreeJS materials without having to recreate them from scratch.\n *\n * @param {THREE.Material} baseMaterial - the original material to derive from\n *\n * @param {Object} options - How the base material should be modified.\n * @param {Object=} options.defines - Custom `defines` for the material\n * @param {Object=} options.extensions - Custom `extensions` for the material, e.g. `{derivatives: true}`\n * @param {Object=} options.uniforms - Custom `uniforms` for use in the modified shader. These can\n *        be accessed and manipulated via the resulting material's `uniforms` property, just like\n *        in a ShaderMaterial. You do not need to repeat the base material's own uniforms here.\n * @param {String=} options.timeUniform - If specified, a uniform of this name will be injected into\n *        both shaders, and it will automatically be updated on each render frame with a number of\n *        elapsed milliseconds. The \"zero\" epoch time is not significant so don't rely on this as a\n *        true calendar time.\n * @param {String=} options.vertexDefs - Custom GLSL code to inject into the vertex shader's top-level\n *        definitions, above the `void main()` function.\n * @param {String=} options.vertexMainIntro - Custom GLSL code to inject at the top of the vertex\n *        shader's `void main` function.\n * @param {String=} options.vertexMainOutro - Custom GLSL code to inject at the end of the vertex\n *        shader's `void main` function.\n * @param {String=} options.vertexTransform - Custom GLSL code to manipulate the `position`, `normal`,\n *        and/or `uv` vertex attributes. This code will be wrapped within a standalone function with\n *        those attributes exposed by their normal names as read/write values.\n * @param {String=} options.fragmentDefs - Custom GLSL code to inject into the fragment shader's top-level\n *        definitions, above the `void main()` function.\n * @param {String=} options.fragmentMainIntro - Custom GLSL code to inject at the top of the fragment\n *        shader's `void main` function.\n * @param {String=} options.fragmentMainOutro - Custom GLSL code to inject at the end of the fragment\n *        shader's `void main` function. You can manipulate `gl_FragColor` here but keep in mind it goes\n *        after any of ThreeJS's color postprocessing shader chunks (tonemapping, fog, etc.), so if you\n *        want those to apply to your changes use `fragmentColorTransform` instead.\n * @param {String=} options.fragmentColorTransform - Custom GLSL code to manipulate the `gl_FragColor`\n *        output value. Will be injected near the end of the `void main` function, but before any\n *        of ThreeJS's color postprocessing shader chunks (tonemapping, fog, etc.), and before the\n *        `fragmentMainOutro`.\n * @param {function({fragmentShader: string, vertexShader:string}):\n *        {fragmentShader: string, vertexShader:string}} options.customRewriter - A function\n *        for performing custom rewrites of the full shader code. Useful if you need to do something\n *        special that's not covered by the other builtin options. This function will be executed before\n *        any other transforms are applied.\n * @param {boolean=} options.chained - Set to `true` to prototype-chain the derived material to the base\n *        material, rather than the default behavior of copying it. This allows the derived material to\n *        automatically pick up changes made to the base material and its properties. This can be useful\n *        where the derived material is hidden from the user as an implementation detail, allowing them\n *        to work with the original material like normal. But it can result in unexpected behavior if not\n *        handled carefully.\n *\n * @return {THREE.Material}\n *\n * The returned material will also have two new methods, `getDepthMaterial()` and `getDistanceMaterial()`,\n * which can be called to get a variant of the derived material for use in shadow casting. If the\n * target mesh is expected to cast shadows, then you can assign these to the mesh's `customDepthMaterial`\n * (for directional and spot lights) and/or `customDistanceMaterial` (for point lights) properties to\n * allow the cast shadow to honor your derived shader's vertex transforms and discarded fragments. These\n * will also set a custom `#define IS_DEPTH_MATERIAL` or `#define IS_DISTANCE_MATERIAL` that you can look\n * for in your derived shaders with `#ifdef` to customize their behavior for the depth or distance\n * scenarios, e.g. skipping antialiasing or expensive shader logic.\n */\nfunction createDerivedMaterial(baseMaterial, options) {\n  // Generate a key that is unique to the content of these `options`. We'll use this\n  // throughout for caching and for generating the upgraded shader code. This increases\n  // the likelihood that the resulting shaders will line up across multiple calls so\n  // their GL programs can be shared and cached.\n  const optionsKey = getKeyForOptions(options);\n\n  // First check to see if we've already derived from this baseMaterial using this\n  // unique set of options, and if so reuse the constructor to avoid some allocations.\n  let ctorsByDerivation = CONSTRUCTOR_CACHE.get(baseMaterial);\n  if (!ctorsByDerivation) {\n    CONSTRUCTOR_CACHE.set(baseMaterial, (ctorsByDerivation = Object.create(null)));\n  }\n  if (ctorsByDerivation[optionsKey]) {\n    return new ctorsByDerivation[optionsKey]()\n  }\n\n  const privateBeforeCompileProp = `_onBeforeCompile${optionsKey}`;\n\n  // Private onBeforeCompile handler that injects the modified shaders and uniforms when\n  // the renderer switches to this material's program\n  const onBeforeCompile = function (shaderInfo, renderer) {\n    baseMaterial.onBeforeCompile.call(this, shaderInfo, renderer);\n\n    // Upgrade the shaders, caching the result by incoming source code\n    const cacheKey = this.customProgramCacheKey() + '|' + shaderInfo.vertexShader + '|' + shaderInfo.fragmentShader;\n    let upgradedShaders = SHADER_UPGRADE_CACHE[cacheKey];\n    if (!upgradedShaders) {\n      const upgraded = upgradeShaders(this, shaderInfo, options, optionsKey);\n      upgradedShaders = SHADER_UPGRADE_CACHE[cacheKey] = upgraded;\n    }\n\n    // Inject upgraded shaders and uniforms into the program\n    shaderInfo.vertexShader = upgradedShaders.vertexShader;\n    shaderInfo.fragmentShader = upgradedShaders.fragmentShader;\n    assign(shaderInfo.uniforms, this.uniforms);\n\n    // Inject auto-updating time uniform if requested\n    if (options.timeUniform) {\n      shaderInfo.uniforms[options.timeUniform] = {\n        get value() {return Date.now() - epoch}\n      };\n    }\n\n    // Users can still add their own handlers on top of ours\n    if (this[privateBeforeCompileProp]) {\n      this[privateBeforeCompileProp](shaderInfo);\n    }\n  };\n\n  const DerivedMaterial = function DerivedMaterial() {\n    return derive(options.chained ? baseMaterial : baseMaterial.clone())\n  };\n\n  const derive = function(base) {\n    // Prototype chain to the base material\n    const derived = Object.create(base, descriptor);\n\n    // Store the baseMaterial for reference; this is always the original even when cloning\n    Object.defineProperty(derived, 'baseMaterial', { value: baseMaterial });\n\n    // Needs its own ids\n    Object.defineProperty(derived, 'id', { value: materialInstanceId++ });\n    derived.uuid = generateUUID();\n\n    // Merge uniforms, defines, and extensions\n    derived.uniforms = assign({}, base.uniforms, options.uniforms);\n    derived.defines = assign({}, base.defines, options.defines);\n    derived.defines[`TROIKA_DERIVED_MATERIAL_${optionsKey}`] = ''; //force a program change from the base material\n    derived.extensions = assign({}, base.extensions, options.extensions);\n\n    // Don't inherit EventDispatcher listeners\n    derived._listeners = undefined;\n\n    return derived\n  };\n\n  const descriptor = {\n    constructor: {value: DerivedMaterial},\n    isDerivedMaterial: {value: true},\n\n    type: {\n      get: () => baseMaterial.type,\n      set: (value) => {baseMaterial.type = value;}\n    },\n\n    isDerivedFrom: {\n      writable: true,\n      configurable: true,\n      value: function (testMaterial) {\n        const base = this.baseMaterial;\n        return testMaterial === base || (base.isDerivedMaterial && base.isDerivedFrom(testMaterial)) || false\n      }\n    },\n\n    customProgramCacheKey: {\n      writable: true,\n      configurable: true,\n      value: function () {\n        return baseMaterial.customProgramCacheKey() + '|' + optionsKey\n      }\n    },\n\n    onBeforeCompile: {\n      get() {\n        return onBeforeCompile\n      },\n      set(fn) {\n        this[privateBeforeCompileProp] = fn;\n      }\n    },\n\n    copy: {\n      writable: true,\n      configurable: true,\n      value: function (source) {\n        baseMaterial.copy.call(this, source);\n        if (!baseMaterial.isShaderMaterial && !baseMaterial.isDerivedMaterial) {\n          assign(this.extensions, source.extensions);\n          assign(this.defines, source.defines);\n          assign(this.uniforms, UniformsUtils.clone(source.uniforms));\n        }\n        return this\n      }\n    },\n\n    clone: {\n      writable: true,\n      configurable: true,\n      value: function () {\n        const newBase = new baseMaterial.constructor();\n        return derive(newBase).copy(this)\n      }\n    },\n\n    /**\n     * Utility to get a MeshDepthMaterial that will honor this derived material's vertex\n     * transformations and discarded fragments.\n     */\n    getDepthMaterial: {\n      writable: true,\n      configurable: true,\n      value: function() {\n        let depthMaterial = this._depthMaterial;\n        if (!depthMaterial) {\n          depthMaterial = this._depthMaterial = createDerivedMaterial(\n            baseMaterial.isDerivedMaterial\n              ? baseMaterial.getDepthMaterial()\n              : new MeshDepthMaterial({ depthPacking: RGBADepthPacking }),\n            options\n          );\n          depthMaterial.defines.IS_DEPTH_MATERIAL = '';\n          depthMaterial.uniforms = this.uniforms; //automatically recieve same uniform values\n        }\n        return depthMaterial\n      }\n    },\n\n    /**\n     * Utility to get a MeshDistanceMaterial that will honor this derived material's vertex\n     * transformations and discarded fragments.\n     */\n    getDistanceMaterial: {\n      writable: true,\n      configurable: true,\n      value: function() {\n        let distanceMaterial = this._distanceMaterial;\n        if (!distanceMaterial) {\n          distanceMaterial = this._distanceMaterial = createDerivedMaterial(\n            baseMaterial.isDerivedMaterial\n              ? baseMaterial.getDistanceMaterial()\n              : new MeshDistanceMaterial(),\n            options\n          );\n          distanceMaterial.defines.IS_DISTANCE_MATERIAL = '';\n          distanceMaterial.uniforms = this.uniforms; //automatically recieve same uniform values\n        }\n        return distanceMaterial\n      }\n    },\n\n    dispose: {\n      writable: true,\n      configurable: true,\n      value() {\n        const {_depthMaterial, _distanceMaterial} = this;\n        if (_depthMaterial) _depthMaterial.dispose();\n        if (_distanceMaterial) _distanceMaterial.dispose();\n        baseMaterial.dispose.call(this);\n      }\n    }\n  };\n\n  ctorsByDerivation[optionsKey] = DerivedMaterial;\n  return new DerivedMaterial()\n}\n\n\nfunction upgradeShaders(material, {vertexShader, fragmentShader}, options, key) {\n  let {\n    vertexDefs,\n    vertexMainIntro,\n    vertexMainOutro,\n    vertexTransform,\n    fragmentDefs,\n    fragmentMainIntro,\n    fragmentMainOutro,\n    fragmentColorTransform,\n    customRewriter,\n    timeUniform\n  } = options;\n\n  vertexDefs = vertexDefs || '';\n  vertexMainIntro = vertexMainIntro || '';\n  vertexMainOutro = vertexMainOutro || '';\n  fragmentDefs = fragmentDefs || '';\n  fragmentMainIntro = fragmentMainIntro || '';\n  fragmentMainOutro = fragmentMainOutro || '';\n\n  // Expand includes if needed\n  if (vertexTransform || customRewriter) {\n    vertexShader = expandShaderIncludes(vertexShader);\n  }\n  if (fragmentColorTransform || customRewriter) {\n    // We need to be able to find postprocessing chunks after include expansion in order to\n    // put them after the fragmentColorTransform, so mark them with comments first. Even if\n    // this particular derivation doesn't have a fragmentColorTransform, other derivations may,\n    // so we still mark them.\n    fragmentShader = fragmentShader.replace(\n      /^[ \\t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,\n      '\\n//!BEGIN_POST_CHUNK $1\\n$&\\n//!END_POST_CHUNK\\n'\n    );\n    fragmentShader = expandShaderIncludes(fragmentShader);\n  }\n\n  // Apply custom rewriter function\n  if (customRewriter) {\n    let res = customRewriter({vertexShader, fragmentShader});\n    vertexShader = res.vertexShader;\n    fragmentShader = res.fragmentShader;\n  }\n\n  // The fragmentColorTransform needs to go before any postprocessing chunks, so extract\n  // those and re-insert them into the outro in the correct place:\n  if (fragmentColorTransform) {\n    let postChunks = [];\n    fragmentShader = fragmentShader.replace(\n      /^\\/\\/!BEGIN_POST_CHUNK[^]+?^\\/\\/!END_POST_CHUNK/gm, // [^]+? = non-greedy match of any chars including newlines\n      match => {\n        postChunks.push(match);\n        return ''\n      }\n    );\n    fragmentMainOutro = `${fragmentColorTransform}\\n${postChunks.join('\\n')}\\n${fragmentMainOutro}`;\n  }\n\n  // Inject auto-updating time uniform if requested\n  if (timeUniform) {\n    const code = `\\nuniform float ${timeUniform};\\n`;\n    vertexDefs = code + vertexDefs;\n    fragmentDefs = code + fragmentDefs;\n  }\n\n  // Inject a function for the vertexTransform and rename all usages of position/normal/uv\n  if (vertexTransform) {\n    // Hoist these defs to the very top so they work in other function defs\n    vertexShader = `vec3 troika_position_${key};\nvec3 troika_normal_${key};\nvec2 troika_uv_${key};\n${vertexShader}\n`;\n    vertexDefs = `${vertexDefs}\nvoid troikaVertexTransform${key}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${vertexTransform}\n}\n`;\n    vertexMainIntro = `\ntroika_position_${key} = vec3(position);\ntroika_normal_${key} = vec3(normal);\ntroika_uv_${key} = vec2(uv);\ntroikaVertexTransform${key}(troika_position_${key}, troika_normal_${key}, troika_uv_${key});\n${vertexMainIntro}\n`;\n    vertexShader = vertexShader.replace(/\\b(position|normal|uv)\\b/g, (match, match1, index, fullStr) => {\n      return /\\battribute\\s+vec[23]\\s+$/.test(fullStr.substr(0, index)) ? match1 : `troika_${match1}_${key}`\n    });\n\n    // Three r152 introduced the MAP_UV token, replace it too if it's pointing to the main 'uv'\n    // Perhaps the other textures too going forward?\n    if (!(material.map && material.map.channel > 0)) {\n      vertexShader = vertexShader.replace(/\\bMAP_UV\\b/g, `troika_uv_${key}`);\n    }\n  }\n\n  // Inject defs and intro/outro snippets\n  vertexShader = injectIntoShaderCode(vertexShader, key, vertexDefs, vertexMainIntro, vertexMainOutro);\n  fragmentShader = injectIntoShaderCode(fragmentShader, key, fragmentDefs, fragmentMainIntro, fragmentMainOutro);\n\n  return {\n    vertexShader,\n    fragmentShader\n  }\n}\n\nfunction injectIntoShaderCode(shaderCode, id, defs, intro, outro) {\n  if (intro || outro || defs) {\n    shaderCode = shaderCode.replace(voidMainRegExp, `\n${defs}\nvoid troikaOrigMain${id}() {`\n    );\n    shaderCode += `\nvoid main() {\n  ${intro}\n  troikaOrigMain${id}();\n  ${outro}\n}`;\n  }\n  return shaderCode\n}\n\n\nfunction optionsJsonReplacer(key, value) {\n  return key === 'uniforms' ? undefined : typeof value === 'function' ? value.toString() : value\n}\n\nlet _idCtr = 0;\nconst optionsHashesToIds = new Map();\nfunction getKeyForOptions(options) {\n  const optionsHash = JSON.stringify(options, optionsJsonReplacer);\n  let id = optionsHashesToIds.get(optionsHash);\n  if (id == null) {\n    optionsHashesToIds.set(optionsHash, (id = ++_idCtr));\n  }\n  return id\n}\n\n// Copied from threejs WebGLPrograms.js so we can resolve builtin materials to their shaders\n// TODO how can we keep this from getting stale?\nconst MATERIAL_TYPES_TO_SHADERS = {\n  MeshDepthMaterial: 'depth',\n  MeshDistanceMaterial: 'distanceRGBA',\n  MeshNormalMaterial: 'normal',\n  MeshBasicMaterial: 'basic',\n  MeshLambertMaterial: 'lambert',\n  MeshPhongMaterial: 'phong',\n  MeshToonMaterial: 'toon',\n  MeshStandardMaterial: 'physical',\n  MeshPhysicalMaterial: 'physical',\n  MeshMatcapMaterial: 'matcap',\n  LineBasicMaterial: 'basic',\n  LineDashedMaterial: 'dashed',\n  PointsMaterial: 'points',\n  ShadowMaterial: 'shadow',\n  SpriteMaterial: 'sprite'\n};\n\n/**\n * Given a Three.js `Material` instance, find the shaders/uniforms that will be\n * used to render that material.\n *\n * @param material - the Material instance\n * @return {object} - the material's shader info: `{uniforms:{}, fragmentShader:'', vertexShader:''}`\n */\nfunction getShadersForMaterial(material) {\n  let builtinType = MATERIAL_TYPES_TO_SHADERS[material.type];\n  return builtinType ? ShaderLib[builtinType] : material //TODO fallback for unknown type?\n}\n\n/**\n * Find all uniforms and their types within a shader code string.\n *\n * @param {string} shader - The shader code to parse\n * @return {object} mapping of uniform names to their glsl type\n */\nfunction getShaderUniformTypes(shader) {\n  let uniformRE = /\\buniform\\s+(int|float|vec[234]|mat[34])\\s+([A-Za-z_][\\w]*)/g;\n  let uniforms = Object.create(null);\n  let match;\n  while ((match = uniformRE.exec(shader)) !== null) {\n    uniforms[match[2]] = match[1];\n  }\n  return uniforms\n}\n\n/**\n * Helper for smoothing out the `m.getInverse(x)` --> `m.copy(x).invert()` conversion\n * that happened in ThreeJS r123.\n * @param {Matrix4} srcMatrix\n * @param {Matrix4} [tgtMatrix]\n */\nfunction invertMatrix4(srcMatrix, tgtMatrix = new Matrix4()) {\n  if (typeof tgtMatrix.invert === 'function') {\n    tgtMatrix.copy(srcMatrix).invert();\n  } else {\n    tgtMatrix.getInverse(srcMatrix);\n  }\n  return tgtMatrix\n}\n\n/*\nInput geometry is a cylinder with r=1, height in y dimension from 0 to 1,\ndivided into a reasonable number of height segments.\n*/\n\nconst vertexDefs = `\nuniform vec3 pointA;\nuniform vec3 controlA;\nuniform vec3 controlB;\nuniform vec3 pointB;\nuniform float radius;\nvarying float bezierT;\n\nvec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  float b0 = t2 * t2 * t2;\n  float b1 = 3.0 * t * t2 * t2;\n  float b2 = 3.0 * t * t * t2;\n  float b3 = t * t * t;\n  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;\n}\n\nvec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  return -3.0 * p1 * t2 * t2 +\n    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +\n    c2 * (6.0 * t2 * t - 3.0 * t * t) +\n    3.0 * p2 * t * t;\n}\n`;\n\nconst vertexTransform = `\nfloat t = position.y;\nbezierT = t;\nvec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);\nvec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));\n\n// Make \"sideways\" always perpendicular to the camera ray; this ensures that any twists\n// in the cylinder occur where you won't see them: \nvec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);\nif (bezierDir == viewDirection) {\n  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));\n}\nvec3 sideways = normalize(cross(bezierDir, viewDirection));\nvec3 upish = normalize(cross(sideways, bezierDir));\n\n// Build a matrix for transforming this disc in the cylinder:\nmat4 discTx;\ndiscTx[0].xyz = sideways * radius;\ndiscTx[1].xyz = bezierDir * radius;\ndiscTx[2].xyz = upish * radius;\ndiscTx[3].xyz = bezierCenterPos;\ndiscTx[3][3] = 1.0;\n\n// Apply transform, ignoring original y\nposition = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;\nnormal = normalize(mat3(discTx) * normal);\n`;\n\nconst fragmentDefs = `\nuniform vec3 dashing;\nvarying float bezierT;\n`;\n\nconst fragmentMainIntro = `\nif (dashing.x + dashing.y > 0.0) {\n  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);\n  if (dashFrac > dashing.x) {\n    discard;\n  }\n}\n`;\n\n// Debugging: separate color for each of the 6 sides:\n// const fragmentColorTransform = `\n// float sideNum = floor(vUV.x * 6.0);\n// vec3 mixColor = sideNum < 1.0 ? vec3(1.0, 0.0, 0.0) :\n//   sideNum < 2.0 ? vec3(0.0, 1.0, 1.0) :\n//   sideNum < 3.0 ? vec3(1.0, 1.0, 0.0) :\n//   sideNum < 4.0 ? vec3(0.0, 0.0, 1.0) :\n//   sideNum < 5.0 ? vec3(0.0, 1.0, 0.0) :\n//   vec3(1.0, 0.0, 1.0);\n// gl_FragColor.xyz = mix(gl_FragColor.xyz, mixColor, 0.5);\n// `\n\n\n\nfunction createBezierMeshMaterial(baseMaterial) {\n  return createDerivedMaterial(\n    baseMaterial,\n    {\n      chained: true,\n      uniforms: {\n        pointA: {value: new Vector3()},\n        controlA: {value: new Vector3()},\n        controlB: {value: new Vector3()},\n        pointB: {value: new Vector3()},\n        radius: {value: 0.01},\n        dashing: {value: new Vector3()} //on, off, offset\n      },\n      vertexDefs,\n      vertexTransform,\n      fragmentDefs,\n      fragmentMainIntro\n    }\n  )\n}\n\nlet geometry = null;\n\nconst defaultBaseMaterial = /*#__PURE__*/new MeshStandardMaterial({color: 0xffffff, side: DoubleSide});\n\n\n/**\n * A ThreeJS `Mesh` that bends a tube shape along a 3D cubic bezier path. The bending is done\n * by deforming a straight cylindrical geometry in the vertex shader based on a set of four\n * control point uniforms. It patches the necessary GLSL into the mesh's assigned `material`\n * automatically.\n *\n * The cubiz bezier path is determined by its four `Vector3` properties:\n * - `pointA`\n * - `controlA`\n * - `controlB`\n * - `pointB`\n *\n * The tube's radius is controlled by its `radius` property, which defaults to `0.01`.\n *\n * You can also give the tube a dashed appearance with two properties:\n *\n * - `dashArray` - an array of two numbers, defining the length of \"on\" and \"off\" parts of\n *   the dash. Each is a 0-1 ratio of the entire path's length. (Actually this is the `t` length\n *   used as input to the cubic bezier function, not its visible length.)\n * - `dashOffset` - offset of where the dash starts. You can animate this to make the dashes move.\n *\n * Note that the dashes will appear like a hollow tube, not solid. This will be more apparent on\n * thicker tubes.\n *\n * TODO: proper geometry bounding sphere and raycasting\n * TODO: allow control of the geometry's segment counts\n */\nclass BezierMesh extends Mesh {\n  static getGeometry() {\n    return geometry || (geometry =\n      new CylinderGeometry(1, 1, 1, 6, 64).translate(0, 0.5, 0)\n    )\n  }\n\n  constructor() {\n    super(\n      BezierMesh.getGeometry(),\n      defaultBaseMaterial\n    );\n\n    this.pointA = new Vector3();\n    this.controlA = new Vector3();\n    this.controlB = new Vector3();\n    this.pointB = new Vector3();\n    this.radius = 0.01;\n    this.dashArray = new Vector2();\n    this.dashOffset = 0;\n\n    // TODO - disabling frustum culling until I figure out how to customize the\n    //  geometry's bounding sphere that gets used\n    this.frustumCulled = false;\n  }\n\n  // Handler for automatically wrapping the base material with our upgrades. We do the wrapping\n  // lazily on _read_ rather than write to avoid unnecessary wrapping on transient values.\n  get material() {\n    let derivedMaterial = this._derivedMaterial;\n    const baseMaterial = this._baseMaterial || this._defaultMaterial || (this._defaultMaterial = defaultBaseMaterial.clone());\n    if (!derivedMaterial || derivedMaterial.baseMaterial !== baseMaterial) {\n      derivedMaterial = this._derivedMaterial = createBezierMeshMaterial(baseMaterial);\n      // dispose the derived material when its base material is disposed:\n      baseMaterial.addEventListener('dispose', function onDispose() {\n        baseMaterial.removeEventListener('dispose', onDispose);\n        derivedMaterial.dispose();\n      });\n    }\n    return derivedMaterial\n  }\n  set material(baseMaterial) {\n    this._baseMaterial = baseMaterial;\n  }\n\n  // Create and update material for shadows upon request:\n  get customDepthMaterial() {\n    return this.material.getDepthMaterial()\n  }\n  get customDistanceMaterial() {\n    return this.material.getDistanceMaterial()\n  }\n\n  onBeforeRender() {\n    const {uniforms} = this.material;\n    const {pointA, controlA, controlB, pointB, radius, dashArray, dashOffset} = this;\n    uniforms.pointA.value.copy(pointA);\n    uniforms.controlA.value.copy(controlA);\n    uniforms.controlB.value.copy(controlB);\n    uniforms.pointB.value.copy(pointB);\n    uniforms.radius.value = radius;\n    uniforms.dashing.value.set(dashArray.x, dashArray.y, dashOffset || 0);\n  }\n\n  raycast(/*raycaster, intersects*/) {\n    // TODO - just fail for now\n  }\n}\n\nexport { BezierMesh, createDerivedMaterial, expandShaderIncludes, getShaderUniformTypes, getShadersForMaterial, invertMatrix4, voidMainRegExp };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 14755, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14761, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/troika-three-text/dist/troika-three-text.esm.js"],"sourcesContent":["import { Texture, LinearFilter, Color, InstancedBufferGeometry, Sphere, Box3, InstancedBufferAttribute, PlaneGeometry, Vector2, Vector4, Matrix3, Mesh, MeshBasicMaterial, DoubleSide, Matrix4, Vector3, DataTexture, RGBAFormat, FloatType, DynamicDrawUsage } from 'three';\nimport { defineWorkerModule, terminateWorker } from 'troika-worker-utils';\nimport createSDFGenerator from 'webgl-sdf-generator';\nimport bidiFactory from 'bidi-js';\nimport { createDerivedMaterial, voidMainRegExp } from 'troika-three-utils';\n\n/*!\nCustom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.\nOriginal MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE\n*/\nfunction typrFactory(){return \"undefined\"==typeof window&&(self.window=self),function(r){var e={parse:function(r){var t=e._bin,a=new Uint8Array(r);if(\"ttcf\"==t.readASCII(a,0,4)){var n=4;t.readUshort(a,n),n+=2,t.readUshort(a,n),n+=2;var o=t.readUint(a,n);n+=4;for(var s=[],i=0;i<o;i++){var h=t.readUint(a,n);n+=4,s.push(e._readFont(a,h));}return s}return [e._readFont(a,0)]},_readFont:function(r,t){var a=e._bin,n=t;a.readFixed(r,t),t+=4;var o=a.readUshort(r,t);t+=2,a.readUshort(r,t),t+=2,a.readUshort(r,t),t+=2,a.readUshort(r,t),t+=2;for(var s=[\"cmap\",\"head\",\"hhea\",\"maxp\",\"hmtx\",\"name\",\"OS/2\",\"post\",\"loca\",\"glyf\",\"kern\",\"CFF \",\"GDEF\",\"GPOS\",\"GSUB\",\"SVG \"],i={_data:r,_offset:n},h={},d=0;d<o;d++){var f=a.readASCII(r,t,4);t+=4,a.readUint(r,t),t+=4;var u=a.readUint(r,t);t+=4;var l=a.readUint(r,t);t+=4,h[f]={offset:u,length:l};}for(d=0;d<s.length;d++){var v=s[d];h[v]&&(i[v.trim()]=e[v.trim()].parse(r,h[v].offset,h[v].length,i));}return i},_tabOffset:function(r,t,a){for(var n=e._bin,o=n.readUshort(r,a+4),s=a+12,i=0;i<o;i++){var h=n.readASCII(r,s,4);s+=4,n.readUint(r,s),s+=4;var d=n.readUint(r,s);if(s+=4,n.readUint(r,s),s+=4,h==t)return d}return 0}};e._bin={readFixed:function(r,e){return (r[e]<<8|r[e+1])+(r[e+2]<<8|r[e+3])/65540},readF2dot14:function(r,t){return e._bin.readShort(r,t)/16384},readInt:function(r,t){return e._bin._view(r).getInt32(t)},readInt8:function(r,t){return e._bin._view(r).getInt8(t)},readShort:function(r,t){return e._bin._view(r).getInt16(t)},readUshort:function(r,t){return e._bin._view(r).getUint16(t)},readUshorts:function(r,t,a){for(var n=[],o=0;o<a;o++)n.push(e._bin.readUshort(r,t+2*o));return n},readUint:function(r,t){return e._bin._view(r).getUint32(t)},readUint64:function(r,t){return 4294967296*e._bin.readUint(r,t)+e._bin.readUint(r,t+4)},readASCII:function(r,e,t){for(var a=\"\",n=0;n<t;n++)a+=String.fromCharCode(r[e+n]);return a},readUnicode:function(r,e,t){for(var a=\"\",n=0;n<t;n++){var o=r[e++]<<8|r[e++];a+=String.fromCharCode(o);}return a},_tdec:\"undefined\"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,t,a){var n=e._bin._tdec;return n&&0==t&&a==r.length?n.decode(r):e._bin.readASCII(r,t,a)},readBytes:function(r,e,t){for(var a=[],n=0;n<t;n++)a.push(r[e+n]);return a},readASCIIArray:function(r,e,t){for(var a=[],n=0;n<t;n++)a.push(String.fromCharCode(r[e+n]));return a},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,t,a,n,o){var s=e._bin,i={},h=t;s.readFixed(r,t),t+=4;var d=s.readUshort(r,t);t+=2;var f=s.readUshort(r,t);t+=2;var u=s.readUshort(r,t);return t+=2,i.scriptList=e._lctf.readScriptList(r,h+d),i.featureList=e._lctf.readFeatureList(r,h+f),i.lookupList=e._lctf.readLookupList(r,h+u,o),i},e._lctf.readLookupList=function(r,t,a){var n=e._bin,o=t,s=[],i=n.readUshort(r,t);t+=2;for(var h=0;h<i;h++){var d=n.readUshort(r,t);t+=2;var f=e._lctf.readLookupTable(r,o+d,a);s.push(f);}return s},e._lctf.readLookupTable=function(r,t,a){var n=e._bin,o=t,s={tabs:[]};s.ltype=n.readUshort(r,t),t+=2,s.flag=n.readUshort(r,t),t+=2;var i=n.readUshort(r,t);t+=2;for(var h=s.ltype,d=0;d<i;d++){var f=n.readUshort(r,t);t+=2;var u=a(r,h,o+f,s);s.tabs.push(u);}return s},e._lctf.numOfOnes=function(r){for(var e=0,t=0;t<32;t++)0!=(r>>>t&1)&&e++;return e},e._lctf.readClassDef=function(r,t){var a=e._bin,n=[],o=a.readUshort(r,t);if(t+=2,1==o){var s=a.readUshort(r,t);t+=2;var i=a.readUshort(r,t);t+=2;for(var h=0;h<i;h++)n.push(s+h),n.push(s+h),n.push(a.readUshort(r,t)),t+=2;}if(2==o){var d=a.readUshort(r,t);t+=2;for(h=0;h<d;h++)n.push(a.readUshort(r,t)),t+=2,n.push(a.readUshort(r,t)),t+=2,n.push(a.readUshort(r,t)),t+=2;}return n},e._lctf.getInterval=function(r,e){for(var t=0;t<r.length;t+=3){var a=r[t],n=r[t+1];if(r[t+2],a<=e&&e<=n)return t}return -1},e._lctf.readCoverage=function(r,t){var a=e._bin,n={};n.fmt=a.readUshort(r,t),t+=2;var o=a.readUshort(r,t);return t+=2,1==n.fmt&&(n.tab=a.readUshorts(r,t,o)),2==n.fmt&&(n.tab=a.readUshorts(r,t,3*o)),n},e._lctf.coverageIndex=function(r,t){var a=r.tab;if(1==r.fmt)return a.indexOf(t);if(2==r.fmt){var n=e._lctf.getInterval(a,t);if(-1!=n)return a[n+2]+(t-a[n])}return -1},e._lctf.readFeatureList=function(r,t){var a=e._bin,n=t,o=[],s=a.readUshort(r,t);t+=2;for(var i=0;i<s;i++){var h=a.readASCII(r,t,4);t+=4;var d=a.readUshort(r,t);t+=2;var f=e._lctf.readFeatureTable(r,n+d);f.tag=h.trim(),o.push(f);}return o},e._lctf.readFeatureTable=function(r,t){var a=e._bin,n=t,o={},s=a.readUshort(r,t);t+=2,s>0&&(o.featureParams=n+s);var i=a.readUshort(r,t);t+=2,o.tab=[];for(var h=0;h<i;h++)o.tab.push(a.readUshort(r,t+2*h));return o},e._lctf.readScriptList=function(r,t){var a=e._bin,n=t,o={},s=a.readUshort(r,t);t+=2;for(var i=0;i<s;i++){var h=a.readASCII(r,t,4);t+=4;var d=a.readUshort(r,t);t+=2,o[h.trim()]=e._lctf.readScriptTable(r,n+d);}return o},e._lctf.readScriptTable=function(r,t){var a=e._bin,n=t,o={},s=a.readUshort(r,t);t+=2,s>0&&(o.default=e._lctf.readLangSysTable(r,n+s));var i=a.readUshort(r,t);t+=2;for(var h=0;h<i;h++){var d=a.readASCII(r,t,4);t+=4;var f=a.readUshort(r,t);t+=2,o[d.trim()]=e._lctf.readLangSysTable(r,n+f);}return o},e._lctf.readLangSysTable=function(r,t){var a=e._bin,n={};a.readUshort(r,t),t+=2,n.reqFeature=a.readUshort(r,t),t+=2;var o=a.readUshort(r,t);return t+=2,n.features=a.readUshorts(r,t,o),n},e.CFF={},e.CFF.parse=function(r,t,a){var n=e._bin;(r=new Uint8Array(r.buffer,t,a))[t=0],r[++t],r[++t],r[++t],t++;var o=[];t=e.CFF.readIndex(r,t,o);for(var s=[],i=0;i<o.length-1;i++)s.push(n.readASCII(r,t+o[i],o[i+1]-o[i]));t+=o[o.length-1];var h=[];t=e.CFF.readIndex(r,t,h);var d=[];for(i=0;i<h.length-1;i++)d.push(e.CFF.readDict(r,t+h[i],t+h[i+1]));t+=h[h.length-1];var f=d[0],u=[];t=e.CFF.readIndex(r,t,u);var l=[];for(i=0;i<u.length-1;i++)l.push(n.readASCII(r,t+u[i],u[i+1]-u[i]));if(t+=u[u.length-1],e.CFF.readSubrs(r,t,f),f.CharStrings){t=f.CharStrings;u=[];t=e.CFF.readIndex(r,t,u);var v=[];for(i=0;i<u.length-1;i++)v.push(n.readBytes(r,t+u[i],u[i+1]-u[i]));f.CharStrings=v;}if(f.ROS){t=f.FDArray;var c=[];t=e.CFF.readIndex(r,t,c),f.FDArray=[];for(i=0;i<c.length-1;i++){var p=e.CFF.readDict(r,t+c[i],t+c[i+1]);e.CFF._readFDict(r,p,l),f.FDArray.push(p);}t+=c[c.length-1],t=f.FDSelect,f.FDSelect=[];var U=r[t];if(t++,3!=U)throw U;var g=n.readUshort(r,t);t+=2;for(i=0;i<g+1;i++)f.FDSelect.push(n.readUshort(r,t),r[t+2]),t+=3;}return f.Encoding&&(f.Encoding=e.CFF.readEncoding(r,f.Encoding,f.CharStrings.length)),f.charset&&(f.charset=e.CFF.readCharset(r,f.charset,f.CharStrings.length)),e.CFF._readFDict(r,f,l),f},e.CFF._readFDict=function(r,t,a){var n;for(var o in t.Private&&(n=t.Private[1],t.Private=e.CFF.readDict(r,n,n+t.Private[0]),t.Private.Subrs&&e.CFF.readSubrs(r,n+t.Private.Subrs,t.Private)),t)-1!=[\"FamilyName\",\"FontName\",\"FullName\",\"Notice\",\"version\",\"Copyright\"].indexOf(o)&&(t[o]=a[t[o]-426+35]);},e.CFF.readSubrs=function(r,t,a){var n=e._bin,o=[];t=e.CFF.readIndex(r,t,o);var s,i=o.length;s=i<1240?107:i<33900?1131:32768,a.Bias=s,a.Subrs=[];for(var h=0;h<o.length-1;h++)a.Subrs.push(n.readBytes(r,t+o[h],o[h+1]-o[h]));},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,e){for(var t=0;t<r.charset.length;t++)if(r.charset[t]==e)return t;return -1},e.CFF.glyphBySE=function(r,t){return t<0||t>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[t])},e.CFF.readEncoding=function(r,t,a){e._bin;var n=[\".notdef\"],o=r[t];if(t++,0!=o)throw \"error: unknown encoding format: \"+o;var s=r[t];t++;for(var i=0;i<s;i++)n.push(r[t+i]);return n},e.CFF.readCharset=function(r,t,a){var n=e._bin,o=[\".notdef\"],s=r[t];if(t++,0==s)for(var i=0;i<a;i++){var h=n.readUshort(r,t);t+=2,o.push(h);}else {if(1!=s&&2!=s)throw \"error: format: \"+s;for(;o.length<a;){h=n.readUshort(r,t);t+=2;var d=0;1==s?(d=r[t],t++):(d=n.readUshort(r,t),t+=2);for(i=0;i<=d;i++)o.push(h),h++;}}return o},e.CFF.readIndex=function(r,t,a){var n=e._bin,o=n.readUshort(r,t)+1,s=r[t+=2];if(t++,1==s)for(var i=0;i<o;i++)a.push(r[t+i]);else if(2==s)for(i=0;i<o;i++)a.push(n.readUshort(r,t+2*i));else if(3==s)for(i=0;i<o;i++)a.push(16777215&n.readUint(r,t+3*i-1));else if(1!=o)throw \"unsupported offset size: \"+s+\", count: \"+o;return (t+=o*s)-1},e.CFF.getCharString=function(r,t,a){var n=e._bin,o=r[t],s=r[t+1];r[t+2],r[t+3],r[t+4];var i=1,h=null,d=null;o<=20&&(h=o,i=1),12==o&&(h=100*o+s,i=2),21<=o&&o<=27&&(h=o,i=1),28==o&&(d=n.readShort(r,t+1),i=3),29<=o&&o<=31&&(h=o,i=1),32<=o&&o<=246&&(d=o-139,i=1),247<=o&&o<=250&&(d=256*(o-247)+s+108,i=2),251<=o&&o<=254&&(d=256*-(o-251)-s-108,i=2),255==o&&(d=n.readInt(r,t+1)/65535,i=5),a.val=null!=d?d:\"o\"+h,a.size=i;},e.CFF.readCharString=function(r,t,a){for(var n=t+a,o=e._bin,s=[];t<n;){var i=r[t],h=r[t+1];r[t+2],r[t+3],r[t+4];var d=1,f=null,u=null;i<=20&&(f=i,d=1),12==i&&(f=100*i+h,d=2),19!=i&&20!=i||(f=i,d=2),21<=i&&i<=27&&(f=i,d=1),28==i&&(u=o.readShort(r,t+1),d=3),29<=i&&i<=31&&(f=i,d=1),32<=i&&i<=246&&(u=i-139,d=1),247<=i&&i<=250&&(u=256*(i-247)+h+108,d=2),251<=i&&i<=254&&(u=256*-(i-251)-h-108,d=2),255==i&&(u=o.readInt(r,t+1)/65535,d=5),s.push(null!=u?u:\"o\"+f),t+=d;}return s},e.CFF.readDict=function(r,t,a){for(var n=e._bin,o={},s=[];t<a;){var i=r[t],h=r[t+1];r[t+2],r[t+3],r[t+4];var d=1,f=null,u=null;if(28==i&&(u=n.readShort(r,t+1),d=3),29==i&&(u=n.readInt(r,t+1),d=5),32<=i&&i<=246&&(u=i-139,d=1),247<=i&&i<=250&&(u=256*(i-247)+h+108,d=2),251<=i&&i<=254&&(u=256*-(i-251)-h-108,d=2),255==i)throw u=n.readInt(r,t+1)/65535,d=5,\"unknown number\";if(30==i){var l=[];for(d=1;;){var v=r[t+d];d++;var c=v>>4,p=15&v;if(15!=c&&l.push(c),15!=p&&l.push(p),15==p)break}for(var U=\"\",g=[0,1,2,3,4,5,6,7,8,9,\".\",\"e\",\"e-\",\"reserved\",\"-\",\"endOfNumber\"],S=0;S<l.length;S++)U+=g[l[S]];u=parseFloat(U);}if(i<=21)if(f=[\"version\",\"Notice\",\"FullName\",\"FamilyName\",\"Weight\",\"FontBBox\",\"BlueValues\",\"OtherBlues\",\"FamilyBlues\",\"FamilyOtherBlues\",\"StdHW\",\"StdVW\",\"escape\",\"UniqueID\",\"XUID\",\"charset\",\"Encoding\",\"CharStrings\",\"Private\",\"Subrs\",\"defaultWidthX\",\"nominalWidthX\"][i],d=1,12==i)f=[\"Copyright\",\"isFixedPitch\",\"ItalicAngle\",\"UnderlinePosition\",\"UnderlineThickness\",\"PaintType\",\"CharstringType\",\"FontMatrix\",\"StrokeWidth\",\"BlueScale\",\"BlueShift\",\"BlueFuzz\",\"StemSnapH\",\"StemSnapV\",\"ForceBold\",0,0,\"LanguageGroup\",\"ExpansionFactor\",\"initialRandomSeed\",\"SyntheticBase\",\"PostScript\",\"BaseFontName\",\"BaseFontBlend\",0,0,0,0,0,0,\"ROS\",\"CIDFontVersion\",\"CIDFontRevision\",\"CIDFontType\",\"CIDCount\",\"UIDBase\",\"FDArray\",\"FDSelect\",\"FontName\"][h],d=2;null!=f?(o[f]=1==s.length?s[0]:s,s=[]):s.push(u),t+=d;}return o},e.cmap={},e.cmap.parse=function(r,t,a){r=new Uint8Array(r.buffer,t,a),t=0;var n=e._bin,o={};n.readUshort(r,t),t+=2;var s=n.readUshort(r,t);t+=2;var i=[];o.tables=[];for(var h=0;h<s;h++){var d=n.readUshort(r,t);t+=2;var f=n.readUshort(r,t);t+=2;var u=n.readUint(r,t);t+=4;var l=\"p\"+d+\"e\"+f,v=i.indexOf(u);if(-1==v){var c;v=o.tables.length,i.push(u);var p=n.readUshort(r,u);0==p?c=e.cmap.parse0(r,u):4==p?c=e.cmap.parse4(r,u):6==p?c=e.cmap.parse6(r,u):12==p?c=e.cmap.parse12(r,u):console.debug(\"unknown format: \"+p,d,f,u),o.tables.push(c);}if(null!=o[l])throw \"multiple tables for one platform+encoding\";o[l]=v;}return o},e.cmap.parse0=function(r,t){var a=e._bin,n={};n.format=a.readUshort(r,t),t+=2;var o=a.readUshort(r,t);t+=2,a.readUshort(r,t),t+=2,n.map=[];for(var s=0;s<o-6;s++)n.map.push(r[t+s]);return n},e.cmap.parse4=function(r,t){var a=e._bin,n=t,o={};o.format=a.readUshort(r,t),t+=2;var s=a.readUshort(r,t);t+=2,a.readUshort(r,t),t+=2;var i=a.readUshort(r,t);t+=2;var h=i/2;o.searchRange=a.readUshort(r,t),t+=2,o.entrySelector=a.readUshort(r,t),t+=2,o.rangeShift=a.readUshort(r,t),t+=2,o.endCount=a.readUshorts(r,t,h),t+=2*h,t+=2,o.startCount=a.readUshorts(r,t,h),t+=2*h,o.idDelta=[];for(var d=0;d<h;d++)o.idDelta.push(a.readShort(r,t)),t+=2;for(o.idRangeOffset=a.readUshorts(r,t,h),t+=2*h,o.glyphIdArray=[];t<n+s;)o.glyphIdArray.push(a.readUshort(r,t)),t+=2;return o},e.cmap.parse6=function(r,t){var a=e._bin,n={};n.format=a.readUshort(r,t),t+=2,a.readUshort(r,t),t+=2,a.readUshort(r,t),t+=2,n.firstCode=a.readUshort(r,t),t+=2;var o=a.readUshort(r,t);t+=2,n.glyphIdArray=[];for(var s=0;s<o;s++)n.glyphIdArray.push(a.readUshort(r,t)),t+=2;return n},e.cmap.parse12=function(r,t){var a=e._bin,n={};n.format=a.readUshort(r,t),t+=2,t+=2,a.readUint(r,t),t+=4,a.readUint(r,t),t+=4;var o=a.readUint(r,t);t+=4,n.groups=[];for(var s=0;s<o;s++){var i=t+12*s,h=a.readUint(r,i+0),d=a.readUint(r,i+4),f=a.readUint(r,i+8);n.groups.push([h,d,f]);}return n},e.glyf={},e.glyf.parse=function(r,e,t,a){for(var n=[],o=0;o<a.maxp.numGlyphs;o++)n.push(null);return n},e.glyf._parseGlyf=function(r,t){var a=e._bin,n=r._data,o=e._tabOffset(n,\"glyf\",r._offset)+r.loca[t];if(r.loca[t]==r.loca[t+1])return null;var s={};if(s.noc=a.readShort(n,o),o+=2,s.xMin=a.readShort(n,o),o+=2,s.yMin=a.readShort(n,o),o+=2,s.xMax=a.readShort(n,o),o+=2,s.yMax=a.readShort(n,o),o+=2,s.xMin>=s.xMax||s.yMin>=s.yMax)return null;if(s.noc>0){s.endPts=[];for(var i=0;i<s.noc;i++)s.endPts.push(a.readUshort(n,o)),o+=2;var h=a.readUshort(n,o);if(o+=2,n.length-o<h)return null;s.instructions=a.readBytes(n,o,h),o+=h;var d=s.endPts[s.noc-1]+1;s.flags=[];for(i=0;i<d;i++){var f=n[o];if(o++,s.flags.push(f),0!=(8&f)){var u=n[o];o++;for(var l=0;l<u;l++)s.flags.push(f),i++;}}s.xs=[];for(i=0;i<d;i++){var v=0!=(2&s.flags[i]),c=0!=(16&s.flags[i]);v?(s.xs.push(c?n[o]:-n[o]),o++):c?s.xs.push(0):(s.xs.push(a.readShort(n,o)),o+=2);}s.ys=[];for(i=0;i<d;i++){v=0!=(4&s.flags[i]),c=0!=(32&s.flags[i]);v?(s.ys.push(c?n[o]:-n[o]),o++):c?s.ys.push(0):(s.ys.push(a.readShort(n,o)),o+=2);}var p=0,U=0;for(i=0;i<d;i++)p+=s.xs[i],U+=s.ys[i],s.xs[i]=p,s.ys[i]=U;}else {var g;s.parts=[];do{g=a.readUshort(n,o),o+=2;var S={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(s.parts.push(S),S.glyphIndex=a.readUshort(n,o),o+=2,1&g){var m=a.readShort(n,o);o+=2;var b=a.readShort(n,o);o+=2;}else {m=a.readInt8(n,o);o++;b=a.readInt8(n,o);o++;}2&g?(S.m.tx=m,S.m.ty=b):(S.p1=m,S.p2=b),8&g?(S.m.a=S.m.d=a.readF2dot14(n,o),o+=2):64&g?(S.m.a=a.readF2dot14(n,o),o+=2,S.m.d=a.readF2dot14(n,o),o+=2):128&g&&(S.m.a=a.readF2dot14(n,o),o+=2,S.m.b=a.readF2dot14(n,o),o+=2,S.m.c=a.readF2dot14(n,o),o+=2,S.m.d=a.readF2dot14(n,o),o+=2);}while(32&g);if(256&g){var y=a.readUshort(n,o);o+=2,s.instr=[];for(i=0;i<y;i++)s.instr.push(n[o]),o++;}}return s},e.GDEF={},e.GDEF.parse=function(r,t,a,n){var o=t;t+=4;var s=e._bin.readUshort(r,t);return {glyphClassDef:0===s?null:e._lctf.readClassDef(r,o+s)}},e.GPOS={},e.GPOS.parse=function(r,t,a,n){return e._lctf.parse(r,t,a,n,e.GPOS.subt)},e.GPOS.subt=function(r,t,a,n){var o=e._bin,s=a,i={};if(i.fmt=o.readUshort(r,a),a+=2,1==t||2==t||3==t||7==t||8==t&&i.fmt<=2){var h=o.readUshort(r,a);a+=2,i.coverage=e._lctf.readCoverage(r,h+s);}if(1==t&&1==i.fmt){var d=o.readUshort(r,a);a+=2,0!=d&&(i.pos=e.GPOS.readValueRecord(r,a,d));}else if(2==t&&i.fmt>=1&&i.fmt<=2){d=o.readUshort(r,a);a+=2;var f=o.readUshort(r,a);a+=2;var u=e._lctf.numOfOnes(d),l=e._lctf.numOfOnes(f);if(1==i.fmt){i.pairsets=[];var v=o.readUshort(r,a);a+=2;for(var c=0;c<v;c++){var p=s+o.readUshort(r,a);a+=2;var U=o.readUshort(r,p);p+=2;for(var g=[],S=0;S<U;S++){var m=o.readUshort(r,p);p+=2,0!=d&&(P=e.GPOS.readValueRecord(r,p,d),p+=2*u),0!=f&&(x=e.GPOS.readValueRecord(r,p,f),p+=2*l),g.push({gid2:m,val1:P,val2:x});}i.pairsets.push(g);}}if(2==i.fmt){var b=o.readUshort(r,a);a+=2;var y=o.readUshort(r,a);a+=2;var F=o.readUshort(r,a);a+=2;var C=o.readUshort(r,a);a+=2,i.classDef1=e._lctf.readClassDef(r,s+b),i.classDef2=e._lctf.readClassDef(r,s+y),i.matrix=[];for(c=0;c<F;c++){var _=[];for(S=0;S<C;S++){var P=null,x=null;0!=d&&(P=e.GPOS.readValueRecord(r,a,d),a+=2*u),0!=f&&(x=e.GPOS.readValueRecord(r,a,f),a+=2*l),_.push({val1:P,val2:x});}i.matrix.push(_);}}}else if(4==t&&1==i.fmt)i.markCoverage=e._lctf.readCoverage(r,o.readUshort(r,a)+s),i.baseCoverage=e._lctf.readCoverage(r,o.readUshort(r,a+2)+s),i.markClassCount=o.readUshort(r,a+4),i.markArray=e.GPOS.readMarkArray(r,o.readUshort(r,a+6)+s),i.baseArray=e.GPOS.readBaseArray(r,o.readUshort(r,a+8)+s,i.markClassCount);else if(6==t&&1==i.fmt)i.mark1Coverage=e._lctf.readCoverage(r,o.readUshort(r,a)+s),i.mark2Coverage=e._lctf.readCoverage(r,o.readUshort(r,a+2)+s),i.markClassCount=o.readUshort(r,a+4),i.mark1Array=e.GPOS.readMarkArray(r,o.readUshort(r,a+6)+s),i.mark2Array=e.GPOS.readBaseArray(r,o.readUshort(r,a+8)+s,i.markClassCount);else {if(9==t&&1==i.fmt){var I=o.readUshort(r,a);a+=2;var w=o.readUint(r,a);if(a+=4,9==n.ltype)n.ltype=I;else if(n.ltype!=I)throw \"invalid extension substitution\";return e.GPOS.subt(r,n.ltype,s+w)}console.debug(\"unsupported GPOS table LookupType\",t,\"format\",i.fmt);}return i},e.GPOS.readValueRecord=function(r,t,a){var n=e._bin,o=[];return o.push(1&a?n.readShort(r,t):0),t+=1&a?2:0,o.push(2&a?n.readShort(r,t):0),t+=2&a?2:0,o.push(4&a?n.readShort(r,t):0),t+=4&a?2:0,o.push(8&a?n.readShort(r,t):0),t+=8&a?2:0,o},e.GPOS.readBaseArray=function(r,t,a){var n=e._bin,o=[],s=t,i=n.readUshort(r,t);t+=2;for(var h=0;h<i;h++){for(var d=[],f=0;f<a;f++)d.push(e.GPOS.readAnchorRecord(r,s+n.readUshort(r,t))),t+=2;o.push(d);}return o},e.GPOS.readMarkArray=function(r,t){var a=e._bin,n=[],o=t,s=a.readUshort(r,t);t+=2;for(var i=0;i<s;i++){var h=e.GPOS.readAnchorRecord(r,a.readUshort(r,t+2)+o);h.markClass=a.readUshort(r,t),n.push(h),t+=4;}return n},e.GPOS.readAnchorRecord=function(r,t){var a=e._bin,n={};return n.fmt=a.readUshort(r,t),n.x=a.readShort(r,t+2),n.y=a.readShort(r,t+4),n},e.GSUB={},e.GSUB.parse=function(r,t,a,n){return e._lctf.parse(r,t,a,n,e.GSUB.subt)},e.GSUB.subt=function(r,t,a,n){var o=e._bin,s=a,i={};if(i.fmt=o.readUshort(r,a),a+=2,1!=t&&2!=t&&4!=t&&5!=t&&6!=t)return null;if(1==t||2==t||4==t||5==t&&i.fmt<=2||6==t&&i.fmt<=2){var h=o.readUshort(r,a);a+=2,i.coverage=e._lctf.readCoverage(r,s+h);}if(1==t&&i.fmt>=1&&i.fmt<=2){if(1==i.fmt)i.delta=o.readShort(r,a),a+=2;else if(2==i.fmt){var d=o.readUshort(r,a);a+=2,i.newg=o.readUshorts(r,a,d),a+=2*i.newg.length;}}else if(2==t&&1==i.fmt){d=o.readUshort(r,a);a+=2,i.seqs=[];for(var f=0;f<d;f++){var u=o.readUshort(r,a)+s;a+=2;var l=o.readUshort(r,u);i.seqs.push(o.readUshorts(r,u+2,l));}}else if(4==t){i.vals=[];d=o.readUshort(r,a);a+=2;for(f=0;f<d;f++){var v=o.readUshort(r,a);a+=2,i.vals.push(e.GSUB.readLigatureSet(r,s+v));}}else if(5==t&&2==i.fmt){if(2==i.fmt){var c=o.readUshort(r,a);a+=2,i.cDef=e._lctf.readClassDef(r,s+c),i.scset=[];var p=o.readUshort(r,a);a+=2;for(f=0;f<p;f++){var U=o.readUshort(r,a);a+=2,i.scset.push(0==U?null:e.GSUB.readSubClassSet(r,s+U));}}}else if(6==t&&3==i.fmt){if(3==i.fmt){for(f=0;f<3;f++){d=o.readUshort(r,a);a+=2;for(var g=[],S=0;S<d;S++)g.push(e._lctf.readCoverage(r,s+o.readUshort(r,a+2*S)));a+=2*d,0==f&&(i.backCvg=g),1==f&&(i.inptCvg=g),2==f&&(i.ahedCvg=g);}d=o.readUshort(r,a);a+=2,i.lookupRec=e.GSUB.readSubstLookupRecords(r,a,d);}}else {if(7==t&&1==i.fmt){var m=o.readUshort(r,a);a+=2;var b=o.readUint(r,a);if(a+=4,9==n.ltype)n.ltype=m;else if(n.ltype!=m)throw \"invalid extension substitution\";return e.GSUB.subt(r,n.ltype,s+b)}console.debug(\"unsupported GSUB table LookupType\",t,\"format\",i.fmt);}return i},e.GSUB.readSubClassSet=function(r,t){var a=e._bin.readUshort,n=t,o=[],s=a(r,t);t+=2;for(var i=0;i<s;i++){var h=a(r,t);t+=2,o.push(e.GSUB.readSubClassRule(r,n+h));}return o},e.GSUB.readSubClassRule=function(r,t){var a=e._bin.readUshort,n={},o=a(r,t),s=a(r,t+=2);t+=2,n.input=[];for(var i=0;i<o-1;i++)n.input.push(a(r,t)),t+=2;return n.substLookupRecords=e.GSUB.readSubstLookupRecords(r,t,s),n},e.GSUB.readSubstLookupRecords=function(r,t,a){for(var n=e._bin.readUshort,o=[],s=0;s<a;s++)o.push(n(r,t),n(r,t+2)),t+=4;return o},e.GSUB.readChainSubClassSet=function(r,t){var a=e._bin,n=t,o=[],s=a.readUshort(r,t);t+=2;for(var i=0;i<s;i++){var h=a.readUshort(r,t);t+=2,o.push(e.GSUB.readChainSubClassRule(r,n+h));}return o},e.GSUB.readChainSubClassRule=function(r,t){for(var a=e._bin,n={},o=[\"backtrack\",\"input\",\"lookahead\"],s=0;s<o.length;s++){var i=a.readUshort(r,t);t+=2,1==s&&i--,n[o[s]]=a.readUshorts(r,t,i),t+=2*n[o[s]].length;}i=a.readUshort(r,t);return t+=2,n.subst=a.readUshorts(r,t,2*i),t+=2*n.subst.length,n},e.GSUB.readLigatureSet=function(r,t){var a=e._bin,n=t,o=[],s=a.readUshort(r,t);t+=2;for(var i=0;i<s;i++){var h=a.readUshort(r,t);t+=2,o.push(e.GSUB.readLigature(r,n+h));}return o},e.GSUB.readLigature=function(r,t){var a=e._bin,n={chain:[]};n.nglyph=a.readUshort(r,t),t+=2;var o=a.readUshort(r,t);t+=2;for(var s=0;s<o-1;s++)n.chain.push(a.readUshort(r,t)),t+=2;return n},e.head={},e.head.parse=function(r,t,a){var n=e._bin,o={};return n.readFixed(r,t),t+=4,o.fontRevision=n.readFixed(r,t),t+=4,n.readUint(r,t),t+=4,n.readUint(r,t),t+=4,o.flags=n.readUshort(r,t),t+=2,o.unitsPerEm=n.readUshort(r,t),t+=2,o.created=n.readUint64(r,t),t+=8,o.modified=n.readUint64(r,t),t+=8,o.xMin=n.readShort(r,t),t+=2,o.yMin=n.readShort(r,t),t+=2,o.xMax=n.readShort(r,t),t+=2,o.yMax=n.readShort(r,t),t+=2,o.macStyle=n.readUshort(r,t),t+=2,o.lowestRecPPEM=n.readUshort(r,t),t+=2,o.fontDirectionHint=n.readShort(r,t),t+=2,o.indexToLocFormat=n.readShort(r,t),t+=2,o.glyphDataFormat=n.readShort(r,t),t+=2,o},e.hhea={},e.hhea.parse=function(r,t,a){var n=e._bin,o={};return n.readFixed(r,t),t+=4,o.ascender=n.readShort(r,t),t+=2,o.descender=n.readShort(r,t),t+=2,o.lineGap=n.readShort(r,t),t+=2,o.advanceWidthMax=n.readUshort(r,t),t+=2,o.minLeftSideBearing=n.readShort(r,t),t+=2,o.minRightSideBearing=n.readShort(r,t),t+=2,o.xMaxExtent=n.readShort(r,t),t+=2,o.caretSlopeRise=n.readShort(r,t),t+=2,o.caretSlopeRun=n.readShort(r,t),t+=2,o.caretOffset=n.readShort(r,t),t+=2,t+=8,o.metricDataFormat=n.readShort(r,t),t+=2,o.numberOfHMetrics=n.readUshort(r,t),t+=2,o},e.hmtx={},e.hmtx.parse=function(r,t,a,n){for(var o=e._bin,s={aWidth:[],lsBearing:[]},i=0,h=0,d=0;d<n.maxp.numGlyphs;d++)d<n.hhea.numberOfHMetrics&&(i=o.readUshort(r,t),t+=2,h=o.readShort(r,t),t+=2),s.aWidth.push(i),s.lsBearing.push(h);return s},e.kern={},e.kern.parse=function(r,t,a,n){var o=e._bin,s=o.readUshort(r,t);if(t+=2,1==s)return e.kern.parseV1(r,t-2,a,n);var i=o.readUshort(r,t);t+=2;for(var h={glyph1:[],rval:[]},d=0;d<i;d++){t+=2;a=o.readUshort(r,t);t+=2;var f=o.readUshort(r,t);t+=2;var u=f>>>8;if(0!=(u&=15))throw \"unknown kern table format: \"+u;t=e.kern.readFormat0(r,t,h);}return h},e.kern.parseV1=function(r,t,a,n){var o=e._bin;o.readFixed(r,t),t+=4;var s=o.readUint(r,t);t+=4;for(var i={glyph1:[],rval:[]},h=0;h<s;h++){o.readUint(r,t),t+=4;var d=o.readUshort(r,t);t+=2,o.readUshort(r,t),t+=2;var f=d>>>8;if(0!=(f&=15))throw \"unknown kern table format: \"+f;t=e.kern.readFormat0(r,t,i);}return i},e.kern.readFormat0=function(r,t,a){var n=e._bin,o=-1,s=n.readUshort(r,t);t+=2,n.readUshort(r,t),t+=2,n.readUshort(r,t),t+=2,n.readUshort(r,t),t+=2;for(var i=0;i<s;i++){var h=n.readUshort(r,t);t+=2;var d=n.readUshort(r,t);t+=2;var f=n.readShort(r,t);t+=2,h!=o&&(a.glyph1.push(h),a.rval.push({glyph2:[],vals:[]}));var u=a.rval[a.rval.length-1];u.glyph2.push(d),u.vals.push(f),o=h;}return t},e.loca={},e.loca.parse=function(r,t,a,n){var o=e._bin,s=[],i=n.head.indexToLocFormat,h=n.maxp.numGlyphs+1;if(0==i)for(var d=0;d<h;d++)s.push(o.readUshort(r,t+(d<<1))<<1);if(1==i)for(d=0;d<h;d++)s.push(o.readUint(r,t+(d<<2)));return s},e.maxp={},e.maxp.parse=function(r,t,a){var n=e._bin,o={},s=n.readUint(r,t);return t+=4,o.numGlyphs=n.readUshort(r,t),t+=2,65536==s&&(o.maxPoints=n.readUshort(r,t),t+=2,o.maxContours=n.readUshort(r,t),t+=2,o.maxCompositePoints=n.readUshort(r,t),t+=2,o.maxCompositeContours=n.readUshort(r,t),t+=2,o.maxZones=n.readUshort(r,t),t+=2,o.maxTwilightPoints=n.readUshort(r,t),t+=2,o.maxStorage=n.readUshort(r,t),t+=2,o.maxFunctionDefs=n.readUshort(r,t),t+=2,o.maxInstructionDefs=n.readUshort(r,t),t+=2,o.maxStackElements=n.readUshort(r,t),t+=2,o.maxSizeOfInstructions=n.readUshort(r,t),t+=2,o.maxComponentElements=n.readUshort(r,t),t+=2,o.maxComponentDepth=n.readUshort(r,t),t+=2),o},e.name={},e.name.parse=function(r,t,a){var n=e._bin,o={};n.readUshort(r,t),t+=2;var s=n.readUshort(r,t);t+=2,n.readUshort(r,t);for(var i,h=[\"copyright\",\"fontFamily\",\"fontSubfamily\",\"ID\",\"fullName\",\"version\",\"postScriptName\",\"trademark\",\"manufacturer\",\"designer\",\"description\",\"urlVendor\",\"urlDesigner\",\"licence\",\"licenceURL\",\"---\",\"typoFamilyName\",\"typoSubfamilyName\",\"compatibleFull\",\"sampleText\",\"postScriptCID\",\"wwsFamilyName\",\"wwsSubfamilyName\",\"lightPalette\",\"darkPalette\"],d=t+=2,f=0;f<s;f++){var u=n.readUshort(r,t);t+=2;var l=n.readUshort(r,t);t+=2;var v=n.readUshort(r,t);t+=2;var c=n.readUshort(r,t);t+=2;var p=n.readUshort(r,t);t+=2;var U=n.readUshort(r,t);t+=2;var g,S=h[c],m=d+12*s+U;if(0==u)g=n.readUnicode(r,m,p/2);else if(3==u&&0==l)g=n.readUnicode(r,m,p/2);else if(0==l)g=n.readASCII(r,m,p);else if(1==l)g=n.readUnicode(r,m,p/2);else if(3==l)g=n.readUnicode(r,m,p/2);else {if(1!=u)throw \"unknown encoding \"+l+\", platformID: \"+u;g=n.readASCII(r,m,p),console.debug(\"reading unknown MAC encoding \"+l+\" as ASCII\");}var b=\"p\"+u+\",\"+v.toString(16);null==o[b]&&(o[b]={}),o[b][void 0!==S?S:c]=g,o[b]._lang=v;}for(var y in o)if(null!=o[y].postScriptName&&1033==o[y]._lang)return o[y];for(var y in o)if(null!=o[y].postScriptName&&0==o[y]._lang)return o[y];for(var y in o)if(null!=o[y].postScriptName&&3084==o[y]._lang)return o[y];for(var y in o)if(null!=o[y].postScriptName)return o[y];for(var y in o){i=y;break}return console.debug(\"returning name table with languageID \"+o[i]._lang),o[i]},e[\"OS/2\"]={},e[\"OS/2\"].parse=function(r,t,a){var n=e._bin.readUshort(r,t);t+=2;var o={};if(0==n)e[\"OS/2\"].version0(r,t,o);else if(1==n)e[\"OS/2\"].version1(r,t,o);else if(2==n||3==n||4==n)e[\"OS/2\"].version2(r,t,o);else {if(5!=n)throw \"unknown OS/2 table version: \"+n;e[\"OS/2\"].version5(r,t,o);}return o},e[\"OS/2\"].version0=function(r,t,a){var n=e._bin;return a.xAvgCharWidth=n.readShort(r,t),t+=2,a.usWeightClass=n.readUshort(r,t),t+=2,a.usWidthClass=n.readUshort(r,t),t+=2,a.fsType=n.readUshort(r,t),t+=2,a.ySubscriptXSize=n.readShort(r,t),t+=2,a.ySubscriptYSize=n.readShort(r,t),t+=2,a.ySubscriptXOffset=n.readShort(r,t),t+=2,a.ySubscriptYOffset=n.readShort(r,t),t+=2,a.ySuperscriptXSize=n.readShort(r,t),t+=2,a.ySuperscriptYSize=n.readShort(r,t),t+=2,a.ySuperscriptXOffset=n.readShort(r,t),t+=2,a.ySuperscriptYOffset=n.readShort(r,t),t+=2,a.yStrikeoutSize=n.readShort(r,t),t+=2,a.yStrikeoutPosition=n.readShort(r,t),t+=2,a.sFamilyClass=n.readShort(r,t),t+=2,a.panose=n.readBytes(r,t,10),t+=10,a.ulUnicodeRange1=n.readUint(r,t),t+=4,a.ulUnicodeRange2=n.readUint(r,t),t+=4,a.ulUnicodeRange3=n.readUint(r,t),t+=4,a.ulUnicodeRange4=n.readUint(r,t),t+=4,a.achVendID=[n.readInt8(r,t),n.readInt8(r,t+1),n.readInt8(r,t+2),n.readInt8(r,t+3)],t+=4,a.fsSelection=n.readUshort(r,t),t+=2,a.usFirstCharIndex=n.readUshort(r,t),t+=2,a.usLastCharIndex=n.readUshort(r,t),t+=2,a.sTypoAscender=n.readShort(r,t),t+=2,a.sTypoDescender=n.readShort(r,t),t+=2,a.sTypoLineGap=n.readShort(r,t),t+=2,a.usWinAscent=n.readUshort(r,t),t+=2,a.usWinDescent=n.readUshort(r,t),t+=2},e[\"OS/2\"].version1=function(r,t,a){var n=e._bin;return t=e[\"OS/2\"].version0(r,t,a),a.ulCodePageRange1=n.readUint(r,t),t+=4,a.ulCodePageRange2=n.readUint(r,t),t+=4},e[\"OS/2\"].version2=function(r,t,a){var n=e._bin;return t=e[\"OS/2\"].version1(r,t,a),a.sxHeight=n.readShort(r,t),t+=2,a.sCapHeight=n.readShort(r,t),t+=2,a.usDefault=n.readUshort(r,t),t+=2,a.usBreak=n.readUshort(r,t),t+=2,a.usMaxContext=n.readUshort(r,t),t+=2},e[\"OS/2\"].version5=function(r,t,a){var n=e._bin;return t=e[\"OS/2\"].version2(r,t,a),a.usLowerOpticalPointSize=n.readUshort(r,t),t+=2,a.usUpperOpticalPointSize=n.readUshort(r,t),t+=2},e.post={},e.post.parse=function(r,t,a){var n=e._bin,o={};return o.version=n.readFixed(r,t),t+=4,o.italicAngle=n.readFixed(r,t),t+=4,o.underlinePosition=n.readShort(r,t),t+=2,o.underlineThickness=n.readShort(r,t),t+=2,o},null==e&&(e={}),null==e.U&&(e.U={}),e.U.codeToGlyph=function(r,e){var t=r.cmap,a=-1;if(null!=t.p0e4?a=t.p0e4:null!=t.p3e1?a=t.p3e1:null!=t.p1e0?a=t.p1e0:null!=t.p0e3&&(a=t.p0e3),-1==a)throw \"no familiar platform and encoding!\";var n=t.tables[a];if(0==n.format)return e>=n.map.length?0:n.map[e];if(4==n.format){for(var o=-1,s=0;s<n.endCount.length;s++)if(e<=n.endCount[s]){o=s;break}if(-1==o)return 0;if(n.startCount[o]>e)return 0;return 65535&(0!=n.idRangeOffset[o]?n.glyphIdArray[e-n.startCount[o]+(n.idRangeOffset[o]>>1)-(n.idRangeOffset.length-o)]:e+n.idDelta[o])}if(12==n.format){if(e>n.groups[n.groups.length-1][1])return 0;for(s=0;s<n.groups.length;s++){var i=n.groups[s];if(i[0]<=e&&e<=i[1])return i[2]+(e-i[0])}return 0}throw \"unknown cmap table format \"+n.format},e.U.glyphToPath=function(r,t){var a={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[t]){var n=r.SVG.entries[t];return null==n?a:(\"string\"==typeof n&&(n=e.SVG.toPath(n),r.SVG.entries[t]=n),n)}if(r.CFF){var o={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},s=r.CFF,i=r.CFF.Private;if(s.ROS){for(var h=0;s.FDSelect[h+2]<=t;)h+=2;i=s.FDArray[s.FDSelect[h+1]].Private;}e.U._drawCFF(r.CFF.CharStrings[t],o,s,i,a);}else r.glyf&&e.U._drawGlyf(t,r,a);return a},e.U._drawGlyf=function(r,t,a){var n=t.glyf[r];null==n&&(n=t.glyf[r]=e.glyf._parseGlyf(t,r)),null!=n&&(n.noc>-1?e.U._simpleGlyph(n,a):e.U._compoGlyph(n,t,a));},e.U._simpleGlyph=function(r,t){for(var a=0;a<r.noc;a++){for(var n=0==a?0:r.endPts[a-1]+1,o=r.endPts[a],s=n;s<=o;s++){var i=s==n?o:s-1,h=s==o?n:s+1,d=1&r.flags[s],f=1&r.flags[i],u=1&r.flags[h],l=r.xs[s],v=r.ys[s];if(s==n)if(d){if(!f){e.U.P.moveTo(t,l,v);continue}e.U.P.moveTo(t,r.xs[i],r.ys[i]);}else f?e.U.P.moveTo(t,r.xs[i],r.ys[i]):e.U.P.moveTo(t,(r.xs[i]+l)/2,(r.ys[i]+v)/2);d?f&&e.U.P.lineTo(t,l,v):u?e.U.P.qcurveTo(t,l,v,r.xs[h],r.ys[h]):e.U.P.qcurveTo(t,l,v,(l+r.xs[h])/2,(v+r.ys[h])/2);}e.U.P.closePath(t);}},e.U._compoGlyph=function(r,t,a){for(var n=0;n<r.parts.length;n++){var o={cmds:[],crds:[]},s=r.parts[n];e.U._drawGlyf(s.glyphIndex,t,o);for(var i=s.m,h=0;h<o.crds.length;h+=2){var d=o.crds[h],f=o.crds[h+1];a.crds.push(d*i.a+f*i.b+i.tx),a.crds.push(d*i.c+f*i.d+i.ty);}for(h=0;h<o.cmds.length;h++)a.cmds.push(o.cmds[h]);}},e.U._getGlyphClass=function(r,t){var a=e._lctf.getInterval(t,r);return -1==a?0:t[a+2]},e.U._applySubs=function(r,t,a,n){for(var o=r.length-t-1,s=0;s<a.tabs.length;s++)if(null!=a.tabs[s]){var i,h=a.tabs[s];if(!h.coverage||-1!=(i=e._lctf.coverageIndex(h.coverage,r[t])))if(1==a.ltype)r[t],1==h.fmt?r[t]=r[t]+h.delta:r[t]=h.newg[i];else if(4==a.ltype)for(var d=h.vals[i],f=0;f<d.length;f++){var u=d[f],l=u.chain.length;if(!(l>o)){for(var v=!0,c=0,p=0;p<l;p++){for(;-1==r[t+c+(1+p)];)c++;u.chain[p]!=r[t+c+(1+p)]&&(v=!1);}if(v){r[t]=u.nglyph;for(p=0;p<l+c;p++)r[t+p+1]=-1;break}}}else if(5==a.ltype&&2==h.fmt)for(var U=e._lctf.getInterval(h.cDef,r[t]),g=h.cDef[U+2],S=h.scset[g],m=0;m<S.length;m++){var b=S[m],y=b.input;if(!(y.length>o)){for(v=!0,p=0;p<y.length;p++){var F=e._lctf.getInterval(h.cDef,r[t+1+p]);if(-1==U&&h.cDef[F+2]!=y[p]){v=!1;break}}if(v){var C=b.substLookupRecords;for(f=0;f<C.length;f+=2)C[f],C[f+1];}}}else if(6==a.ltype&&3==h.fmt){if(!e.U._glsCovered(r,h.backCvg,t-h.backCvg.length))continue;if(!e.U._glsCovered(r,h.inptCvg,t))continue;if(!e.U._glsCovered(r,h.ahedCvg,t+h.inptCvg.length))continue;var _=h.lookupRec;for(m=0;m<_.length;m+=2){U=_[m];var P=n[_[m+1]];e.U._applySubs(r,t+U,P,n);}}}},e.U._glsCovered=function(r,t,a){for(var n=0;n<t.length;n++){if(-1==e._lctf.coverageIndex(t[n],r[a+n]))return !1}return !0},e.U.glyphsToPath=function(r,t,a){for(var n={cmds:[],crds:[]},o=0,s=0;s<t.length;s++){var i=t[s];if(-1!=i){for(var h=s<t.length-1&&-1!=t[s+1]?t[s+1]:0,d=e.U.glyphToPath(r,i),f=0;f<d.crds.length;f+=2)n.crds.push(d.crds[f]+o),n.crds.push(d.crds[f+1]);a&&n.cmds.push(a);for(f=0;f<d.cmds.length;f++)n.cmds.push(d.cmds[f]);a&&n.cmds.push(\"X\"),o+=r.hmtx.aWidth[i],s<t.length-1&&(o+=e.U.getPairAdjustment(r,i,h));}}return n},e.U.P={},e.U.P.moveTo=function(r,e,t){r.cmds.push(\"M\"),r.crds.push(e,t);},e.U.P.lineTo=function(r,e,t){r.cmds.push(\"L\"),r.crds.push(e,t);},e.U.P.curveTo=function(r,e,t,a,n,o,s){r.cmds.push(\"C\"),r.crds.push(e,t,a,n,o,s);},e.U.P.qcurveTo=function(r,e,t,a,n){r.cmds.push(\"Q\"),r.crds.push(e,t,a,n);},e.U.P.closePath=function(r){r.cmds.push(\"Z\");},e.U._drawCFF=function(r,t,a,n,o){for(var s=t.stack,i=t.nStems,h=t.haveWidth,d=t.width,f=t.open,u=0,l=t.x,v=t.y,c=0,p=0,U=0,g=0,S=0,m=0,b=0,y=0,F=0,C=0,_={val:0,size:0};u<r.length;){e.CFF.getCharString(r,u,_);var P=_.val;if(u+=_.size,\"o1\"==P||\"o18\"==P)s.length%2!=0&&!h&&(d=s.shift()+n.nominalWidthX),i+=s.length>>1,s.length=0,h=!0;else if(\"o3\"==P||\"o23\"==P){s.length%2!=0&&!h&&(d=s.shift()+n.nominalWidthX),i+=s.length>>1,s.length=0,h=!0;}else if(\"o4\"==P)s.length>1&&!h&&(d=s.shift()+n.nominalWidthX,h=!0),f&&e.U.P.closePath(o),v+=s.pop(),e.U.P.moveTo(o,l,v),f=!0;else if(\"o5\"==P)for(;s.length>0;)l+=s.shift(),v+=s.shift(),e.U.P.lineTo(o,l,v);else if(\"o6\"==P||\"o7\"==P)for(var x=s.length,I=\"o6\"==P,w=0;w<x;w++){var k=s.shift();I?l+=k:v+=k,I=!I,e.U.P.lineTo(o,l,v);}else if(\"o8\"==P||\"o24\"==P){x=s.length;for(var G=0;G+6<=x;)c=l+s.shift(),p=v+s.shift(),U=c+s.shift(),g=p+s.shift(),l=U+s.shift(),v=g+s.shift(),e.U.P.curveTo(o,c,p,U,g,l,v),G+=6;\"o24\"==P&&(l+=s.shift(),v+=s.shift(),e.U.P.lineTo(o,l,v));}else {if(\"o11\"==P)break;if(\"o1234\"==P||\"o1235\"==P||\"o1236\"==P||\"o1237\"==P)\"o1234\"==P&&(p=v,U=(c=l+s.shift())+s.shift(),C=g=p+s.shift(),m=g,y=v,l=(b=(S=(F=U+s.shift())+s.shift())+s.shift())+s.shift(),e.U.P.curveTo(o,c,p,U,g,F,C),e.U.P.curveTo(o,S,m,b,y,l,v)),\"o1235\"==P&&(c=l+s.shift(),p=v+s.shift(),U=c+s.shift(),g=p+s.shift(),F=U+s.shift(),C=g+s.shift(),S=F+s.shift(),m=C+s.shift(),b=S+s.shift(),y=m+s.shift(),l=b+s.shift(),v=y+s.shift(),s.shift(),e.U.P.curveTo(o,c,p,U,g,F,C),e.U.P.curveTo(o,S,m,b,y,l,v)),\"o1236\"==P&&(c=l+s.shift(),p=v+s.shift(),U=c+s.shift(),C=g=p+s.shift(),m=g,b=(S=(F=U+s.shift())+s.shift())+s.shift(),y=m+s.shift(),l=b+s.shift(),e.U.P.curveTo(o,c,p,U,g,F,C),e.U.P.curveTo(o,S,m,b,y,l,v)),\"o1237\"==P&&(c=l+s.shift(),p=v+s.shift(),U=c+s.shift(),g=p+s.shift(),F=U+s.shift(),C=g+s.shift(),S=F+s.shift(),m=C+s.shift(),b=S+s.shift(),y=m+s.shift(),Math.abs(b-l)>Math.abs(y-v)?l=b+s.shift():v=y+s.shift(),e.U.P.curveTo(o,c,p,U,g,F,C),e.U.P.curveTo(o,S,m,b,y,l,v));else if(\"o14\"==P){if(s.length>0&&!h&&(d=s.shift()+a.nominalWidthX,h=!0),4==s.length){var O=s.shift(),T=s.shift(),D=s.shift(),B=s.shift(),A=e.CFF.glyphBySE(a,D),R=e.CFF.glyphBySE(a,B);e.U._drawCFF(a.CharStrings[A],t,a,n,o),t.x=O,t.y=T,e.U._drawCFF(a.CharStrings[R],t,a,n,o);}f&&(e.U.P.closePath(o),f=!1);}else if(\"o19\"==P||\"o20\"==P){s.length%2!=0&&!h&&(d=s.shift()+n.nominalWidthX),i+=s.length>>1,s.length=0,h=!0,u+=i+7>>3;}else if(\"o21\"==P)s.length>2&&!h&&(d=s.shift()+n.nominalWidthX,h=!0),v+=s.pop(),l+=s.pop(),f&&e.U.P.closePath(o),e.U.P.moveTo(o,l,v),f=!0;else if(\"o22\"==P)s.length>1&&!h&&(d=s.shift()+n.nominalWidthX,h=!0),l+=s.pop(),f&&e.U.P.closePath(o),e.U.P.moveTo(o,l,v),f=!0;else if(\"o25\"==P){for(;s.length>6;)l+=s.shift(),v+=s.shift(),e.U.P.lineTo(o,l,v);c=l+s.shift(),p=v+s.shift(),U=c+s.shift(),g=p+s.shift(),l=U+s.shift(),v=g+s.shift(),e.U.P.curveTo(o,c,p,U,g,l,v);}else if(\"o26\"==P)for(s.length%2&&(l+=s.shift());s.length>0;)c=l,p=v+s.shift(),l=U=c+s.shift(),v=(g=p+s.shift())+s.shift(),e.U.P.curveTo(o,c,p,U,g,l,v);else if(\"o27\"==P)for(s.length%2&&(v+=s.shift());s.length>0;)p=v,U=(c=l+s.shift())+s.shift(),g=p+s.shift(),l=U+s.shift(),v=g,e.U.P.curveTo(o,c,p,U,g,l,v);else if(\"o10\"==P||\"o29\"==P){var L=\"o10\"==P?n:a;if(0==s.length)console.debug(\"error: empty stack\");else {var W=s.pop(),M=L.Subrs[W+L.Bias];t.x=l,t.y=v,t.nStems=i,t.haveWidth=h,t.width=d,t.open=f,e.U._drawCFF(M,t,a,n,o),l=t.x,v=t.y,i=t.nStems,h=t.haveWidth,d=t.width,f=t.open;}}else if(\"o30\"==P||\"o31\"==P){var V=s.length,E=(G=0,\"o31\"==P);for(G+=V-(x=-3&V);G<x;)E?(p=v,U=(c=l+s.shift())+s.shift(),v=(g=p+s.shift())+s.shift(),x-G==5?(l=U+s.shift(),G++):l=U,E=!1):(c=l,p=v+s.shift(),U=c+s.shift(),g=p+s.shift(),l=U+s.shift(),x-G==5?(v=g+s.shift(),G++):v=g,E=!0),e.U.P.curveTo(o,c,p,U,g,l,v),G+=4;}else {if(\"o\"==(P+\"\").charAt(0))throw console.debug(\"Unknown operation: \"+P,r),P;s.push(P);}}}t.x=l,t.y=v,t.nStems=i,t.haveWidth=h,t.width=d,t.open=f;};var t=e,a={Typr:t};return r.Typr=t,r.default=a,Object.defineProperty(r,\"__esModule\",{value:!0}),r}({}).Typr}\n\n/*!\nCustom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate\n(https://github.com/101arrowz/fflate) for use in Troika text rendering. \nOriginal licenses apply: \n- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)\n- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)\n*/\nfunction woff2otfFactory(){return function(r){var e=Uint8Array,n=Uint16Array,t=Uint32Array,a=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=function(r,e){for(var a=new n(31),i=0;i<31;++i)a[i]=e+=1<<r[i-1];var o=new t(a[30]);for(i=1;i<30;++i)for(var f=a[i];f<a[i+1];++f)o[f]=f-a[i]<<5|i;return [a,o]},u=f(a,2),v=u[0],s=u[1];v[28]=258,s[258]=28;for(var l=f(i,0)[0],c=new n(32768),g=0;g<32768;++g){var h=(43690&g)>>>1|(21845&g)<<1;h=(61680&(h=(52428&h)>>>2|(13107&h)<<2))>>>4|(3855&h)<<4,c[g]=((65280&h)>>>8|(255&h)<<8)>>>1;}var w=function(r,e,t){for(var a=r.length,i=0,o=new n(e);i<a;++i)++o[r[i]-1];var f,u=new n(e);for(i=0;i<e;++i)u[i]=u[i-1]+o[i-1]<<1;if(t){f=new n(1<<e);var v=15-e;for(i=0;i<a;++i)if(r[i])for(var s=i<<4|r[i],l=e-r[i],g=u[r[i]-1]++<<l,h=g|(1<<l)-1;g<=h;++g)f[c[g]>>>v]=s;}else for(f=new n(a),i=0;i<a;++i)r[i]&&(f[i]=c[u[r[i]-1]++]>>>15-r[i]);return f},d=new e(288);for(g=0;g<144;++g)d[g]=8;for(g=144;g<256;++g)d[g]=9;for(g=256;g<280;++g)d[g]=7;for(g=280;g<288;++g)d[g]=8;var m=new e(32);for(g=0;g<32;++g)m[g]=5;var b=w(d,9,1),p=w(m,5,1),y=function(r){for(var e=r[0],n=1;n<r.length;++n)r[n]>e&&(e=r[n]);return e},L=function(r,e,n){var t=e/8|0;return (r[t]|r[t+1]<<8)>>(7&e)&n},U=function(r,e){var n=e/8|0;return (r[n]|r[n+1]<<8|r[n+2]<<16)>>(7&e)},k=[\"unexpected EOF\",\"invalid block type\",\"invalid length/literal\",\"invalid distance\",\"stream finished\",\"no stream handler\",,\"no callback\",\"invalid UTF-8 data\",\"extra field too long\",\"date not in range 1980-2099\",\"filename too long\",\"stream finishing\",\"invalid zip data\"],T=function(r,e,n){var t=new Error(e||k[r]);if(t.code=r,Error.captureStackTrace&&Error.captureStackTrace(t,T),!n)throw t;return t},O=function(r,f,u){var s=r.length;if(!s||u&&!u.l&&s<5)return f||new e(0);var c=!f||u,g=!u||u.i;u||(u={}),f||(f=new e(3*s));var h,d=function(r){var n=f.length;if(r>n){var t=new e(Math.max(2*n,r));t.set(f),f=t;}},m=u.f||0,k=u.p||0,O=u.b||0,A=u.l,x=u.d,E=u.m,D=u.n,M=8*s;do{if(!A){u.f=m=L(r,k,1);var S=L(r,k+1,3);if(k+=3,!S){var V=r[(I=((h=k)/8|0)+(7&h&&1)+4)-4]|r[I-3]<<8,_=I+V;if(_>s){g&&T(0);break}c&&d(O+V),f.set(r.subarray(I,_),O),u.b=O+=V,u.p=k=8*_;continue}if(1==S)A=b,x=p,E=9,D=5;else if(2==S){var j=L(r,k,31)+257,z=L(r,k+10,15)+4,C=j+L(r,k+5,31)+1;k+=14;for(var F=new e(C),P=new e(19),q=0;q<z;++q)P[o[q]]=L(r,k+3*q,7);k+=3*z;var B=y(P),G=(1<<B)-1,H=w(P,B,1);for(q=0;q<C;){var I,J=H[L(r,k,G)];if(k+=15&J,(I=J>>>4)<16)F[q++]=I;else {var K=0,N=0;for(16==I?(N=3+L(r,k,3),k+=2,K=F[q-1]):17==I?(N=3+L(r,k,7),k+=3):18==I&&(N=11+L(r,k,127),k+=7);N--;)F[q++]=K;}}var Q=F.subarray(0,j),R=F.subarray(j);E=y(Q),D=y(R),A=w(Q,E,1),x=w(R,D,1);}else T(1);if(k>M){g&&T(0);break}}c&&d(O+131072);for(var W=(1<<E)-1,X=(1<<D)-1,Y=k;;Y=k){var Z=(K=A[U(r,k)&W])>>>4;if((k+=15&K)>M){g&&T(0);break}if(K||T(2),Z<256)f[O++]=Z;else {if(256==Z){Y=k,A=null;break}var $=Z-254;if(Z>264){var rr=a[q=Z-257];$=L(r,k,(1<<rr)-1)+v[q],k+=rr;}var er=x[U(r,k)&X],nr=er>>>4;er||T(3),k+=15&er;R=l[nr];if(nr>3){rr=i[nr];R+=U(r,k)&(1<<rr)-1,k+=rr;}if(k>M){g&&T(0);break}c&&d(O+131072);for(var tr=O+$;O<tr;O+=4)f[O]=f[O-R],f[O+1]=f[O+1-R],f[O+2]=f[O+2-R],f[O+3]=f[O+3-R];O=tr;}}u.l=A,u.p=Y,u.b=O,A&&(m=1,u.m=E,u.d=x,u.n=D);}while(!m);return O==f.length?f:function(r,a,i){(null==a||a<0)&&(a=0),(null==i||i>r.length)&&(i=r.length);var o=new(r instanceof n?n:r instanceof t?t:e)(i-a);return o.set(r.subarray(a,i)),o}(f,0,O)},A=new e(0);var x=\"undefined\"!=typeof TextDecoder&&new TextDecoder;try{x.decode(A,{stream:!0}),1;}catch(r){}return r.convert_streams=function(r){var e=new DataView(r),n=0;function t(){var r=e.getUint16(n);return n+=2,r}function a(){var r=e.getUint32(n);return n+=4,r}function i(r){m.setUint16(b,r),b+=2;}function o(r){m.setUint32(b,r),b+=4;}for(var f={signature:a(),flavor:a(),length:a(),numTables:t(),reserved:t(),totalSfntSize:a(),majorVersion:t(),minorVersion:t(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},u=0;Math.pow(2,u)<=f.numTables;)u++;u--;for(var v=16*Math.pow(2,u),s=16*f.numTables-v,l=12,c=[],g=0;g<f.numTables;g++)c.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),l+=16;var h,w=new Uint8Array(12+16*c.length+c.reduce((function(r,e){return r+e.origLength+4}),0)),d=w.buffer,m=new DataView(d),b=0;return o(f.flavor),i(f.numTables),i(v),i(u),i(s),c.forEach((function(r){o(r.tag),o(r.origChecksum),o(l),o(r.origLength),r.outOffset=l,(l+=r.origLength)%4!=0&&(l+=4-l%4);})),c.forEach((function(e){var n,t=r.slice(e.offset,e.offset+e.compLength);if(e.compLength!=e.origLength){var a=new Uint8Array(e.origLength);n=new Uint8Array(t,2),O(n,a);}else a=new Uint8Array(t);w.set(a,e.outOffset);var i=0;(l=e.outOffset+e.origLength)%4!=0&&(i=4-l%4),w.set(new Uint8Array(i).buffer,e.outOffset+e.origLength),h=l+i;})),d.slice(0,h)},Object.defineProperty(r,\"__esModule\",{value:!0}),r}({}).convert_streams}\n\n/**\n * A factory wrapper parsing a font file using Typr.\n * Also adds support for WOFF files (not WOFF2).\n */\n\n/**\n * @typedef ParsedFont\n * @property {number} ascender\n * @property {number} descender\n * @property {number} xHeight\n * @property {(number) => boolean} supportsCodePoint\n * @property {(text:string, fontSize:number, letterSpacing:number, callback) => number} forEachGlyph\n * @property {number} lineGap\n * @property {number} capHeight\n * @property {number} unitsPerEm\n */\n\n/**\n * @typedef {(buffer: ArrayBuffer) => ParsedFont} FontParser\n */\n\n/**\n * @returns {FontParser}\n */\nfunction parserFactory(Typr, woff2otf) {\n  const cmdArgLengths = {\n    M: 2,\n    L: 2,\n    Q: 4,\n    C: 6,\n    Z: 0\n  };\n\n  // {joinType: \"skip+step,...\"}\n  const joiningTypeRawData = {\"C\":\"18g,ca,368,1kz\",\"D\":\"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v\",\"R\":\"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6\",\"L\":\"x9u,jff,a,fd,jv\",\"T\":\"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n\"};\n\n  const JT_LEFT = 1, //indicates that a character joins with the subsequent character, but does not join with the preceding character.\n    JT_RIGHT = 2, //indicates that a character joins with the preceding character, but does not join with the subsequent character.\n    JT_DUAL = 4, //indicates that a character joins with the preceding character and joins with the subsequent character.\n    JT_TRANSPARENT = 8, //indicates that the character does not join with adjacent characters and that the character must be skipped over when the shaping engine is evaluating the joining positions in a sequence of characters. When a JT_TRANSPARENT character is encountered in a sequence, the JOINING_TYPE of the preceding character passes through. Diacritical marks are frequently assigned this value.\n    JT_JOIN_CAUSING = 16, //indicates that the character forces the use of joining forms with the preceding and subsequent characters. Kashidas and the Zero Width Joiner (U+200D) are both JOIN_CAUSING characters.\n    JT_NON_JOINING = 32; //indicates that a character does not join with the preceding or with the subsequent character.,\n\n  let joiningTypeMap;\n  function getCharJoiningType(ch) {\n    if (!joiningTypeMap) {\n      const m = {\n        R: JT_RIGHT,\n        L: JT_LEFT,\n        D: JT_DUAL,\n        C: JT_JOIN_CAUSING,\n        U: JT_NON_JOINING,\n        T: JT_TRANSPARENT\n      };\n      joiningTypeMap = new Map();\n      for (let type in joiningTypeRawData) {\n        let lastCode = 0;\n        joiningTypeRawData[type].split(',').forEach(range => {\n          let [skip, step] = range.split('+');\n          skip = parseInt(skip,36);\n          step = step ? parseInt(step, 36) : 0;\n          joiningTypeMap.set(lastCode += skip, m[type]);\n          for (let i = step; i--;) {\n            joiningTypeMap.set(++lastCode, m[type]);\n          }\n        });\n      }\n    }\n    return joiningTypeMap.get(ch) || JT_NON_JOINING\n  }\n\n  const ISOL = 1, INIT = 2, FINA = 3, MEDI = 4;\n  const formsToFeatures = [null, 'isol', 'init', 'fina', 'medi'];\n\n  function detectJoiningForms(str) {\n    // This implements the algorithm described here:\n    // https://github.com/n8willis/opentype-shaping-documents/blob/master/opentype-shaping-arabic-general.md\n    const joiningForms = new Uint8Array(str.length);\n    let prevJoiningType = JT_NON_JOINING;\n    let prevForm = ISOL;\n    let prevIndex = -1;\n    for (let i = 0; i < str.length; i++) {\n      const code = str.codePointAt(i);\n      let joiningType = getCharJoiningType(code) | 0;\n      let form = ISOL;\n      if (joiningType & JT_TRANSPARENT) {\n        continue\n      }\n      if (prevJoiningType & (JT_LEFT | JT_DUAL | JT_JOIN_CAUSING)) {\n        if (joiningType & (JT_RIGHT | JT_DUAL | JT_JOIN_CAUSING)) {\n          form = FINA;\n          // isol->init, fina->medi\n          if (prevForm === ISOL || prevForm === FINA) {\n            joiningForms[prevIndex]++;\n          }\n        }\n        else if (joiningType & (JT_LEFT | JT_NON_JOINING)) {\n          // medi->fina, init->isol\n          if (prevForm === INIT || prevForm === MEDI) {\n            joiningForms[prevIndex]--;\n          }\n        }\n      }\n      else if (prevJoiningType & (JT_RIGHT | JT_NON_JOINING)) {\n        // medi->fina, init->isol\n        if (prevForm === INIT || prevForm === MEDI) {\n          joiningForms[prevIndex]--;\n        }\n      }\n      prevForm = joiningForms[i] = form;\n      prevJoiningType = joiningType;\n      prevIndex = i;\n      if (code > 0xffff) i++;\n    }\n    // console.log(str.split('').map(ch => ch.codePointAt(0).toString(16)))\n    // console.log(str.split('').map(ch => getCharJoiningType(ch.codePointAt(0))))\n    // console.log(Array.from(joiningForms).map(f => formsToFeatures[f] || 'none'))\n    return joiningForms\n  }\n\n  function stringToGlyphs (font, str) {\n    const glyphIds = [];\n    for (let i = 0; i < str.length; i++) {\n      const cc = str.codePointAt(i);\n      if (cc > 0xffff) i++;\n      glyphIds.push(Typr.U.codeToGlyph(font, cc));\n    }\n\n    const gsub = font['GSUB'];\n    if (gsub) {\n      const {lookupList, featureList} = gsub;\n      let joiningForms;\n      const supportedFeatures = /^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/;\n      const usedLookups = [];\n      featureList.forEach(feature => {\n        if (supportedFeatures.test(feature.tag)) {\n          for (let ti = 0; ti < feature.tab.length; ti++) {\n            if (usedLookups[feature.tab[ti]]) continue\n            usedLookups[feature.tab[ti]] = true;\n            const tab = lookupList[feature.tab[ti]];\n            const isJoiningFeature = /^(isol|init|fina|medi)$/.test(feature.tag);\n            if (isJoiningFeature && !joiningForms) { //lazy\n              joiningForms = detectJoiningForms(str);\n            }\n            for (let ci = 0; ci < glyphIds.length; ci++) {\n              if (!joiningForms || !isJoiningFeature || formsToFeatures[joiningForms[ci]] === feature.tag) {\n                Typr.U._applySubs(glyphIds, ci, tab, lookupList);\n              }\n            }\n          }\n        }\n      });\n    }\n\n    return glyphIds\n  }\n\n  // Calculate advances and x/y offsets for each glyph, e.g. kerning and mark\n  // attachments. This is a more complete version of Typr.U.getPairAdjustment\n  // and should become an upstream replacement eventually.\n  function calcGlyphPositions(font, glyphIds) {\n    const positions = new Int16Array(glyphIds.length * 3); // [offsetX, offsetY, advanceX, ...]\n    let glyphIndex = 0;\n    for (; glyphIndex < glyphIds.length; glyphIndex++) {\n      const glyphId = glyphIds[glyphIndex];\n      if (glyphId === -1) continue;\n\n      positions[glyphIndex * 3 + 2] = font.hmtx.aWidth[glyphId]; // populate advanceX in...advance.\n\n      const gpos = font.GPOS;\n      if (gpos) {\n        const llist = gpos.lookupList;\n        for (let i = 0; i < llist.length; i++) {\n          const lookup = llist[i];\n          for (let j = 0; j < lookup.tabs.length; j++) {\n            const tab = lookup.tabs[j];\n            // Single char placement\n            if (lookup.ltype === 1) {\n              const ind = Typr._lctf.coverageIndex(tab.coverage, glyphId);\n              if (ind !== -1 && tab.pos) {\n                applyValueRecord(tab.pos, glyphIndex);\n                break\n              }\n            }\n            // Pairs (kerning)\n            else if (lookup.ltype === 2) {\n              let adj = null;\n              let prevGlyphIndex = getPrevGlyphIndex();\n              if (prevGlyphIndex !== -1) {\n                const coverageIndex = Typr._lctf.coverageIndex(tab.coverage, glyphIds[prevGlyphIndex]);\n                if (coverageIndex !== -1) {\n                  if (tab.fmt === 1) {\n                    const right = tab.pairsets[coverageIndex];\n                    for (let k = 0; k < right.length; k++) {\n                      if (right[k].gid2 === glyphId) adj = right[k];\n                    }\n                  } else if (tab.fmt === 2) {\n                    const c1 = Typr.U._getGlyphClass(glyphIds[prevGlyphIndex], tab.classDef1);\n                    const c2 = Typr.U._getGlyphClass(glyphId, tab.classDef2);\n                    adj = tab.matrix[c1][c2];\n                  }\n                  if (adj) {\n                    if (adj.val1) applyValueRecord(adj.val1, prevGlyphIndex);\n                    if (adj.val2) applyValueRecord(adj.val2, glyphIndex);\n                    break\n                  }\n                }\n              }\n            }\n            // Mark to base\n            else if (lookup.ltype === 4) {\n              const markArrIndex = Typr._lctf.coverageIndex(tab.markCoverage, glyphId);\n              if (markArrIndex !== -1) {\n                const baseGlyphIndex = getPrevGlyphIndex(isBaseGlyph);\n                const baseArrIndex = baseGlyphIndex === -1 ? -1 : Typr._lctf.coverageIndex(tab.baseCoverage, glyphIds[baseGlyphIndex]);\n                if (baseArrIndex !== -1) {\n                  const markRecord = tab.markArray[markArrIndex];\n                  const baseAnchor = tab.baseArray[baseArrIndex][markRecord.markClass];\n                  positions[glyphIndex * 3] = baseAnchor.x - markRecord.x + positions[baseGlyphIndex * 3] - positions[baseGlyphIndex * 3 + 2];\n                  positions[glyphIndex * 3 + 1] = baseAnchor.y - markRecord.y + positions[baseGlyphIndex * 3 + 1];\n                  break;\n                }\n              }\n            }\n            // Mark to mark\n            else if (lookup.ltype === 6) {\n              const mark1ArrIndex = Typr._lctf.coverageIndex(tab.mark1Coverage, glyphId);\n              if (mark1ArrIndex !== -1) {\n                const prevGlyphIndex = getPrevGlyphIndex();\n                if (prevGlyphIndex !== -1) {\n                  const prevGlyphId = glyphIds[prevGlyphIndex];\n                  if (getGlyphClass(font, prevGlyphId) === 3) { // only check mark glyphs\n                    const mark2ArrIndex = Typr._lctf.coverageIndex(tab.mark2Coverage, prevGlyphId);\n                    if (mark2ArrIndex !== -1) {\n                      const mark1Record = tab.mark1Array[mark1ArrIndex];\n                      const mark2Anchor = tab.mark2Array[mark2ArrIndex][mark1Record.markClass];\n                      positions[glyphIndex * 3] = mark2Anchor.x - mark1Record.x + positions[prevGlyphIndex * 3] - positions[prevGlyphIndex * 3 + 2];\n                      positions[glyphIndex * 3 + 1] = mark2Anchor.y - mark1Record.y + positions[prevGlyphIndex * 3 + 1];\n                      break;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      // Check kern table if no GPOS\n      else if (font.kern && !font.cff) {\n        const prevGlyphIndex = getPrevGlyphIndex();\n        if (prevGlyphIndex !== -1) {\n          const ind1 = font.kern.glyph1.indexOf(glyphIds[prevGlyphIndex]);\n          if (ind1 !== -1) {\n            const ind2 = font.kern.rval[ind1].glyph2.indexOf(glyphId);\n            if (ind2 !== -1) {\n              positions[prevGlyphIndex * 3 + 2] += font.kern.rval[ind1].vals[ind2];\n            }\n          }\n        }\n      }\n    }\n\n    return positions;\n\n    function getPrevGlyphIndex(filter) {\n      for (let i = glyphIndex - 1; i >=0; i--) {\n        if (glyphIds[i] !== -1 && (!filter || filter(glyphIds[i]))) {\n          return i\n        }\n      }\n      return -1;\n    }\n\n    function isBaseGlyph(glyphId) {\n      return getGlyphClass(font, glyphId) === 1;\n    }\n\n    function applyValueRecord(source, gi) {\n      for (let i = 0; i < 3; i++) {\n        positions[gi * 3 + i] += source[i] || 0;\n      }\n    }\n  }\n\n  function getGlyphClass(font, glyphId) {\n    const classDef = font.GDEF && font.GDEF.glyphClassDef;\n    return classDef ? Typr.U._getGlyphClass(glyphId, classDef) : 0;\n  }\n\n  function firstNum(...args) {\n    for (let i = 0; i < args.length; i++) {\n      if (typeof args[i] === 'number') {\n        return args[i]\n      }\n    }\n  }\n\n  /**\n   * @returns ParsedFont\n   */\n  function wrapFontObj(typrFont) {\n    const glyphMap = Object.create(null);\n\n    const os2 = typrFont['OS/2'];\n    const hhea = typrFont.hhea;\n    const unitsPerEm = typrFont.head.unitsPerEm;\n    const ascender = firstNum(os2 && os2.sTypoAscender, hhea && hhea.ascender, unitsPerEm);\n\n    /** @type ParsedFont */\n    const fontObj = {\n      unitsPerEm,\n      ascender,\n      descender: firstNum(os2 && os2.sTypoDescender, hhea && hhea.descender, 0),\n      capHeight: firstNum(os2 && os2.sCapHeight, ascender),\n      xHeight: firstNum(os2 && os2.sxHeight, ascender),\n      lineGap: firstNum(os2 && os2.sTypoLineGap, hhea && hhea.lineGap),\n      supportsCodePoint(code) {\n        return Typr.U.codeToGlyph(typrFont, code) > 0\n      },\n      forEachGlyph(text, fontSize, letterSpacing, callback) {\n        let penX = 0;\n        const fontScale = 1 / fontObj.unitsPerEm * fontSize;\n\n        const glyphIds = stringToGlyphs(typrFont, text);\n        let charIndex = 0;\n        const positions = calcGlyphPositions(typrFont, glyphIds);\n\n        glyphIds.forEach((glyphId, i) => {\n          // Typr returns a glyph index per string codepoint, with -1s in place of those that\n          // were omitted due to ligature substitution. So we can track original index in the\n          // string via simple increment, and skip everything else when seeing a -1.\n          if (glyphId !== -1) {\n            let glyphObj = glyphMap[glyphId];\n            if (!glyphObj) {\n              const {cmds, crds} = Typr.U.glyphToPath(typrFont, glyphId);\n\n              // Build path string\n              let path = '';\n              let crdsIdx = 0;\n              for (let i = 0, len = cmds.length; i < len; i++) {\n                const numArgs = cmdArgLengths[cmds[i]];\n                path += cmds[i];\n                for (let j = 1; j <= numArgs; j++) {\n                  path += (j > 1 ? ',' : '') + crds[crdsIdx++];\n                }\n              }\n\n              // Find extents - Glyf gives this in metadata but not CFF, and Typr doesn't\n              // normalize the two, so it's simplest just to iterate ourselves.\n              let xMin, yMin, xMax, yMax;\n              if (crds.length) {\n                xMin = yMin = Infinity;\n                xMax = yMax = -Infinity;\n                for (let i = 0, len = crds.length; i < len; i += 2) {\n                  let x = crds[i];\n                  let y = crds[i + 1];\n                  if (x < xMin) xMin = x;\n                  if (y < yMin) yMin = y;\n                  if (x > xMax) xMax = x;\n                  if (y > yMax) yMax = y;\n                }\n              } else {\n                xMin = xMax = yMin = yMax = 0;\n              }\n\n              glyphObj = glyphMap[glyphId] = {\n                index: glyphId,\n                advanceWidth: typrFont.hmtx.aWidth[glyphId],\n                xMin,\n                yMin,\n                xMax,\n                yMax,\n                path,\n              };\n            }\n\n            callback.call(\n              null,\n              glyphObj,\n              penX + positions[i * 3] * fontScale,\n              positions[i * 3 + 1] * fontScale,\n              charIndex\n            );\n\n            penX += positions[i * 3 + 2] * fontScale;\n            if (letterSpacing) {\n              penX += letterSpacing * fontSize;\n            }\n          }\n          charIndex += (text.codePointAt(charIndex) > 0xffff ? 2 : 1);\n        });\n\n        return penX\n      }\n    };\n\n    return fontObj\n  }\n\n  /**\n   * @type FontParser\n   */\n  return function parse(buffer) {\n    // Look to see if we have a WOFF file and convert it if so:\n    const peek = new Uint8Array(buffer, 0, 4);\n    const tag = Typr._bin.readASCII(peek, 0, 4);\n    if (tag === 'wOFF') {\n      buffer = woff2otf(buffer);\n    } else if (tag === 'wOF2') {\n      throw new Error('woff2 fonts not supported')\n    }\n    return wrapFontObj(Typr.parse(buffer)[0])\n  }\n}\n\n\nconst workerModule = /*#__PURE__*/defineWorkerModule({\n  name: 'Typr Font Parser',\n  dependencies: [typrFactory, woff2otfFactory, parserFactory],\n  init(typrFactory, woff2otfFactory, parserFactory) {\n    const Typr = typrFactory();\n    const woff2otf = woff2otfFactory();\n    return parserFactory(Typr, woff2otf)\n  }\n});\n\n/*!\nCustom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)\nfor use in Troika text rendering. \nOriginal MIT license applies\n*/\nfunction unicodeFontResolverClientFactory(){return function(t){var n=function(){this.buckets=new Map;};n.prototype.add=function(t){var n=t>>5;this.buckets.set(n,(this.buckets.get(n)||0)|1<<(31&t));},n.prototype.has=function(t){var n=this.buckets.get(t>>5);return void 0!==n&&0!=(n&1<<(31&t))},n.prototype.serialize=function(){var t=[];return this.buckets.forEach((function(n,r){t.push((+r).toString(36)+\":\"+n.toString(36));})),t.join(\",\")},n.prototype.deserialize=function(t){var n=this;this.buckets.clear(),t.split(\",\").forEach((function(t){var r=t.split(\":\");n.buckets.set(parseInt(r[0],36),parseInt(r[1],36));}));};var r=Math.pow(2,8),e=r-1,o=~e;function a(t){var n=function(t){return t&o}(t).toString(16),e=function(t){return (t&o)+r-1}(t).toString(16);return \"codepoint-index/plane\"+(t>>16)+\"/\"+n+\"-\"+e+\".json\"}function i(t,n){var r=t&e,o=n.codePointAt(r/6|0);return 0!=((o=(o||48)-48)&1<<r%6)}function u(t,n){var r;(r=t,r.replace(/U\\+/gi,\"\").replace(/^,+|,+$/g,\"\").split(/,+/).map((function(t){return t.split(\"-\").map((function(t){return parseInt(t.trim(),16)}))}))).forEach((function(t){var r=t[0],e=t[1];void 0===e&&(e=r),n(r,e);}));}function c(t,n){u(t,(function(t,r){for(var e=t;e<=r;e++)n(e);}));}var s={},f={},l=new WeakMap,v=\"https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data\";function d(t){var r=l.get(t);return r||(r=new n,c(t.ranges,(function(t){return r.add(t)})),l.set(t,r)),r}var h,p=new Map;function g(t,n,r){return t[n]?n:t[r]?r:function(t){for(var n in t)return n}(t)}function w(t,n){var r=n;if(!t.includes(r)){r=1/0;for(var e=0;e<t.length;e++)Math.abs(t[e]-n)<Math.abs(r-n)&&(r=t[e]);}return r}function k(t){return h||(h=new Set,c(\"9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000\",(function(t){h.add(t);}))),h.has(t)}return t.CodePointSet=n,t.clearCache=function(){s={},f={};},t.getFontsForString=function(t,n){void 0===n&&(n={});var r,e=n.lang;void 0===e&&(e=/\\p{Script=Hangul}/u.test(r=t)?\"ko\":/\\p{Script=Hiragana}|\\p{Script=Katakana}/u.test(r)?\"ja\":\"en\");var o=n.category;void 0===o&&(o=\"sans-serif\");var u=n.style;void 0===u&&(u=\"normal\");var c=n.weight;void 0===c&&(c=400);var l=(n.dataUrl||v).replace(/\\/$/g,\"\"),h=new Map,y=new Uint8Array(t.length),b={},m={},A=new Array(t.length),S=new Map,j=!1;function M(t){var n=p.get(t);return n||(n=fetch(l+\"/\"+t).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json().then((function(t){if(!Array.isArray(t)||1!==t[0])throw new Error(\"Incorrect schema version; need 1, got \"+t[0]);return t[1]}))})).catch((function(n){if(l!==v)return j||(console.error('unicode-font-resolver: Failed loading from dataUrl \"'+l+'\", trying default CDN. '+n.message),j=!0),l=v,p.delete(t),M(t);throw n})),p.set(t,n)),n}for(var P=function(n){var r=t.codePointAt(n),e=a(r);A[n]=e,s[e]||S.has(e)||S.set(e,M(e).then((function(t){s[e]=t;}))),r>65535&&(n++,E=n);},E=0;E<t.length;E++)P(E);return Promise.all(S.values()).then((function(){S.clear();for(var n=function(n){var o=t.codePointAt(n),a=null,u=s[A[n]],c=void 0;for(var l in u){var v=m[l];if(void 0===v&&(v=m[l]=new RegExp(l).test(e||\"en\")),v){for(var d in c=l,u[l])if(i(o,u[l][d])){a=d;break}break}}if(!a)t:for(var h in u)if(h!==c)for(var p in u[h])if(i(o,u[h][p])){a=p;break t}a||(console.debug(\"No font coverage for U+\"+o.toString(16)),a=\"latin\"),A[n]=a,f[a]||S.has(a)||S.set(a,M(\"font-meta/\"+a+\".json\").then((function(t){f[a]=t;}))),o>65535&&(n++,r=n);},r=0;r<t.length;r++)n(r);return Promise.all(S.values())})).then((function(){for(var n,r=null,e=0;e<t.length;e++){var a=t.codePointAt(e);if(r&&(k(a)||d(r).has(a)))y[e]=y[e-1];else {r=f[A[e]];var i=b[r.id];if(!i){var s=r.typeforms,v=g(s,o,\"sans-serif\"),p=g(s[v],u,\"normal\"),m=w(null===(n=s[v])||void 0===n?void 0:n[p],c);i=b[r.id]=l+\"/font-files/\"+r.id+\"/\"+v+\".\"+p+\".\"+m+\".woff\";}var S=h.get(i);null==S&&(S=h.size,h.set(i,S)),y[e]=S;}a>65535&&(e++,y[e]=y[e-1]);}return {fontUrls:Array.from(h.keys()),chars:y}}))},Object.defineProperty(t,\"__esModule\",{value:!0}),t}({})}\n\n/**\n * @typedef {string | {src:string, label?:string, unicodeRange?:string, lang?:string}} UserFont\n */\n\n/**\n * @typedef {ClientOptions} FontResolverOptions\n * @property {Array<UserFont>|UserFont} [fonts]\n * @property {'normal'|'italic'} [style]\n * @property {'normal'|'bold'|number} [style]\n * @property {string} [unicodeFontsURL]\n */\n\n/**\n * @typedef {Object} FontResolverResult\n * @property {Uint8Array} chars\n * @property {Array<ParsedFont & {src:string}>} fonts\n */\n\n/**\n * @typedef {function} FontResolver\n * @param {string} text\n * @param {(FontResolverResult) => void} callback\n * @param {FontResolverOptions} [options]\n */\n\n/**\n * Factory for the FontResolver function.\n * @param {FontParser} fontParser\n * @param {{getFontsForString: function, CodePointSet: function}} unicodeFontResolverClient\n * @return {FontResolver}\n */\nfunction createFontResolver(fontParser, unicodeFontResolverClient) {\n  /**\n   * @type {Record<string, ParsedFont>}\n   */\n  const parsedFonts = Object.create(null);\n\n  /**\n   * @type {Record<string, Array<(ParsedFont) => void>>}\n   */\n  const loadingFonts = Object.create(null);\n\n  /**\n   * Load a given font url\n   */\n  function doLoadFont(url, callback) {\n    const onError = err => {\n      console.error(`Failure loading font ${url}`, err);\n    };\n    try {\n      const request = new XMLHttpRequest();\n      request.open('get', url, true);\n      request.responseType = 'arraybuffer';\n      request.onload = function () {\n        if (request.status >= 400) {\n          onError(new Error(request.statusText));\n        }\n        else if (request.status > 0) {\n          try {\n            const fontObj = fontParser(request.response);\n            fontObj.src = url;\n            callback(fontObj);\n          } catch (e) {\n            onError(e);\n          }\n        }\n      };\n      request.onerror = onError;\n      request.send();\n    } catch(err) {\n      onError(err);\n    }\n  }\n\n\n  /**\n   * Load a given font url if needed, invoking a callback when it's loaded. If already\n   * loaded, the callback will be called synchronously.\n   * @param {string} fontUrl\n   * @param {(font: ParsedFont) => void} callback\n   */\n  function loadFont(fontUrl, callback) {\n    let font = parsedFonts[fontUrl];\n    if (font) {\n      callback(font);\n    } else if (loadingFonts[fontUrl]) {\n      loadingFonts[fontUrl].push(callback);\n    } else {\n      loadingFonts[fontUrl] = [callback];\n      doLoadFont(fontUrl, fontObj => {\n        fontObj.src = fontUrl;\n        parsedFonts[fontUrl] = fontObj;\n        loadingFonts[fontUrl].forEach(cb => cb(fontObj));\n        delete loadingFonts[fontUrl];\n      });\n    }\n  }\n\n  /**\n   * For a given string of text, determine which fonts are required to fully render it and\n   * ensure those fonts are loaded.\n   */\n  return function (text, callback, {\n    lang,\n    fonts: userFonts = [],\n    style = 'normal',\n    weight = 'normal',\n    unicodeFontsURL\n  } = {}) {\n    const charResolutions = new Uint8Array(text.length);\n    const fontResolutions = [];\n    if (!text.length) {\n      allDone();\n    }\n\n    const fontIndices = new Map();\n    const fallbackRanges = []; // [[start, end], ...]\n\n    if (style !== 'italic') style = 'normal';\n    if (typeof weight !== 'number') {\n      weight = weight === 'bold' ? 700 : 400;\n    }\n\n    if (userFonts && !Array.isArray(userFonts)) {\n      userFonts = [userFonts];\n    }\n    userFonts = userFonts.slice()\n      // filter by language\n      .filter(def => !def.lang || def.lang.test(lang))\n      // switch order for easier iteration\n      .reverse();\n    if (userFonts.length) {\n      const UNKNOWN = 0;\n      const RESOLVED = 1;\n      const NEEDS_FALLBACK = 2;\n      let prevCharResult = UNKNOWN\n\n      ;(function resolveUserFonts (startIndex = 0) {\n        for (let i = startIndex, iLen = text.length; i < iLen; i++) {\n          const codePoint = text.codePointAt(i);\n          // Carry previous character's result forward if:\n          // - it resolved to a font that also covers this character\n          // - this character is whitespace\n          if (\n            (prevCharResult === RESOLVED && fontResolutions[charResolutions[i - 1]].supportsCodePoint(codePoint)) ||\n            (i > 0 && /\\s/.test(text[i]))\n          ) {\n            charResolutions[i] = charResolutions[i - 1];\n            if (prevCharResult === NEEDS_FALLBACK) {\n              fallbackRanges[fallbackRanges.length - 1][1] = i;\n            }\n          } else {\n            for (let j = charResolutions[i], jLen = userFonts.length; j <= jLen; j++) {\n              if (j === jLen) {\n                // none of the user fonts matched; needs fallback\n                const range = prevCharResult === NEEDS_FALLBACK ?\n                  fallbackRanges[fallbackRanges.length - 1] :\n                  (fallbackRanges[fallbackRanges.length] = [i, i]);\n                range[1] = i;\n                prevCharResult = NEEDS_FALLBACK;\n              } else {\n                charResolutions[i] = j;\n                const { src, unicodeRange } = userFonts[j];\n                // filter by optional explicit unicode ranges\n                if (!unicodeRange || isCodeInRanges(codePoint, unicodeRange)) {\n                  const fontObj = parsedFonts[src];\n                  // font not yet loaded, load it and resume\n                  if (!fontObj) {\n                    loadFont(src, () => {\n                      resolveUserFonts(i);\n                    });\n                    return;\n                  }\n                  // if the font actually contains a glyph for this char, lock it in\n                  if (fontObj.supportsCodePoint(codePoint)) {\n                    let fontIndex = fontIndices.get(fontObj);\n                    if (typeof fontIndex !== 'number') {\n                      fontIndex = fontResolutions.length;\n                      fontResolutions.push(fontObj);\n                      fontIndices.set(fontObj, fontIndex);\n                    }\n                    charResolutions[i] = fontIndex;\n                    prevCharResult = RESOLVED;\n                    break;\n                  }\n                }\n              }\n            }\n          }\n\n          if (codePoint > 0xffff && i + 1 < iLen) {\n            charResolutions[i + 1] = charResolutions[i];\n            i++;\n            if (prevCharResult === NEEDS_FALLBACK) {\n              fallbackRanges[fallbackRanges.length - 1][1] = i;\n            }\n          }\n        }\n        resolveFallbacks();\n      })();\n    } else {\n      fallbackRanges.push([0, text.length - 1]);\n      resolveFallbacks();\n    }\n\n    function resolveFallbacks() {\n      if (fallbackRanges.length) {\n        // Combine all fallback substrings into a single string for querying\n        const fallbackString = fallbackRanges.map(range => text.substring(range[0], range[1] + 1)).join('\\n');\n        unicodeFontResolverClient.getFontsForString(fallbackString, {\n          lang: lang || undefined,\n          style,\n          weight,\n          dataUrl: unicodeFontsURL\n        }).then(({fontUrls, chars}) => {\n          // Extract results and put them back in the main array\n          const fontIndexOffset = fontResolutions.length;\n          let charIdx = 0;\n          fallbackRanges.forEach(range => {\n            for (let i = 0, endIdx = range[1] - range[0]; i <= endIdx; i++) {\n              charResolutions[range[0] + i] = chars[charIdx++] + fontIndexOffset;\n            }\n            charIdx++; //skip segment separator\n          });\n\n          // Load and parse the fallback fonts - avoiding Promise here to prevent polyfills in the worker\n          let loadedCount = 0;\n          fontUrls.forEach((url, i) => {\n            loadFont(url, fontObj => {\n              fontResolutions[i + fontIndexOffset] = fontObj;\n              if (++loadedCount === fontUrls.length) {\n                allDone();\n              }\n            });\n          });\n        });\n      } else {\n        allDone();\n      }\n    }\n\n    function allDone() {\n      callback({\n        chars: charResolutions,\n        fonts: fontResolutions\n      });\n    }\n\n    function isCodeInRanges(code, ranges) {\n      // todo optimize search - CodePointSet from unicode-font-resolver?\n      for (let k = 0; k < ranges.length; k++) {\n        const [start, end = start] = ranges[k];\n        if (start <= code && code <= end) {\n          return true\n        }\n      }\n      return false\n    }\n  }\n}\n\nconst fontResolverWorkerModule = /*#__PURE__*/defineWorkerModule({\n  name: 'FontResolver',\n  dependencies: [\n    createFontResolver,\n    workerModule,\n    unicodeFontResolverClientFactory,\n  ],\n  init(createFontResolver, fontParser, unicodeFontResolverClientFactory) {\n    return createFontResolver(fontParser, unicodeFontResolverClientFactory());\n  }\n});\n\n/**\n * @typedef {number|'left'|'center'|'right'} AnchorXValue\n */\n/**\n * @typedef {number|'top'|'top-baseline'|'top-cap'|'top-ex'|'middle'|'bottom-baseline'|'bottom'} AnchorYValue\n */\n\n/**\n * @typedef {object} TypesetParams\n * @property {string} text\n * @property {UserFont|UserFont[]} [font]\n * @property {string} [lang]\n * @property {number} [sdfGlyphSize=64]\n * @property {number} [fontSize=1]\n * @property {number|'normal'|'bold'} [fontWeight='normal']\n * @property {'normal'|'italic'} [fontStyle='normal']\n * @property {number} [letterSpacing=0]\n * @property {'normal'|number} [lineHeight='normal']\n * @property {number} [maxWidth]\n * @property {'ltr'|'rtl'} [direction='ltr']\n * @property {string} [textAlign='left']\n * @property {number} [textIndent=0]\n * @property {'normal'|'nowrap'} [whiteSpace='normal']\n * @property {'normal'|'break-word'} [overflowWrap='normal']\n * @property {AnchorXValue} [anchorX=0]\n * @property {AnchorYValue} [anchorY=0]\n * @property {boolean} [metricsOnly=false]\n * @property {string} [unicodeFontsURL]\n * @property {FontResolverResult} [preResolvedFonts]\n * @property {boolean} [includeCaretPositions=false]\n * @property {number} [chunkedBoundsSize=8192]\n * @property {{[rangeStartIndex]: number}} [colorRanges]\n */\n\n/**\n * @typedef {object} TypesetResult\n * @property {Uint16Array} glyphIds id for each glyph, specific to that glyph's font\n * @property {Uint8Array} glyphFontIndices index into fontData for each glyph\n * @property {Float32Array} glyphPositions x,y of each glyph's origin in layout\n * @property {{[font]: {[glyphId]: {path: string, pathBounds: number[]}}}} glyphData data about each glyph appearing in the text\n * @property {TypesetFontData[]} fontData data about each font used in the text\n * @property {Float32Array} [caretPositions] startX,endX,bottomY caret positions for each char\n * @property {Uint8Array} [glyphColors] color for each glyph, if color ranges supplied\n *         chunkedBounds, //total rects per (n=chunkedBoundsSize) consecutive glyphs\n *         fontSize, //calculated em height\n *         topBaseline: anchorYOffset + lines[0].baseline, //y coordinate of the top line's baseline\n *         blockBounds: [ //bounds for the whole block of text, including vertical padding for lineHeight\n *           anchorXOffset,\n *           anchorYOffset - totalHeight,\n *           anchorXOffset + maxLineWidth,\n *           anchorYOffset\n *         ],\n *         visibleBounds, //total bounds of visible text paths, may be larger or smaller than blockBounds\n *         timings\n */\n\n/**\n * @typedef {object} TypesetFontData\n * @property src\n * @property unitsPerEm\n * @property ascender\n * @property descender\n * @property lineHeight\n * @property capHeight\n * @property xHeight\n */\n\n/**\n * @typedef {function} TypesetterTypesetFunction - compute fonts and layout for some text.\n * @param {TypesetParams} params\n * @param {(TypesetResult) => void} callback - function called when typesetting is complete.\n *    If the params included `preResolvedFonts`, this will be called synchronously.\n */\n\n/**\n * @typedef {function} TypesetterMeasureFunction - compute width/height for some text.\n * @param {TypesetParams} params\n * @param {(width:number, height:number) => void} callback - function called when measurement is complete.\n *    If the params included `preResolvedFonts`, this will be called synchronously.\n */\n\n\n/**\n * Factory function that creates a self-contained environment for processing text typesetting requests.\n *\n * It is important that this function has no closure dependencies, so that it can be easily injected\n * into the source for a Worker without requiring a build step or complex dependency loading. All its\n * dependencies must be passed in at initialization.\n *\n * @param {FontResolver} resolveFonts - function to resolve a string to parsed fonts\n * @param {object} bidi - the bidi.js implementation object\n * @return {{typeset: TypesetterTypesetFunction, measure: TypesetterMeasureFunction}}\n */\nfunction createTypesetter(resolveFonts, bidi) {\n  const INF = Infinity;\n\n  // Set of Unicode Default_Ignorable_Code_Point characters, these will not produce visible glyphs\n  // eslint-disable-next-line no-misleading-character-class\n  const DEFAULT_IGNORABLE_CHARS = /[\\u00AD\\u034F\\u061C\\u115F-\\u1160\\u17B4-\\u17B5\\u180B-\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u206F\\u3164\\uFE00-\\uFE0F\\uFEFF\\uFFA0\\uFFF0-\\uFFF8]/;\n\n  // This regex (instead of /\\s/) allows us to select all whitespace EXCEPT for non-breaking white spaces\n  const lineBreakingWhiteSpace = `[^\\\\S\\\\u00A0]`;\n\n  // Incomplete set of characters that allow line breaking after them\n  // In the future we may consider a full Unicode line breaking algorithm impl: https://www.unicode.org/reports/tr14\n  const BREAK_AFTER_CHARS = new RegExp(`${lineBreakingWhiteSpace}|[\\\\-\\\\u007C\\\\u00AD\\\\u2010\\\\u2012-\\\\u2014\\\\u2027\\\\u2056\\\\u2E17\\\\u2E40]`);\n\n  /**\n   * Load and parse all the necessary fonts to render a given string of text, then group\n   * them into consecutive runs of characters sharing a font.\n   */\n  function calculateFontRuns({text, lang, fonts, style, weight, preResolvedFonts, unicodeFontsURL}, onDone) {\n    const onResolved = ({chars, fonts: parsedFonts}) => {\n      let curRun, prevVal;\n      const runs = [];\n      for (let i = 0; i < chars.length; i++) {\n        if (chars[i] !== prevVal) {\n          prevVal = chars[i];\n          runs.push(curRun = { start: i, end: i, fontObj: parsedFonts[chars[i]]});\n        } else {\n          curRun.end = i;\n        }\n      }\n      onDone(runs);\n    };\n    if (preResolvedFonts) {\n      onResolved(preResolvedFonts);\n    } else {\n      resolveFonts(\n        text,\n        onResolved,\n        { lang, fonts, style, weight, unicodeFontsURL }\n      );\n    }\n  }\n\n  /**\n   * Main entry point.\n   * Process a text string with given font and formatting parameters, and return all info\n   * necessary to render all its glyphs.\n   * @type TypesetterTypesetFunction\n   */\n  function typeset(\n    {\n      text='',\n      font,\n      lang,\n      sdfGlyphSize=64,\n      fontSize=400,\n      fontWeight=1,\n      fontStyle='normal',\n      letterSpacing=0,\n      lineHeight='normal',\n      maxWidth=INF,\n      direction,\n      textAlign='left',\n      textIndent=0,\n      whiteSpace='normal',\n      overflowWrap='normal',\n      anchorX = 0,\n      anchorY = 0,\n      metricsOnly=false,\n      unicodeFontsURL,\n      preResolvedFonts=null,\n      includeCaretPositions=false,\n      chunkedBoundsSize=8192,\n      colorRanges=null\n    },\n    callback\n  ) {\n    const mainStart = now();\n    const timings = {fontLoad: 0, typesetting: 0};\n\n    // Ensure newlines are normalized\n    if (text.indexOf('\\r') > -1) {\n      console.info('Typesetter: got text with \\\\r chars; normalizing to \\\\n');\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n    }\n\n    // Ensure we've got numbers not strings\n    fontSize = +fontSize;\n    letterSpacing = +letterSpacing;\n    maxWidth = +maxWidth;\n    lineHeight = lineHeight || 'normal';\n    textIndent = +textIndent;\n\n    calculateFontRuns({\n      text,\n      lang,\n      style: fontStyle,\n      weight: fontWeight,\n      fonts: typeof font === 'string' ? [{src: font}] : font,\n      unicodeFontsURL,\n      preResolvedFonts\n    }, runs => {\n      timings.fontLoad = now() - mainStart;\n      const hasMaxWidth = isFinite(maxWidth);\n      let glyphIds = null;\n      let glyphFontIndices = null;\n      let glyphPositions = null;\n      let glyphData = null;\n      let glyphColors = null;\n      let caretPositions = null;\n      let visibleBounds = null;\n      let chunkedBounds = null;\n      let maxLineWidth = 0;\n      let renderableGlyphCount = 0;\n      let canWrap = whiteSpace !== 'nowrap';\n      const metricsByFont = new Map(); // fontObj -> metrics\n      const typesetStart = now();\n\n      // Distribute glyphs into lines based on wrapping\n      let lineXOffset = textIndent;\n      let prevRunEndX = 0;\n      let currentLine = new TextLine();\n      const lines = [currentLine];\n      runs.forEach(run => {\n        const { fontObj } = run;\n        const { ascender, descender, unitsPerEm, lineGap, capHeight, xHeight } = fontObj;\n\n        // Calculate metrics for each font used\n        let fontData = metricsByFont.get(fontObj);\n        if (!fontData) {\n          // Find conversion between native font units and fontSize units\n          const fontSizeMult = fontSize / unitsPerEm;\n\n          // Determine appropriate value for 'normal' line height based on the font's actual metrics\n          // This does not guarantee individual glyphs won't exceed the line height, e.g. Roboto; should we use yMin/Max instead?\n          const calcLineHeight = lineHeight === 'normal' ?\n            (ascender - descender + lineGap) * fontSizeMult : lineHeight * fontSize;\n\n          // Determine line height and leading adjustments\n          const halfLeading = (calcLineHeight - (ascender - descender) * fontSizeMult) / 2;\n          const caretHeight = Math.min(calcLineHeight, (ascender - descender) * fontSizeMult);\n          const caretTop = (ascender + descender) / 2 * fontSizeMult + caretHeight / 2;\n          fontData = {\n            index: metricsByFont.size,\n            src: fontObj.src,\n            fontObj,\n            fontSizeMult,\n            unitsPerEm,\n            ascender: ascender * fontSizeMult,\n            descender: descender * fontSizeMult,\n            capHeight: capHeight * fontSizeMult,\n            xHeight: xHeight * fontSizeMult,\n            lineHeight: calcLineHeight,\n            baseline: -halfLeading - ascender * fontSizeMult, // baseline offset from top of line height\n            // cap: -halfLeading - capHeight * fontSizeMult, // cap from top of line height\n            // ex: -halfLeading - xHeight * fontSizeMult, // ex from top of line height\n            caretTop,\n            caretBottom: caretTop - caretHeight\n          };\n          metricsByFont.set(fontObj, fontData);\n        }\n        const { fontSizeMult } = fontData;\n\n        const runText = text.slice(run.start, run.end + 1);\n        let prevGlyphX, prevGlyphObj;\n        fontObj.forEachGlyph(runText, fontSize, letterSpacing, (glyphObj, glyphX, glyphY, charIndex) => {\n          glyphX += prevRunEndX;\n          charIndex += run.start;\n          prevGlyphX = glyphX;\n          prevGlyphObj = glyphObj;\n          const char = text.charAt(charIndex);\n          const glyphWidth = glyphObj.advanceWidth * fontSizeMult;\n          const curLineCount = currentLine.count;\n          let nextLine;\n\n          // Calc isWhitespace and isEmpty once per glyphObj\n          if (!('isEmpty' in glyphObj)) {\n            glyphObj.isWhitespace = !!char && new RegExp(lineBreakingWhiteSpace).test(char);\n            glyphObj.canBreakAfter = !!char && BREAK_AFTER_CHARS.test(char);\n            glyphObj.isEmpty = glyphObj.xMin === glyphObj.xMax || glyphObj.yMin === glyphObj.yMax || DEFAULT_IGNORABLE_CHARS.test(char);\n          }\n          if (!glyphObj.isWhitespace && !glyphObj.isEmpty) {\n            renderableGlyphCount++;\n          }\n\n          // If a non-whitespace character overflows the max width, we need to soft-wrap\n          if (canWrap && hasMaxWidth && !glyphObj.isWhitespace && glyphX + glyphWidth + lineXOffset > maxWidth && curLineCount) {\n            // If it's the first char after a whitespace, start a new line\n            if (currentLine.glyphAt(curLineCount - 1).glyphObj.canBreakAfter) {\n              nextLine = new TextLine();\n              lineXOffset = -glyphX;\n            } else {\n              // Back up looking for a whitespace character to wrap at\n              for (let i = curLineCount; i--;) {\n                // If we got the start of the line there's no soft break point; make hard break if overflowWrap='break-word'\n                if (i === 0 && overflowWrap === 'break-word') {\n                  nextLine = new TextLine();\n                  lineXOffset = -glyphX;\n                  break\n                }\n                // Found a soft break point; move all chars since it to a new line\n                else if (currentLine.glyphAt(i).glyphObj.canBreakAfter) {\n                  nextLine = currentLine.splitAt(i + 1);\n                  const adjustX = nextLine.glyphAt(0).x;\n                  lineXOffset -= adjustX;\n                  for (let j = nextLine.count; j--;) {\n                    nextLine.glyphAt(j).x -= adjustX;\n                  }\n                  break\n                }\n              }\n            }\n            if (nextLine) {\n              currentLine.isSoftWrapped = true;\n              currentLine = nextLine;\n              lines.push(currentLine);\n              maxLineWidth = maxWidth; //after soft wrapping use maxWidth as calculated width\n            }\n          }\n\n          let fly = currentLine.glyphAt(currentLine.count);\n          fly.glyphObj = glyphObj;\n          fly.x = glyphX + lineXOffset;\n          fly.y = glyphY;\n          fly.width = glyphWidth;\n          fly.charIndex = charIndex;\n          fly.fontData = fontData;\n\n          // Handle hard line breaks\n          if (char === '\\n') {\n            currentLine = new TextLine();\n            lines.push(currentLine);\n            lineXOffset = -(glyphX + glyphWidth + (letterSpacing * fontSize)) + textIndent;\n          }\n        });\n        // At the end of a run we must capture the x position as the starting point for the next run\n        prevRunEndX = prevGlyphX + prevGlyphObj.advanceWidth * fontSizeMult + letterSpacing * fontSize;\n      });\n\n      // Calculate width/height/baseline of each line (excluding trailing whitespace) and maximum block width\n      let totalHeight = 0;\n      lines.forEach(line => {\n        let isTrailingWhitespace = true;\n        for (let i = line.count; i--;) {\n          const glyphInfo = line.glyphAt(i);\n          // omit trailing whitespace from width calculation\n          if (isTrailingWhitespace && !glyphInfo.glyphObj.isWhitespace) {\n            line.width = glyphInfo.x + glyphInfo.width;\n            if (line.width > maxLineWidth) {\n              maxLineWidth = line.width;\n            }\n            isTrailingWhitespace = false;\n          }\n          // use the tallest line height, lowest baseline, and highest cap/ex\n          let {lineHeight, capHeight, xHeight, baseline} = glyphInfo.fontData;\n          if (lineHeight > line.lineHeight) line.lineHeight = lineHeight;\n          const baselineDiff = baseline - line.baseline;\n          if (baselineDiff < 0) { //shift all metrics down\n            line.baseline += baselineDiff;\n            line.cap += baselineDiff;\n            line.ex += baselineDiff;\n          }\n          // compare cap/ex based on new lowest baseline\n          line.cap = Math.max(line.cap, line.baseline + capHeight);\n          line.ex = Math.max(line.ex, line.baseline + xHeight);\n        }\n        line.baseline -= totalHeight;\n        line.cap -= totalHeight;\n        line.ex -= totalHeight;\n        totalHeight += line.lineHeight;\n      });\n\n      // Find overall position adjustments for anchoring\n      let anchorXOffset = 0;\n      let anchorYOffset = 0;\n      if (anchorX) {\n        if (typeof anchorX === 'number') {\n          anchorXOffset = -anchorX;\n        }\n        else if (typeof anchorX === 'string') {\n          anchorXOffset = -maxLineWidth * (\n            anchorX === 'left' ? 0 :\n            anchorX === 'center' ? 0.5 :\n            anchorX === 'right' ? 1 :\n            parsePercent(anchorX)\n          );\n        }\n      }\n      if (anchorY) {\n        if (typeof anchorY === 'number') {\n          anchorYOffset = -anchorY;\n        }\n        else if (typeof anchorY === 'string') {\n          anchorYOffset = anchorY === 'top' ? 0 :\n            anchorY === 'top-baseline' ? -lines[0].baseline :\n            anchorY === 'top-cap' ? -lines[0].cap :\n            anchorY === 'top-ex' ? -lines[0].ex :\n            anchorY === 'middle' ? totalHeight / 2 :\n            anchorY === 'bottom' ? totalHeight :\n            anchorY === 'bottom-baseline' ? -lines[lines.length - 1].baseline :\n            parsePercent(anchorY) * totalHeight;\n        }\n      }\n\n      if (!metricsOnly) {\n        // Resolve bidi levels\n        const bidiLevelsResult = bidi.getEmbeddingLevels(text, direction);\n\n        // Process each line, applying alignment offsets, adding each glyph to the atlas, and\n        // collecting all renderable glyphs into a single collection.\n        glyphIds = new Uint16Array(renderableGlyphCount);\n        glyphFontIndices = new Uint8Array(renderableGlyphCount);\n        glyphPositions = new Float32Array(renderableGlyphCount * 2);\n        glyphData = {};\n        visibleBounds = [INF, INF, -INF, -INF];\n        chunkedBounds = [];\n        if (includeCaretPositions) {\n          caretPositions = new Float32Array(text.length * 4);\n        }\n        if (colorRanges) {\n          glyphColors = new Uint8Array(renderableGlyphCount * 3);\n        }\n        let renderableGlyphIndex = 0;\n        let prevCharIndex = -1;\n        let colorCharIndex = -1;\n        let chunk;\n        let currentColor;\n        lines.forEach((line, lineIndex) => {\n          let {count:lineGlyphCount, width:lineWidth} = line;\n\n          // Ignore empty lines\n          if (lineGlyphCount > 0) {\n            // Count trailing whitespaces, we want to ignore these for certain things\n            let trailingWhitespaceCount = 0;\n            for (let i = lineGlyphCount; i-- && line.glyphAt(i).glyphObj.isWhitespace;) {\n              trailingWhitespaceCount++;\n            }\n\n            // Apply horizontal alignment adjustments\n            let lineXOffset = 0;\n            let justifyAdjust = 0;\n            if (textAlign === 'center') {\n              lineXOffset = (maxLineWidth - lineWidth) / 2;\n            } else if (textAlign === 'right') {\n              lineXOffset = maxLineWidth - lineWidth;\n            } else if (textAlign === 'justify' && line.isSoftWrapped) {\n              // count non-trailing whitespace characters, and we'll adjust the offsets per character in the next loop\n              let whitespaceCount = 0;\n              for (let i = lineGlyphCount - trailingWhitespaceCount; i--;) {\n                if (line.glyphAt(i).glyphObj.isWhitespace) {\n                  whitespaceCount++;\n                }\n              }\n              justifyAdjust = (maxLineWidth - lineWidth) / whitespaceCount;\n            }\n            if (justifyAdjust || lineXOffset) {\n              let justifyOffset = 0;\n              for (let i = 0; i < lineGlyphCount; i++) {\n                let glyphInfo = line.glyphAt(i);\n                const glyphObj = glyphInfo.glyphObj;\n                glyphInfo.x += lineXOffset + justifyOffset;\n                // Expand non-trailing whitespaces for justify alignment\n                if (justifyAdjust !== 0 && glyphObj.isWhitespace && i < lineGlyphCount - trailingWhitespaceCount) {\n                  justifyOffset += justifyAdjust;\n                  glyphInfo.width += justifyAdjust;\n                }\n              }\n            }\n\n            // Perform bidi range flipping\n            const flips = bidi.getReorderSegments(\n              text, bidiLevelsResult, line.glyphAt(0).charIndex, line.glyphAt(line.count - 1).charIndex\n            );\n            for (let fi = 0; fi < flips.length; fi++) {\n              const [start, end] = flips[fi];\n              // Map start/end string indices to indices in the line\n              let left = Infinity, right = -Infinity;\n              for (let i = 0; i < lineGlyphCount; i++) {\n                if (line.glyphAt(i).charIndex >= start) { // gte to handle removed characters\n                  let startInLine = i, endInLine = i;\n                  for (; endInLine < lineGlyphCount; endInLine++) {\n                    let info = line.glyphAt(endInLine);\n                    if (info.charIndex > end) {\n                      break\n                    }\n                    if (endInLine < lineGlyphCount - trailingWhitespaceCount) { //don't include trailing ws in flip width\n                      left = Math.min(left, info.x);\n                      right = Math.max(right, info.x + info.width);\n                    }\n                  }\n                  for (let j = startInLine; j < endInLine; j++) {\n                    const glyphInfo = line.glyphAt(j);\n                    glyphInfo.x = right - (glyphInfo.x + glyphInfo.width - left);\n                  }\n                  break\n                }\n              }\n            }\n\n            // Assemble final data arrays\n            let glyphObj;\n            const setGlyphObj = g => glyphObj = g;\n            for (let i = 0; i < lineGlyphCount; i++) {\n              const glyphInfo = line.glyphAt(i);\n              glyphObj = glyphInfo.glyphObj;\n              const glyphId = glyphObj.index;\n\n              // Replace mirrored characters in rtl\n              const rtl = bidiLevelsResult.levels[glyphInfo.charIndex] & 1; //odd level means rtl\n              if (rtl) {\n                const mirrored = bidi.getMirroredCharacter(text[glyphInfo.charIndex]);\n                if (mirrored) {\n                  glyphInfo.fontData.fontObj.forEachGlyph(mirrored, 0, 0, setGlyphObj);\n                }\n              }\n\n              // Add caret positions\n              if (includeCaretPositions) {\n                const {charIndex, fontData} = glyphInfo;\n                const caretLeft = glyphInfo.x + anchorXOffset;\n                const caretRight = glyphInfo.x + glyphInfo.width + anchorXOffset;\n                caretPositions[charIndex * 4] = rtl ? caretRight : caretLeft; //start edge x\n                caretPositions[charIndex * 4 + 1] = rtl ? caretLeft : caretRight; //end edge x\n                caretPositions[charIndex * 4 + 2] = line.baseline + fontData.caretBottom + anchorYOffset; //common bottom y\n                caretPositions[charIndex * 4 + 3] = line.baseline + fontData.caretTop + anchorYOffset; //common top y\n\n                // If we skipped any chars from the previous glyph (due to ligature subs), fill in caret\n                // positions for those missing char indices; currently this uses a best-guess by dividing\n                // the ligature's width evenly. In the future we may try to use the font's LigatureCaretList\n                // table to get better interior caret positions.\n                const ligCount = charIndex - prevCharIndex;\n                if (ligCount > 1) {\n                  fillLigatureCaretPositions(caretPositions, prevCharIndex, ligCount);\n                }\n                prevCharIndex = charIndex;\n              }\n\n              // Track current color range\n              if (colorRanges) {\n                const {charIndex} = glyphInfo;\n                while(charIndex > colorCharIndex) {\n                  colorCharIndex++;\n                  if (colorRanges.hasOwnProperty(colorCharIndex)) {\n                    currentColor = colorRanges[colorCharIndex];\n                  }\n                }\n              }\n\n              // Get atlas data for renderable glyphs\n              if (!glyphObj.isWhitespace && !glyphObj.isEmpty) {\n                const idx = renderableGlyphIndex++;\n                const {fontSizeMult, src: fontSrc, index: fontIndex} = glyphInfo.fontData;\n\n                // Add this glyph's path data\n                const fontGlyphData = glyphData[fontSrc] || (glyphData[fontSrc] = {});\n                if (!fontGlyphData[glyphId]) {\n                  fontGlyphData[glyphId] = {\n                    path: glyphObj.path,\n                    pathBounds: [glyphObj.xMin, glyphObj.yMin, glyphObj.xMax, glyphObj.yMax]\n                  };\n                }\n\n                // Determine final glyph position and add to glyphPositions array\n                const glyphX = glyphInfo.x + anchorXOffset;\n                const glyphY = glyphInfo.y + line.baseline + anchorYOffset;\n                glyphPositions[idx * 2] = glyphX;\n                glyphPositions[idx * 2 + 1] = glyphY;\n\n                // Track total visible bounds\n                const visX0 = glyphX + glyphObj.xMin * fontSizeMult;\n                const visY0 = glyphY + glyphObj.yMin * fontSizeMult;\n                const visX1 = glyphX + glyphObj.xMax * fontSizeMult;\n                const visY1 = glyphY + glyphObj.yMax * fontSizeMult;\n                if (visX0 < visibleBounds[0]) visibleBounds[0] = visX0;\n                if (visY0 < visibleBounds[1]) visibleBounds[1] = visY0;\n                if (visX1 > visibleBounds[2]) visibleBounds[2] = visX1;\n                if (visY1 > visibleBounds[3]) visibleBounds[3] = visY1;\n\n                // Track bounding rects for each chunk of N glyphs\n                if (idx % chunkedBoundsSize === 0) {\n                  chunk = {start: idx, end: idx, rect: [INF, INF, -INF, -INF]};\n                  chunkedBounds.push(chunk);\n                }\n                chunk.end++;\n                const chunkRect = chunk.rect;\n                if (visX0 < chunkRect[0]) chunkRect[0] = visX0;\n                if (visY0 < chunkRect[1]) chunkRect[1] = visY0;\n                if (visX1 > chunkRect[2]) chunkRect[2] = visX1;\n                if (visY1 > chunkRect[3]) chunkRect[3] = visY1;\n\n                // Add to glyph ids and font indices arrays\n                glyphIds[idx] = glyphId;\n                glyphFontIndices[idx] = fontIndex;\n\n                // Add colors\n                if (colorRanges) {\n                  const start = idx * 3;\n                  glyphColors[start] = currentColor >> 16 & 255;\n                  glyphColors[start + 1] = currentColor >> 8 & 255;\n                  glyphColors[start + 2] = currentColor & 255;\n                }\n              }\n            }\n          }\n        });\n\n        // Fill in remaining caret positions in case the final character was a ligature\n        if (caretPositions) {\n          const ligCount = text.length - prevCharIndex;\n          if (ligCount > 1) {\n            fillLigatureCaretPositions(caretPositions, prevCharIndex, ligCount);\n          }\n        }\n      }\n\n      // Assemble final data about each font used\n      const fontData = [];\n      metricsByFont.forEach(({index, src, unitsPerEm, ascender, descender, lineHeight, capHeight, xHeight}) => {\n        fontData[index] = {src, unitsPerEm, ascender, descender, lineHeight, capHeight, xHeight};\n      });\n\n      // Timing stats\n      timings.typesetting = now() - typesetStart;\n\n      callback({\n        glyphIds, //id for each glyph, specific to that glyph's font\n        glyphFontIndices, //index into fontData for each glyph\n        glyphPositions, //x,y of each glyph's origin in layout\n        glyphData, //dict holding data about each glyph appearing in the text\n        fontData, //data about each font used in the text\n        caretPositions, //startX,endX,bottomY caret positions for each char\n        // caretHeight, //height of cursor from bottom to top - todo per glyph?\n        glyphColors, //color for each glyph, if color ranges supplied\n        chunkedBounds, //total rects per (n=chunkedBoundsSize) consecutive glyphs\n        fontSize, //calculated em height\n        topBaseline: anchorYOffset + lines[0].baseline, //y coordinate of the top line's baseline\n        blockBounds: [ //bounds for the whole block of text, including vertical padding for lineHeight\n          anchorXOffset,\n          anchorYOffset - totalHeight,\n          anchorXOffset + maxLineWidth,\n          anchorYOffset\n        ],\n        visibleBounds, //total bounds of visible text paths, may be larger or smaller than blockBounds\n        timings\n      });\n    });\n  }\n\n\n  /**\n   * For a given text string and font parameters, determine the resulting block dimensions\n   * after wrapping for the given maxWidth.\n   * @param args\n   * @param callback\n   */\n  function measure(args, callback) {\n    typeset({...args, metricsOnly: true}, (result) => {\n      const [x0, y0, x1, y1] = result.blockBounds;\n      callback({\n        width: x1 - x0,\n        height: y1 - y0\n      });\n    });\n  }\n\n  function parsePercent(str) {\n    let match = str.match(/^([\\d.]+)%$/);\n    let pct = match ? parseFloat(match[1]) : NaN;\n    return isNaN(pct) ? 0 : pct / 100\n  }\n\n  function fillLigatureCaretPositions(caretPositions, ligStartIndex, ligCount) {\n    const ligStartX = caretPositions[ligStartIndex * 4];\n    const ligEndX = caretPositions[ligStartIndex * 4 + 1];\n    const ligBottom = caretPositions[ligStartIndex * 4 + 2];\n    const ligTop = caretPositions[ligStartIndex * 4 + 3];\n    const guessedAdvanceX = (ligEndX - ligStartX) / ligCount;\n    for (let i = 0; i < ligCount; i++) {\n      const startIndex = (ligStartIndex + i) * 4;\n      caretPositions[startIndex] = ligStartX + guessedAdvanceX * i;\n      caretPositions[startIndex + 1] = ligStartX + guessedAdvanceX * (i + 1);\n      caretPositions[startIndex + 2] = ligBottom;\n      caretPositions[startIndex + 3] = ligTop;\n    }\n  }\n\n  function now() {\n    return (self.performance || Date).now()\n  }\n\n  // Array-backed structure for a single line's glyphs data\n  function TextLine() {\n    this.data = [];\n  }\n  const textLineProps = ['glyphObj', 'x', 'y', 'width', 'charIndex', 'fontData'];\n  TextLine.prototype = {\n    width: 0,\n    lineHeight: 0,\n    baseline: 0,\n    cap: 0,\n    ex: 0,\n    isSoftWrapped: false,\n    get count() {\n      return Math.ceil(this.data.length / textLineProps.length)\n    },\n    glyphAt(i) {\n      let fly = TextLine.flyweight;\n      fly.data = this.data;\n      fly.index = i;\n      return fly\n    },\n    splitAt(i) {\n      let newLine = new TextLine();\n      newLine.data = this.data.splice(i * textLineProps.length);\n      return newLine\n    }\n  };\n  TextLine.flyweight = textLineProps.reduce((obj, prop, i, all) => {\n    Object.defineProperty(obj, prop, {\n      get() {\n        return this.data[this.index * textLineProps.length + i]\n      },\n      set(val) {\n        this.data[this.index * textLineProps.length + i] = val;\n      }\n    });\n    return obj\n  }, {data: null, index: 0});\n\n\n  return {\n    typeset,\n    measure,\n  }\n}\n\nconst now = () => (self.performance || Date).now();\n\nconst mainThreadGenerator = /*#__PURE__*/ createSDFGenerator();\n\nlet warned;\n\n/**\n * Generate an SDF texture image for a single glyph path, placing the result into a webgl canvas at a\n * given location and channel. Utilizes the webgl-sdf-generator external package for GPU-accelerated SDF\n * generation when supported.\n */\nfunction generateSDF(width, height, path, viewBox, distance, exponent, canvas, x, y, channel, useWebGL = true) {\n  // Allow opt-out\n  if (!useWebGL) {\n    return generateSDF_JS_Worker(width, height, path, viewBox, distance, exponent, canvas, x, y, channel)\n  }\n\n  // Attempt GPU-accelerated generation first\n  return generateSDF_GL(width, height, path, viewBox, distance, exponent, canvas, x, y, channel).then(\n    null,\n    err => {\n      // WebGL failed either due to a hard error or unexpected results; fall back to JS in workers\n      if (!warned) {\n        console.warn(`WebGL SDF generation failed, falling back to JS`, err);\n        warned = true;\n      }\n      return generateSDF_JS_Worker(width, height, path, viewBox, distance, exponent, canvas, x, y, channel)\n    }\n  )\n}\n\nconst queue = [];\nconst chunkTimeBudget = 5; // ms\nlet timer = 0;\n\nfunction nextChunk() {\n  const start = now();\n  while (queue.length && now() - start < chunkTimeBudget) {\n    queue.shift()();\n  }\n  timer = queue.length ? setTimeout(nextChunk, 0) : 0;\n}\n\n/**\n * WebGL-based implementation executed on the main thread. Requests are executed in time-bounded\n * macrotask chunks to allow render frames to execute in between.\n */\nconst generateSDF_GL = (...args) => {\n  return new Promise((resolve, reject) => {\n    queue.push(() => {\n      const start = now();\n      try {\n        mainThreadGenerator.webgl.generateIntoCanvas(...args);\n        resolve({ timing: now() - start });\n      } catch (err) {\n        reject(err);\n      }\n    });\n    if (!timer) {\n      timer = setTimeout(nextChunk, 0);\n    }\n  })\n};\n\nconst threadCount = 4; // how many workers to spawn\nconst idleTimeout = 2000; // workers will be terminated after being idle this many milliseconds\nconst threads = {};\nlet callNum = 0;\n\n/**\n * Fallback JS-based implementation, fanned out to a number of worker threads for parallelism\n */\nfunction generateSDF_JS_Worker(width, height, path, viewBox, distance, exponent, canvas, x, y, channel) {\n  const workerId = 'TroikaTextSDFGenerator_JS_' + ((callNum++) % threadCount);\n  let thread = threads[workerId];\n  if (!thread) {\n    thread = threads[workerId] = {\n      workerModule: defineWorkerModule({\n        name: workerId,\n        workerId,\n        dependencies: [\n          createSDFGenerator,\n          now\n        ],\n        init(_createSDFGenerator, now) {\n          const generate = _createSDFGenerator().javascript.generate;\n          return function (...args) {\n            const start = now();\n            const textureData = generate(...args);\n            return {\n              textureData,\n              timing: now() - start\n            }\n          }\n        },\n        getTransferables(result) {\n          return [result.textureData.buffer]\n        }\n      }),\n      requests: 0,\n      idleTimer: null\n    };\n  }\n\n  thread.requests++;\n  clearTimeout(thread.idleTimer);\n  return thread.workerModule(width, height, path, viewBox, distance, exponent)\n    .then(({ textureData, timing }) => {\n      // copy result data into the canvas\n      const start = now();\n      // expand single-channel data into rgba\n      const imageData = new Uint8Array(textureData.length * 4);\n      for (let i = 0; i < textureData.length; i++) {\n        imageData[i * 4 + channel] = textureData[i];\n      }\n      mainThreadGenerator.webglUtils.renderImageData(canvas, imageData, x, y, width, height, 1 << (3 - channel));\n      timing += now() - start;\n\n      // clean up workers after a while\n      if (--thread.requests === 0) {\n        thread.idleTimer = setTimeout(() => { terminateWorker(workerId); }, idleTimeout);\n      }\n      return { timing }\n    })\n}\n\nfunction warmUpSDFCanvas(canvas) {\n  if (!canvas._warm) {\n    mainThreadGenerator.webgl.isSupported(canvas);\n    canvas._warm = true;\n  }\n}\n\nconst resizeWebGLCanvasWithoutClearing = mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;\n\nconst CONFIG = {\n  defaultFontURL: null,\n  unicodeFontsURL: null,\n  sdfGlyphSize: 64,\n  sdfMargin: 1 / 16,\n  sdfExponent: 9,\n  textureWidth: 2048,\n  useWorker: true,\n};\nconst tempColor = /*#__PURE__*/new Color();\nlet hasRequested = false;\n\nfunction now$1() {\n  return (self.performance || Date).now()\n}\n\n/**\n * Customizes the text builder configuration. This must be called prior to the first font processing\n * request, and applies to all fonts.\n *\n * @param {String} config.defaultFontURL - The URL of the default font to use for text processing\n *                 requests, in case none is specified or the specifiede font fails to load or parse.\n *                 Defaults to \"Roboto Regular\" from Google Fonts.\n * @param {String} config.unicodeFontsURL - A custom location for the fallback unicode-font-resolver\n *                 data and font files, if you don't want to use the default CDN. See\n *                 https://github.com/lojjic/unicode-font-resolver for details. It can also be\n *                 configured per text instance, but this lets you do it once globally.\n * @param {Number} config.sdfGlyphSize - The default size of each glyph's SDF (signed distance field)\n *                 texture used for rendering. Must be a power-of-two number, and applies to all fonts,\n *                 but note that this can also be overridden per call to `getTextRenderInfo()`.\n *                 Larger sizes can improve the quality of glyph rendering by increasing the sharpness\n *                 of corners and preventing loss of very thin lines, at the expense of memory. Defaults\n *                 to 64 which is generally a good balance of size and quality.\n * @param {Number} config.sdfExponent - The exponent used when encoding the SDF values. A higher exponent\n *                 shifts the encoded 8-bit values to achieve higher precision/accuracy at texels nearer\n *                 the glyph's path, with lower precision further away. Defaults to 9.\n * @param {Number} config.sdfMargin - How much space to reserve in the SDF as margin outside the glyph's\n *                 path, as a percentage of the SDF width. A larger margin increases the quality of\n *                 extruded glyph outlines, but decreases the precision available for the glyph itself.\n *                 Defaults to 1/16th of the glyph size.\n * @param {Number} config.textureWidth - The width of the SDF texture; must be a power of 2. Defaults to\n *                 2048 which is a safe maximum texture dimension according to the stats at\n *                 https://webglstats.com/webgl/parameter/MAX_TEXTURE_SIZE and should allow for a\n *                 reasonably large number of glyphs (default glyph size of 64^2 and safe texture size of\n *                 2048^2, times 4 channels, allows for 4096 glyphs.) This can be increased if you need to\n *                 increase the glyph size and/or have an extraordinary number of glyphs.\n * @param {Boolean} config.useWorker - Whether to run typesetting in a web worker. Defaults to true.\n */\nfunction configureTextBuilder(config) {\n  if (hasRequested) {\n    console.warn('configureTextBuilder called after first font request; will be ignored.');\n  } else {\n    assign(CONFIG, config);\n  }\n}\n\n/**\n * Repository for all font SDF atlas textures and their glyph mappings. There is a separate atlas for\n * each sdfGlyphSize. Each atlas has a single Texture that holds all glyphs for all fonts.\n *\n *   {\n *     [sdfGlyphSize]: {\n *       glyphCount: number,\n *       sdfGlyphSize: number,\n *       sdfTexture: Texture,\n *       sdfCanvas: HTMLCanvasElement,\n *       contextLost: boolean,\n *       glyphsByFont: Map<fontURL, Map<glyphID, {path, atlasIndex, sdfViewBox}>>\n *     }\n *   }\n */\nconst atlases = Object.create(null);\n\n/**\n * @typedef {object} TroikaTextRenderInfo - Format of the result from `getTextRenderInfo`.\n * @property {TypesetParams} parameters - The normalized input arguments to the render call.\n * @property {Texture} sdfTexture - The SDF atlas texture.\n * @property {number} sdfGlyphSize - The size of each glyph's SDF; see `configureTextBuilder`.\n * @property {number} sdfExponent - The exponent used in encoding the SDF's values; see `configureTextBuilder`.\n * @property {Float32Array} glyphBounds - List of [minX, minY, maxX, maxY] quad bounds for each glyph.\n * @property {Float32Array} glyphAtlasIndices - List holding each glyph's index in the SDF atlas.\n * @property {Uint8Array} [glyphColors] - List holding each glyph's [r, g, b] color, if `colorRanges` was supplied.\n * @property {Float32Array} [caretPositions] - A list of caret positions for all characters in the string; each is\n *           four elements: the starting X, the ending X, the bottom Y, and the top Y for the caret.\n * @property {number} [caretHeight] - An appropriate height for all selection carets.\n * @property {number} ascender - The font's ascender metric.\n * @property {number} descender - The font's descender metric.\n * @property {number} capHeight - The font's cap height metric, based on the height of Latin capital letters.\n * @property {number} xHeight - The font's x height metric, based on the height of Latin lowercase letters.\n * @property {number} lineHeight - The final computed lineHeight measurement.\n * @property {number} topBaseline - The y position of the top line's baseline.\n * @property {Array<number>} blockBounds - The total [minX, minY, maxX, maxY] rect of the whole text block;\n *           this can include extra vertical space beyond the visible glyphs due to lineHeight, and is\n *           equivalent to the dimensions of a block-level text element in CSS.\n * @property {Array<number>} visibleBounds - The total [minX, minY, maxX, maxY] rect of the whole text block;\n *           unlike `blockBounds` this is tightly wrapped to the visible glyph paths.\n * @property {Array<object>} chunkedBounds - List of bounding rects for each consecutive set of N glyphs,\n *           in the format `{start:N, end:N, rect:[minX, minY, maxX, maxY]}`.\n * @property {object} timings - Timing info for various parts of the rendering logic including SDF\n *           generation, typesetting, etc.\n * @frozen\n */\n\n/**\n * @callback getTextRenderInfo~callback\n * @param {TroikaTextRenderInfo} textRenderInfo\n */\n\n/**\n * Main entry point for requesting the data needed to render a text string with given font parameters.\n * This is an asynchronous call, performing most of the logic in a web worker thread.\n * @param {TypesetParams} args\n * @param {getTextRenderInfo~callback} callback\n */\nfunction getTextRenderInfo(args, callback) {\n  hasRequested = true;\n  args = assign({}, args);\n  const totalStart = now$1();\n\n  // Convert relative URL to absolute so it can be resolved in the worker, and add fallbacks.\n  // In the future we'll allow args.font to be a list with unicode ranges too.\n  const { defaultFontURL } = CONFIG;\n  const fonts = [];\n  if (defaultFontURL) {\n    fonts.push({label: 'default', src: toAbsoluteURL(defaultFontURL)});\n  }\n  if (args.font) {\n    fonts.push({label: 'user', src: toAbsoluteURL(args.font)});\n  }\n  args.font = fonts;\n\n  // Normalize text to a string\n  args.text = '' + args.text;\n\n  args.sdfGlyphSize = args.sdfGlyphSize || CONFIG.sdfGlyphSize;\n  args.unicodeFontsURL = args.unicodeFontsURL || CONFIG.unicodeFontsURL;\n\n  // Normalize colors\n  if (args.colorRanges != null) {\n    let colors = {};\n    for (let key in args.colorRanges) {\n      if (args.colorRanges.hasOwnProperty(key)) {\n        let val = args.colorRanges[key];\n        if (typeof val !== 'number') {\n          val = tempColor.set(val).getHex();\n        }\n        colors[key] = val;\n      }\n    }\n    args.colorRanges = colors;\n  }\n\n  Object.freeze(args);\n\n  // Init the atlas if needed\n  const {textureWidth, sdfExponent} = CONFIG;\n  const {sdfGlyphSize} = args;\n  const glyphsPerRow = (textureWidth / sdfGlyphSize * 4);\n  let atlas = atlases[sdfGlyphSize];\n  if (!atlas) {\n    const canvas = document.createElement('canvas');\n    canvas.width = textureWidth;\n    canvas.height = sdfGlyphSize * 256 / glyphsPerRow; // start tall enough to fit 256 glyphs\n    atlas = atlases[sdfGlyphSize] = {\n      glyphCount: 0,\n      sdfGlyphSize,\n      sdfCanvas: canvas,\n      sdfTexture: new Texture(\n        canvas,\n        undefined,\n        undefined,\n        undefined,\n        LinearFilter,\n        LinearFilter\n      ),\n      contextLost: false,\n      glyphsByFont: new Map()\n    };\n    atlas.sdfTexture.generateMipmaps = false;\n    initContextLossHandling(atlas);\n  }\n\n  const {sdfTexture, sdfCanvas} = atlas;\n\n  // Issue request to the typesetting engine in the worker\n  const typeset = CONFIG.useWorker ? typesetInWorker : typesetOnMainThread;\n  typeset(args).then(result => {\n    const {glyphIds, glyphFontIndices, fontData, glyphPositions, fontSize, timings} = result;\n    const neededSDFs = [];\n    const glyphBounds = new Float32Array(glyphIds.length * 4);\n    let boundsIdx = 0;\n    let positionsIdx = 0;\n    const quadsStart = now$1();\n\n    const fontGlyphMaps = fontData.map(font => {\n      let map = atlas.glyphsByFont.get(font.src);\n      if (!map) {\n        atlas.glyphsByFont.set(font.src, map = new Map());\n      }\n      return map\n    });\n\n    glyphIds.forEach((glyphId, i) => {\n      const fontIndex = glyphFontIndices[i];\n      const {src: fontSrc, unitsPerEm} = fontData[fontIndex];\n      let glyphInfo = fontGlyphMaps[fontIndex].get(glyphId);\n\n      // If this is a glyphId not seen before, add it to the atlas\n      if (!glyphInfo) {\n        const {path, pathBounds} = result.glyphData[fontSrc][glyphId];\n\n        // Margin around path edges in SDF, based on a percentage of the glyph's max dimension.\n        // Note we add an extra 0.5 px over the configured value because the outer 0.5 doesn't contain\n        // useful interpolated values and will be ignored anyway.\n        const fontUnitsMargin = Math.max(pathBounds[2] - pathBounds[0], pathBounds[3] - pathBounds[1])\n          / sdfGlyphSize * (CONFIG.sdfMargin * sdfGlyphSize + 0.5);\n\n        const atlasIndex = atlas.glyphCount++;\n        const sdfViewBox = [\n          pathBounds[0] - fontUnitsMargin,\n          pathBounds[1] - fontUnitsMargin,\n          pathBounds[2] + fontUnitsMargin,\n          pathBounds[3] + fontUnitsMargin,\n        ];\n        fontGlyphMaps[fontIndex].set(glyphId, (glyphInfo = { path, atlasIndex, sdfViewBox }));\n\n        // Collect those that need SDF generation\n        neededSDFs.push(glyphInfo);\n      }\n\n      // Calculate bounds for renderable quads\n      // TODO can we get this back off the main thread?\n      const {sdfViewBox} = glyphInfo;\n      const posX = glyphPositions[positionsIdx++];\n      const posY = glyphPositions[positionsIdx++];\n      const fontSizeMult = fontSize / unitsPerEm;\n      glyphBounds[boundsIdx++] = posX + sdfViewBox[0] * fontSizeMult;\n      glyphBounds[boundsIdx++] = posY + sdfViewBox[1] * fontSizeMult;\n      glyphBounds[boundsIdx++] = posX + sdfViewBox[2] * fontSizeMult;\n      glyphBounds[boundsIdx++] = posY + sdfViewBox[3] * fontSizeMult;\n\n      // Convert glyphId to SDF index for the shader\n      glyphIds[i] = glyphInfo.atlasIndex;\n    });\n    timings.quads = (timings.quads || 0) + (now$1() - quadsStart);\n\n    const sdfStart = now$1();\n    timings.sdf = {};\n\n    // Grow the texture height by power of 2 if needed\n    const currentHeight = sdfCanvas.height;\n    const neededRows = Math.ceil(atlas.glyphCount / glyphsPerRow);\n    const neededHeight = Math.pow(2, Math.ceil(Math.log2(neededRows * sdfGlyphSize)));\n    if (neededHeight > currentHeight) {\n      // Since resizing the canvas clears its render buffer, it needs special handling to copy the old contents over\n      console.info(`Increasing SDF texture size ${currentHeight}->${neededHeight}`);\n      resizeWebGLCanvasWithoutClearing(sdfCanvas, textureWidth, neededHeight);\n      // As of Three r136 textures cannot be resized once they're allocated on the GPU, we must dispose to reallocate it\n      sdfTexture.dispose();\n    }\n\n    Promise.all(neededSDFs.map(glyphInfo =>\n      generateGlyphSDF(glyphInfo, atlas, args.gpuAccelerateSDF).then(({timing}) => {\n        timings.sdf[glyphInfo.atlasIndex] = timing;\n      })\n    )).then(() => {\n      if (neededSDFs.length && !atlas.contextLost) {\n        safariPre15Workaround(atlas);\n        sdfTexture.needsUpdate = true;\n      }\n      timings.sdfTotal = now$1() - sdfStart;\n      timings.total = now$1() - totalStart;\n      // console.log(`SDF - ${timings.sdfTotal}, Total - ${timings.total - timings.fontLoad}`)\n\n      // Invoke callback with the text layout arrays and updated texture\n      callback(Object.freeze({\n        parameters: args,\n        sdfTexture,\n        sdfGlyphSize,\n        sdfExponent,\n        glyphBounds,\n        glyphAtlasIndices: glyphIds,\n        glyphColors: result.glyphColors,\n        caretPositions: result.caretPositions,\n        chunkedBounds: result.chunkedBounds,\n        ascender: result.ascender,\n        descender: result.descender,\n        lineHeight: result.lineHeight,\n        capHeight: result.capHeight,\n        xHeight: result.xHeight,\n        topBaseline: result.topBaseline,\n        blockBounds: result.blockBounds,\n        visibleBounds: result.visibleBounds,\n        timings: result.timings,\n      }));\n    });\n  });\n\n  // While the typesetting request is being handled, go ahead and make sure the atlas canvas context is\n  // \"warmed up\"; the first request will be the longest due to shader program compilation so this gets\n  // a head start on that process before SDFs actually start getting processed.\n  Promise.resolve().then(() => {\n    if (!atlas.contextLost) {\n      warmUpSDFCanvas(sdfCanvas);\n    }\n  });\n}\n\nfunction generateGlyphSDF({path, atlasIndex, sdfViewBox}, {sdfGlyphSize, sdfCanvas, contextLost}, useGPU) {\n  if (contextLost) {\n    // If the context is lost there's nothing we can do, just quit silently and let it\n    // get regenerated when the context is restored\n    return Promise.resolve({timing: -1})\n  }\n  const {textureWidth, sdfExponent} = CONFIG;\n  const maxDist = Math.max(sdfViewBox[2] - sdfViewBox[0], sdfViewBox[3] - sdfViewBox[1]);\n  const squareIndex = Math.floor(atlasIndex / 4);\n  const x = squareIndex % (textureWidth / sdfGlyphSize) * sdfGlyphSize;\n  const y = Math.floor(squareIndex / (textureWidth / sdfGlyphSize)) * sdfGlyphSize;\n  const channel = atlasIndex % 4;\n  return generateSDF(sdfGlyphSize, sdfGlyphSize, path, sdfViewBox, maxDist, sdfExponent, sdfCanvas, x, y, channel, useGPU)\n}\n\nfunction initContextLossHandling(atlas) {\n  const canvas = atlas.sdfCanvas;\n\n  /*\n  // Begin context loss simulation\n  if (!window.WebGLDebugUtils) {\n    let script = document.getElementById('WebGLDebugUtilsScript')\n    if (!script) {\n      script = document.createElement('script')\n      script.id = 'WebGLDebugUtils'\n      document.head.appendChild(script)\n      script.src = 'https://cdn.jsdelivr.net/gh/KhronosGroup/WebGLDeveloperTools@b42e702/src/debug/webgl-debug.js'\n    }\n    script.addEventListener('load', () => {\n      initContextLossHandling(atlas)\n    })\n    return\n  }\n  window.WebGLDebugUtils.makeLostContextSimulatingCanvas(canvas)\n  canvas.loseContextInNCalls(500)\n  canvas.addEventListener('webglcontextrestored', (event) => {\n    canvas.loseContextInNCalls(5000)\n  })\n  // End context loss simulation\n  */\n\n  canvas.addEventListener('webglcontextlost', (event) => {\n    console.log('Context Lost', event);\n    event.preventDefault();\n    atlas.contextLost = true;\n  });\n  canvas.addEventListener('webglcontextrestored', (event) => {\n    console.log('Context Restored', event);\n    atlas.contextLost = false;\n    // Regenerate all glyphs into the restored canvas:\n    const promises = [];\n    atlas.glyphsByFont.forEach(glyphMap => {\n      glyphMap.forEach(glyph => {\n        promises.push(generateGlyphSDF(glyph, atlas, true));\n      });\n    });\n    Promise.all(promises).then(() => {\n      safariPre15Workaround(atlas);\n      atlas.sdfTexture.needsUpdate = true;\n    });\n  });\n}\n\n/**\n * Preload a given font and optionally pre-generate glyph SDFs for one or more character sequences.\n * This can be useful to avoid long pauses when first showing text in a scene, by preloading the\n * needed fonts and glyphs up front along with other assets.\n *\n * @param {object} options\n * @param {string} options.font - URL of the font file to preload. If not given, the default font will\n *        be loaded.\n * @param {string|string[]} options.characters - One or more character sequences for which to pre-\n *        generate glyph SDFs. Note that this will honor ligature substitution, so you may need\n *        to specify ligature sequences in addition to their individual characters to get all\n *        possible glyphs, e.g. `[\"t\", \"h\", \"th\"]` to get the \"t\" and \"h\" glyphs plus the \"th\" ligature.\n * @param {number} options.sdfGlyphSize - The size at which to prerender the SDF textures for the\n *        specified `characters`.\n * @param {function} callback - A function that will be called when the preloading is complete.\n */\nfunction preloadFont({font, characters, sdfGlyphSize}, callback) {\n  let text = Array.isArray(characters) ? characters.join('\\n') : '' + characters;\n  getTextRenderInfo({ font, sdfGlyphSize, text }, callback);\n}\n\n\n// Local assign impl so we don't have to import troika-core\nfunction assign(toObj, fromObj) {\n  for (let key in fromObj) {\n    if (fromObj.hasOwnProperty(key)) {\n      toObj[key] = fromObj[key];\n    }\n  }\n  return toObj\n}\n\n// Utility for making URLs absolute\nlet linkEl;\nfunction toAbsoluteURL(path) {\n  if (!linkEl) {\n    linkEl = typeof document === 'undefined' ? {} : document.createElement('a');\n  }\n  linkEl.href = path;\n  return linkEl.href\n}\n\n/**\n * Safari < v15 seems unable to use the SDF webgl canvas as a texture. This applies a workaround\n * where it reads the pixels out of that canvas and uploads them as a data texture instead, at\n * a slight performance cost.\n */\nfunction safariPre15Workaround(atlas) {\n  // Use createImageBitmap support as a proxy for Safari<15, all other mainstream browsers\n  // have supported it for a long while so any false positives should be minimal.\n  if (typeof createImageBitmap !== 'function') {\n    console.info('Safari<15: applying SDF canvas workaround');\n    const {sdfCanvas, sdfTexture} = atlas;\n    const {width, height} = sdfCanvas;\n    const gl = atlas.sdfCanvas.getContext('webgl');\n    let pixels = sdfTexture.image.data;\n    if (!pixels || pixels.length !== width * height * 4) {\n      pixels = new Uint8Array(width * height * 4);\n      sdfTexture.image = {width, height, data: pixels};\n      sdfTexture.flipY = false;\n      sdfTexture.isDataTexture = true;\n    }\n    gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n  }\n}\n\nconst typesetterWorkerModule = /*#__PURE__*/defineWorkerModule({\n  name: 'Typesetter',\n  dependencies: [\n    createTypesetter,\n    fontResolverWorkerModule,\n    bidiFactory,\n  ],\n  init(createTypesetter, fontResolver, bidiFactory) {\n    return createTypesetter(fontResolver, bidiFactory())\n  }\n});\n\nconst typesetInWorker = /*#__PURE__*/defineWorkerModule({\n  name: 'Typesetter',\n  dependencies: [\n    typesetterWorkerModule,\n  ],\n  init(typesetter) {\n    return function(args) {\n      return new Promise(resolve => {\n        typesetter.typeset(args, resolve);\n      })\n    }\n  },\n  getTransferables(result) {\n    // Mark array buffers as transferable to avoid cloning during postMessage\n    const transferables = [];\n    for (let p in result) {\n      if (result[p] && result[p].buffer) {\n        transferables.push(result[p].buffer);\n      }\n    }\n    return transferables\n  }\n});\n\nconst typesetOnMainThread = typesetInWorker.onMainThread;\n\nfunction dumpSDFTextures() {\n  Object.keys(atlases).forEach(size => {\n    const canvas = atlases[size].sdfCanvas;\n    const {width, height} = canvas;\n    console.log(\"%c.\", `\n      background: url(${canvas.toDataURL()});\n      background-size: ${width}px ${height}px;\n      color: transparent;\n      font-size: 0;\n      line-height: ${height}px;\n      padding-left: ${width}px;\n    `);\n  });\n}\n\nconst templateGeometries = {};\n\nfunction getTemplateGeometry(detail) {\n  let geom = templateGeometries[detail];\n  if (!geom) {\n    geom = templateGeometries[detail] = new PlaneGeometry(1, 1, detail, detail).translate(0.5, 0.5, 0);\n  }\n  return geom\n}\n\nconst glyphBoundsAttrName = 'aTroikaGlyphBounds';\nconst glyphIndexAttrName = 'aTroikaGlyphIndex';\nconst glyphColorAttrName = 'aTroikaGlyphColor';\n\n/**\n@class GlyphsGeometry\n\nA specialized Geometry for rendering a set of text glyphs. Uses InstancedBufferGeometry to\nrender the glyphs using GPU instancing of a single quad, rather than constructing a whole\ngeometry with vertices, for much smaller attribute arraybuffers according to this math:\n\n  Where N = number of glyphs...\n\n  Instanced:\n  - position: 4 * 3\n  - index: 2 * 3\n  - normal: 4 * 3\n  - uv: 4 * 2\n  - glyph x/y bounds: N * 4\n  - glyph indices: N * 1\n  = 5N + 38\n\n  Non-instanced:\n  - position: N * 4 * 3\n  - index: N * 2 * 3\n  - normal: N * 4 * 3\n  - uv: N * 4 * 2\n  - glyph indices: N * 1\n  = 39N\n\nA downside of this is the rare-but-possible lack of the instanced arrays extension,\nwhich we could potentially work around with a fallback non-instanced implementation.\n\n*/\nclass GlyphsGeometry extends InstancedBufferGeometry {\n  constructor() {\n    super();\n\n    this.detail = 1;\n    this.curveRadius = 0;\n\n    // Define groups for rendering text outline as a separate pass; these will only\n    // be used when the `material` getter returns an array, i.e. outlineWidth > 0.\n    this.groups = [\n      {start: 0, count: Infinity, materialIndex: 0},\n      {start: 0, count: Infinity, materialIndex: 1}\n    ];\n\n    // Preallocate empty bounding objects\n    this.boundingSphere = new Sphere();\n    this.boundingBox = new Box3();\n  }\n\n  computeBoundingSphere () {\n    // No-op; we'll sync the boundingSphere proactively when needed.\n  }\n\n  computeBoundingBox() {\n    // No-op; we'll sync the boundingBox proactively when needed.\n  }\n\n  set detail(detail) {\n    if (detail !== this._detail) {\n      this._detail = detail;\n      if (typeof detail !== 'number' || detail < 1) {\n        detail = 1;\n      }\n      let tpl = getTemplateGeometry(detail)\n      ;['position', 'normal', 'uv'].forEach(attr => {\n        this.attributes[attr] = tpl.attributes[attr].clone();\n      });\n      this.setIndex(tpl.getIndex().clone());\n    }\n  }\n  get detail() {\n    return this._detail\n  }\n\n  set curveRadius(r) {\n    if (r !== this._curveRadius) {\n      this._curveRadius = r;\n      this._updateBounds();\n    }\n  }\n  get curveRadius() {\n    return this._curveRadius\n  }\n\n  /**\n   * Update the geometry for a new set of glyphs.\n   * @param {Float32Array} glyphBounds - An array holding the planar bounds for all glyphs\n   *        to be rendered, 4 entries for each glyph: x1,x2,y1,y1\n   * @param {Float32Array} glyphAtlasIndices - An array holding the index of each glyph within\n   *        the SDF atlas texture.\n   * @param {Array} blockBounds - An array holding the [minX, minY, maxX, maxY] across all glyphs\n   * @param {Array} [chunkedBounds] - An array of objects describing bounds for each chunk of N\n   *        consecutive glyphs: `{start:N, end:N, rect:[minX, minY, maxX, maxY]}`. This can be\n   *        used with `applyClipRect` to choose an optimized `instanceCount`.\n   * @param {Uint8Array} [glyphColors] - An array holding r,g,b values for each glyph.\n   */\n  updateGlyphs(glyphBounds, glyphAtlasIndices, blockBounds, chunkedBounds, glyphColors) {\n    // Update the instance attributes\n    this.updateAttributeData(glyphBoundsAttrName, glyphBounds, 4);\n    this.updateAttributeData(glyphIndexAttrName, glyphAtlasIndices, 1);\n    this.updateAttributeData(glyphColorAttrName, glyphColors, 3);\n    this._blockBounds = blockBounds;\n    this._chunkedBounds = chunkedBounds;\n    this.instanceCount = glyphAtlasIndices.length;\n    this._updateBounds();\n  }\n\n  _updateBounds() {\n    const bounds = this._blockBounds;\n    if (bounds) {\n      const { curveRadius, boundingBox: bbox } = this;\n      if (curveRadius) {\n        const { PI, floor, min, max, sin, cos } = Math;\n        const halfPi = PI / 2;\n        const twoPi = PI * 2;\n        const absR = Math.abs(curveRadius);\n        const leftAngle = bounds[0] / absR;\n        const rightAngle = bounds[2] / absR;\n        const minX = floor((leftAngle + halfPi) / twoPi) !== floor((rightAngle + halfPi) / twoPi)\n          ? -absR : min(sin(leftAngle) * absR, sin(rightAngle) * absR);\n        const maxX = floor((leftAngle - halfPi) / twoPi) !== floor((rightAngle - halfPi) / twoPi)\n          ? absR : max(sin(leftAngle) * absR, sin(rightAngle) * absR);\n        const maxZ = floor((leftAngle + PI) / twoPi) !== floor((rightAngle + PI) / twoPi)\n          ? absR * 2 : max(absR - cos(leftAngle) * absR, absR - cos(rightAngle) * absR);\n        bbox.min.set(minX, bounds[1], curveRadius < 0 ? -maxZ : 0);\n        bbox.max.set(maxX, bounds[3], curveRadius < 0 ? 0 : maxZ);\n      } else {\n        bbox.min.set(bounds[0], bounds[1], 0);\n        bbox.max.set(bounds[2], bounds[3], 0);\n      }\n      bbox.getBoundingSphere(this.boundingSphere);\n    }\n  }\n\n  /**\n   * Given a clipping rect, and the chunkedBounds from the last updateGlyphs call, choose the lowest\n   * `instanceCount` that will show all glyphs within the clipped view. This is an optimization\n   * for long blocks of text that are clipped, to skip vertex shader evaluation for glyphs that would\n   * be clipped anyway.\n   *\n   * Note that since `drawElementsInstanced[ANGLE]` only accepts an instance count and not a starting\n   * offset, this optimization becomes less effective as the clipRect moves closer to the end of the\n   * text block. We could fix that by switching from instancing to a full geometry with a drawRange,\n   * but at the expense of much larger attribute buffers (see classdoc above.)\n   *\n   * @param {Vector4} clipRect\n   */\n  applyClipRect(clipRect) {\n    let count = this.getAttribute(glyphIndexAttrName).count;\n    let chunks = this._chunkedBounds;\n    if (chunks) {\n      for (let i = chunks.length; i--;) {\n        count = chunks[i].end;\n        let rect = chunks[i].rect;\n        // note: both rects are l-b-r-t\n        if (rect[1] < clipRect.w && rect[3] > clipRect.y && rect[0] < clipRect.z && rect[2] > clipRect.x) {\n          break\n        }\n      }\n    }\n    this.instanceCount = count;\n  }\n\n  /**\n   * Utility for updating instance attributes with automatic resizing\n   */\n  updateAttributeData(attrName, newArray, itemSize) {\n    const attr = this.getAttribute(attrName);\n    if (newArray) {\n      // If length isn't changing, just update the attribute's array data\n      if (attr && attr.array.length === newArray.length) {\n        attr.array.set(newArray);\n        attr.needsUpdate = true;\n      } else {\n        this.setAttribute(attrName, new InstancedBufferAttribute(newArray, itemSize));\n        // If the new attribute has a different size, we also have to (as of r117) manually clear the\n        // internal cached max instance count. See https://github.com/mrdoob/three.js/issues/19706\n        // It's unclear if this is a threejs bug or a truly unsupported scenario; discussion in\n        // that ticket is ambiguous as to whether replacing a BufferAttribute with one of a\n        // different size is supported, but https://github.com/mrdoob/three.js/pull/17418 strongly\n        // implies it should be supported. It's possible we need to\n        delete this._maxInstanceCount; //for r117+, could be fragile\n        this.dispose(); //for r118+, more robust feeling, but more heavy-handed than I'd like\n      }\n    } else if (attr) {\n      this.deleteAttribute(attrName);\n    }\n  }\n}\n\n// language=GLSL\nconst VERTEX_DEFS = `\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n`;\n\n// language=GLSL prefix=\"void main() {\" suffix=\"}\"\nconst VERTEX_TRANSFORM = `\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n${''/* NOTE: it seems important to calculate the glyph's bounding texture UVs here in the\n  vertex shader, rather than in the fragment shader, as the latter gives strange artifacts\n  on some glyphs (those in the leftmost texture column) on some systems. The exact reason\n  isn't understood but doing this here, then mix()-ing in the fragment shader, seems to work. */}\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n`;\n\n// language=GLSL\nconst FRAGMENT_DEFS = `\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  ${''/* TODO - there's some slight inaccuracy here when dealing with interpolated alpha values; those\n    are linearly interpolated where the encoding is exponential. Look into improving this by rounding\n    to nearest 2 whole texels, decoding those exponential values, and linearly interpolating the result.\n  */}\n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  ${''/*\n    When the standard derivatives extension is available, we choose an antialiasing alpha threshold based\n    on the potential change in the SDF's alpha from this fragment to its neighbor. This strategy maximizes \n    readability and edge crispness at all sizes and screen resolutions.\n  */}\n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  ${''/* \n  // TODO more refined extrapolated distance by adjusting for angle of gradient at edge...\n  // This has potential but currently gives very jagged extensions, maybe due to precision issues?\n  float uvStep = 1.0 / uTroikaSDFGlyphSize;\n  vec2 neighbor1UV = clampedGlyphUV + (\n    vTroikaGlyphUV.x != clampedGlyphUV.x ? vec2(0.0, uvStep * sign(0.5 - vTroikaGlyphUV.y)) :\n    vTroikaGlyphUV.y != clampedGlyphUV.y ? vec2(uvStep * sign(0.5 - vTroikaGlyphUV.x), 0.0) :\n    vec2(0.0)\n  );\n  vec2 neighbor2UV = clampedGlyphUV + (\n    vTroikaGlyphUV.x != clampedGlyphUV.x ? vec2(0.0, uvStep * -sign(0.5 - vTroikaGlyphUV.y)) :\n    vTroikaGlyphUV.y != clampedGlyphUV.y ? vec2(uvStep * -sign(0.5 - vTroikaGlyphUV.x), 0.0) :\n    vec2(0.0)\n  );\n  float neighbor1Distance = troikaGlyphUvToDistance(neighbor1UV);\n  float neighbor2Distance = troikaGlyphUvToDistance(neighbor2UV);\n  float distToUnclamped = length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n  float distToNeighbor = length((clampedGlyphUV - neighbor1UV) * vTroikaGlyphDimensions);\n  float gradientAngle1 = min(asin(abs(neighbor1Distance - distance) / distToNeighbor), PI / 2.0);\n  float gradientAngle2 = min(asin(abs(neighbor2Distance - distance) / distToNeighbor), PI / 2.0);\n  distance += (cos(gradientAngle1) + cos(gradientAngle2)) / 2.0 * distToUnclamped;\n  */}\n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n`;\n\n// language=GLSL prefix=\"void main() {\" suffix=\"}\"\nconst FRAGMENT_TRANSFORM = `\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n`;\n\n\n/**\n * Create a material for rendering text, derived from a baseMaterial\n */\nfunction createTextDerivedMaterial(baseMaterial) {\n  const textMaterial = createDerivedMaterial(baseMaterial, {\n    chained: true,\n    extensions: {\n      derivatives: true\n    },\n    uniforms: {\n      uTroikaSDFTexture: {value: null},\n      uTroikaSDFTextureSize: {value: new Vector2()},\n      uTroikaSDFGlyphSize: {value: 0},\n      uTroikaSDFExponent: {value: 0},\n      uTroikaTotalBounds: {value: new Vector4(0,0,0,0)},\n      uTroikaClipRect: {value: new Vector4(0,0,0,0)},\n      uTroikaEdgeOffset: {value: 0},\n      uTroikaFillOpacity: {value: 1},\n      uTroikaPositionOffset: {value: new Vector2()},\n      uTroikaCurveRadius: {value: 0},\n      uTroikaBlurRadius: {value: 0},\n      uTroikaStrokeWidth: {value: 0},\n      uTroikaStrokeColor: {value: new Color()},\n      uTroikaStrokeOpacity: {value: 1},\n      uTroikaOrient: {value: new Matrix3()},\n      uTroikaUseGlyphColors: {value: true},\n      uTroikaSDFDebug: {value: false}\n    },\n    vertexDefs: VERTEX_DEFS,\n    vertexTransform: VERTEX_TRANSFORM,\n    fragmentDefs: FRAGMENT_DEFS,\n    fragmentColorTransform: FRAGMENT_TRANSFORM,\n    customRewriter({vertexShader, fragmentShader}) {\n      let uDiffuseRE = /\\buniform\\s+vec3\\s+diffuse\\b/;\n      if (uDiffuseRE.test(fragmentShader)) {\n        // Replace all instances of `diffuse` with our varying\n        fragmentShader = fragmentShader\n          .replace(uDiffuseRE, 'varying vec3 vTroikaGlyphColor')\n          .replace(/\\bdiffuse\\b/g, 'vTroikaGlyphColor');\n        // Make sure the vertex shader declares the uniform so we can grab it as a fallback\n        if (!uDiffuseRE.test(vertexShader)) {\n          vertexShader = vertexShader.replace(\n            voidMainRegExp,\n            'uniform vec3 diffuse;\\n$&\\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\\n'\n          );\n        }\n      }\n      return { vertexShader, fragmentShader }\n    }\n  });\n\n  // Force transparency - TODO is this reasonable?\n  textMaterial.transparent = true;\n\n  // Force single draw call when double-sided\n  textMaterial.forceSinglePass = true;\n\n  Object.defineProperties(textMaterial, {\n    isTroikaTextMaterial: {value: true},\n\n    // WebGLShadowMap reverses the side of the shadow material by default, which fails\n    // for planes, so here we force the `shadowSide` to always match the main side.\n    shadowSide: {\n      get() {\n        return this.side\n      },\n      set() {\n        //no-op\n      }\n    }\n  });\n\n  return textMaterial\n}\n\nconst defaultMaterial = /*#__PURE__*/ new MeshBasicMaterial({\n  color: 0xffffff,\n  side: DoubleSide,\n  transparent: true\n});\nconst defaultStrokeColor = 0x808080;\n\nconst tempMat4 = /*#__PURE__*/ new Matrix4();\nconst tempVec3a = /*#__PURE__*/ new Vector3();\nconst tempVec3b = /*#__PURE__*/ new Vector3();\nconst tempArray = [];\nconst origin = /*#__PURE__*/ new Vector3();\nconst defaultOrient = '+x+y';\n\nfunction first(o) {\n  return Array.isArray(o) ? o[0] : o\n}\n\nlet getFlatRaycastMesh = () => {\n  const mesh = new Mesh(\n    new PlaneGeometry(1, 1),\n    defaultMaterial\n  );\n  getFlatRaycastMesh = () => mesh;\n  return mesh\n};\nlet getCurvedRaycastMesh = () => {\n  const mesh = new Mesh(\n    new PlaneGeometry(1, 1, 32, 1),\n    defaultMaterial\n  );\n  getCurvedRaycastMesh = () => mesh;\n  return mesh\n};\n\nconst syncStartEvent = { type: 'syncstart' };\nconst syncCompleteEvent = { type: 'synccomplete' };\n\nconst SYNCABLE_PROPS = [\n  'font',\n  'fontSize',\n  'fontStyle',\n  'fontWeight',\n  'lang',\n  'letterSpacing',\n  'lineHeight',\n  'maxWidth',\n  'overflowWrap',\n  'text',\n  'direction',\n  'textAlign',\n  'textIndent',\n  'whiteSpace',\n  'anchorX',\n  'anchorY',\n  'colorRanges',\n  'sdfGlyphSize'\n];\n\nconst COPYABLE_PROPS = SYNCABLE_PROPS.concat(\n  'material',\n  'color',\n  'depthOffset',\n  'clipRect',\n  'curveRadius',\n  'orientation',\n  'glyphGeometryDetail'\n);\n\n/**\n * @class Text\n *\n * A ThreeJS Mesh that renders a string of text on a plane in 3D space using signed distance\n * fields (SDF).\n */\nclass Text extends Mesh {\n  constructor() {\n    const geometry = new GlyphsGeometry();\n    super(geometry, null);\n\n    // === Text layout properties: === //\n\n    /**\n     * @member {string} text\n     * The string of text to be rendered.\n     */\n    this.text = '';\n\n    /**\n     * @member {number|string} anchorX\n     * Defines the horizontal position in the text block that should line up with the local origin.\n     * Can be specified as a numeric x position in local units, a string percentage of the total\n     * text block width e.g. `'25%'`, or one of the following keyword strings: 'left', 'center',\n     * or 'right'.\n     */\n    this.anchorX = 0;\n\n    /**\n     * @member {number|string} anchorY\n     * Defines the vertical position in the text block that should line up with the local origin.\n     * Can be specified as a numeric y position in local units (note: down is negative y), a string\n     * percentage of the total text block height e.g. `'25%'`, or one of the following keyword strings:\n     * 'top', 'top-baseline', 'top-cap', 'top-ex', 'middle', 'bottom-baseline', or 'bottom'.\n     */\n    this.anchorY = 0;\n\n    /**\n     * @member {number} curveRadius\n     * Defines a cylindrical radius along which the text's plane will be curved. Positive numbers put\n     * the cylinder's centerline (oriented vertically) that distance in front of the text, for a concave\n     * curvature, while negative numbers put it behind the text for a convex curvature. The centerline\n     * will be aligned with the text's local origin; you can use `anchorX` to offset it.\n     *\n     * Since each glyph is by default rendered with a simple quad, each glyph remains a flat plane\n     * internally. You can use `glyphGeometryDetail` to add more vertices for curvature inside glyphs.\n     */\n    this.curveRadius = 0;\n\n    /**\n     * @member {string} direction\n     * Sets the base direction for the text. The default value of \"auto\" will choose a direction based\n     * on the text's content according to the bidi spec. A value of \"ltr\" or \"rtl\" will force the direction.\n     */\n    this.direction = 'auto';\n\n    /**\n     * @member {string|null} font\n     * URL of a custom font to be used. Font files can be in .ttf, .otf, or .woff (not .woff2) formats.\n     * Defaults to Noto Sans.\n     */\n    this.font = null; //will use default from TextBuilder\n\n    this.unicodeFontsURL = null; //defaults to CDN\n\n    /**\n     * @member {number} fontSize\n     * The size at which to render the font in local units; corresponds to the em-box height\n     * of the chosen `font`.\n     */\n    this.fontSize = 0.1;\n\n    /**\n     * @member {number|'normal'|'bold'}\n     * The weight of the font. Currently only used for fallback Noto fonts.\n     */\n    this.fontWeight = 'normal';\n\n    /**\n     * @member {'normal'|'italic'}\n     * The style of the font. Currently only used for fallback Noto fonts.\n     */\n    this.fontStyle = 'normal';\n\n    /**\n     * @member {string|null} lang\n     * The language code of this text; can be used for explicitly selecting certain CJK fonts.\n     */\n    this.lang = null;\n\n      /**\n     * @member {number} letterSpacing\n     * Sets a uniform adjustment to spacing between letters after kerning is applied. Positive\n     * numbers increase spacing and negative numbers decrease it.\n     */\n    this.letterSpacing = 0;\n\n    /**\n     * @member {number|string} lineHeight\n     * Sets the height of each line of text, as a multiple of the `fontSize`. Defaults to 'normal'\n     * which chooses a reasonable height based on the chosen font's ascender/descender metrics.\n     */\n    this.lineHeight = 'normal';\n\n    /**\n     * @member {number} maxWidth\n     * The maximum width of the text block, above which text may start wrapping according to the\n     * `whiteSpace` and `overflowWrap` properties.\n     */\n    this.maxWidth = Infinity;\n\n    /**\n     * @member {string} overflowWrap\n     * Defines how text wraps if the `whiteSpace` property is `normal`. Can be either `'normal'`\n     * to break at whitespace characters, or `'break-word'` to allow breaking within words.\n     * Defaults to `'normal'`.\n     */\n    this.overflowWrap = 'normal';\n\n    /**\n     * @member {string} textAlign\n     * The horizontal alignment of each line of text within the overall text bounding box.\n     */\n    this.textAlign = 'left';\n\n    /**\n     * @member {number} textIndent\n     * Indentation for the first character of a line; see CSS `text-indent`.\n     */\n    this.textIndent = 0;\n\n    /**\n     * @member {string} whiteSpace\n     * Defines whether text should wrap when a line reaches the `maxWidth`. Can\n     * be either `'normal'` (the default), to allow wrapping according to the `overflowWrap` property,\n     * or `'nowrap'` to prevent wrapping. Note that `'normal'` here honors newline characters to\n     * manually break lines, making it behave more like `'pre-wrap'` does in CSS.\n     */\n    this.whiteSpace = 'normal';\n\n\n    // === Presentation properties: === //\n\n    /**\n     * @member {THREE.Material} material\n     * Defines a _base_ material to be used when rendering the text. This material will be\n     * automatically replaced with a material derived from it, that adds shader code to\n     * decrease the alpha for each fragment (pixel) outside the text glyphs, with antialiasing.\n     * By default it will derive from a simple white MeshBasicMaterial, but you can use any\n     * of the other mesh materials to gain other features like lighting, texture maps, etc.\n     *\n     * Also see the `color` shortcut property.\n     */\n    this.material = null;\n\n    /**\n     * @member {string|number|THREE.Color} color\n     * This is a shortcut for setting the `color` of the text's material. You can use this\n     * if you don't want to specify a whole custom `material`. Also, if you do use a custom\n     * `material`, this color will only be used for this particuar Text instance, even if\n     * that same material instance is shared across multiple Text objects.\n     */\n    this.color = null;\n\n    /**\n     * @member {object|null} colorRanges\n     * WARNING: This API is experimental and may change.\n     * This allows more fine-grained control of colors for individual or ranges of characters,\n     * taking precedence over the material's `color`. Its format is an Object whose keys each\n     * define a starting character index for a range, and whose values are the color for each\n     * range. The color value can be a numeric hex color value, a `THREE.Color` object, or\n     * any of the strings accepted by `THREE.Color`.\n     */\n    this.colorRanges = null;\n\n    /**\n     * @member {number|string} outlineWidth\n     * WARNING: This API is experimental and may change.\n     * The width of an outline/halo to be drawn around each text glyph using the `outlineColor` and `outlineOpacity`.\n     * Can be specified as either an absolute number in local units, or as a percentage string e.g.\n     * `\"12%\"` which is treated as a percentage of the `fontSize`. Defaults to `0`, which means\n     * no outline will be drawn unless an `outlineOffsetX/Y` or `outlineBlur` is set.\n     */\n    this.outlineWidth = 0;\n\n    /**\n     * @member {string|number|THREE.Color} outlineColor\n     * WARNING: This API is experimental and may change.\n     * The color of the text outline, if `outlineWidth`/`outlineBlur`/`outlineOffsetX/Y` are set.\n     * Defaults to black.\n     */\n    this.outlineColor = 0x000000;\n\n    /**\n     * @member {number} outlineOpacity\n     * WARNING: This API is experimental and may change.\n     * The opacity of the outline, if `outlineWidth`/`outlineBlur`/`outlineOffsetX/Y` are set.\n     * Defaults to `1`.\n     */\n    this.outlineOpacity = 1;\n\n    /**\n     * @member {number|string} outlineBlur\n     * WARNING: This API is experimental and may change.\n     * A blur radius applied to the outer edge of the text's outline. If the `outlineWidth` is\n     * zero, the blur will be applied at the glyph edge, like CSS's `text-shadow` blur radius.\n     * Can be specified as either an absolute number in local units, or as a percentage string e.g.\n     * `\"12%\"` which is treated as a percentage of the `fontSize`. Defaults to `0`.\n     */\n    this.outlineBlur = 0;\n\n    /**\n     * @member {number|string} outlineOffsetX\n     * WARNING: This API is experimental and may change.\n     * A horizontal offset for the text outline.\n     * Can be specified as either an absolute number in local units, or as a percentage string e.g. `\"12%\"`\n     * which is treated as a percentage of the `fontSize`. Defaults to `0`.\n     */\n    this.outlineOffsetX = 0;\n\n    /**\n     * @member {number|string} outlineOffsetY\n     * WARNING: This API is experimental and may change.\n     * A vertical offset for the text outline.\n     * Can be specified as either an absolute number in local units, or as a percentage string e.g. `\"12%\"`\n     * which is treated as a percentage of the `fontSize`. Defaults to `0`.\n     */\n    this.outlineOffsetY = 0;\n\n    /**\n     * @member {number|string} strokeWidth\n     * WARNING: This API is experimental and may change.\n     * The width of an inner stroke drawn inside each text glyph using the `strokeColor` and `strokeOpacity`.\n     * Can be specified as either an absolute number in local units, or as a percentage string e.g. `\"12%\"`\n     * which is treated as a percentage of the `fontSize`. Defaults to `0`.\n     */\n    this.strokeWidth = 0;\n\n    /**\n     * @member {string|number|THREE.Color} strokeColor\n     * WARNING: This API is experimental and may change.\n     * The color of the text stroke, if `strokeWidth` is greater than zero. Defaults to gray.\n     */\n    this.strokeColor = defaultStrokeColor;\n\n    /**\n     * @member {number} strokeOpacity\n     * WARNING: This API is experimental and may change.\n     * The opacity of the stroke, if `strokeWidth` is greater than zero. Defaults to `1`.\n     */\n    this.strokeOpacity = 1;\n\n    /**\n     * @member {number} fillOpacity\n     * WARNING: This API is experimental and may change.\n     * The opacity of the glyph's fill from 0 to 1. This behaves like the material's `opacity` but allows\n     * giving the fill a different opacity than the `strokeOpacity`. A fillOpacity of `0` makes the\n     * interior of the glyph invisible, leaving just the `strokeWidth`. Defaults to `1`.\n     */\n    this.fillOpacity = 1;\n\n    /**\n     * @member {number} depthOffset\n     * This is a shortcut for setting the material's `polygonOffset` and related properties,\n     * which can be useful in preventing z-fighting when this text is laid on top of another\n     * plane in the scene. Positive numbers are further from the camera, negatives closer.\n     */\n    this.depthOffset = 0;\n\n    /**\n     * @member {Array<number>} clipRect\n     * If specified, defines a `[minX, minY, maxX, maxY]` of a rectangle outside of which all\n     * pixels will be discarded. This can be used for example to clip overflowing text when\n     * `whiteSpace='nowrap'`.\n     */\n    this.clipRect = null;\n\n    /**\n     * @member {string} orientation\n     * Defines the axis plane on which the text should be laid out when the mesh has no extra\n     * rotation transform. It is specified as a string with two axes: the horizontal axis with\n     * positive pointing right, and the vertical axis with positive pointing up. By default this\n     * is '+x+y', meaning the text sits on the xy plane with the text's top toward positive y\n     * and facing positive z. A value of '+x-z' would place it on the xz plane with the text's\n     * top toward negative z and facing positive y.\n     */\n    this.orientation = defaultOrient;\n\n    /**\n     * @member {number} glyphGeometryDetail\n     * Controls number of vertical/horizontal segments that make up each glyph's rectangular\n     * plane. Defaults to 1. This can be increased to provide more geometrical detail for custom\n     * vertex shader effects, for example.\n     */\n    this.glyphGeometryDetail = 1;\n\n    /**\n     * @member {number|null} sdfGlyphSize\n     * The size of each glyph's SDF (signed distance field) used for rendering. This must be a\n     * power-of-two number. Defaults to 64 which is generally a good balance of size and quality\n     * for most fonts. Larger sizes can improve the quality of glyph rendering by increasing\n     * the sharpness of corners and preventing loss of very thin lines, at the expense of\n     * increased memory footprint and longer SDF generation time.\n     */\n    this.sdfGlyphSize = null;\n\n    /**\n     * @member {boolean} gpuAccelerateSDF\n     * When `true`, the SDF generation process will be GPU-accelerated with WebGL when possible,\n     * making it much faster especially for complex glyphs, and falling back to a JavaScript version\n     * executed in web workers when support isn't available. It should automatically detect support,\n     * but it's still somewhat experimental, so you can set it to `false` to force it to use the JS\n     * version if you encounter issues with it.\n     */\n    this.gpuAccelerateSDF = true;\n\n    this.debugSDF = false;\n  }\n\n  /**\n   * Updates the text rendering according to the current text-related configuration properties.\n   * This is an async process, so you can pass in a callback function to be executed when it\n   * finishes.\n   * @param {function} [callback]\n   */\n  sync(callback) {\n    if (this._needsSync) {\n      this._needsSync = false;\n\n      // If there's another sync still in progress, queue\n      if (this._isSyncing) {\n        (this._queuedSyncs || (this._queuedSyncs = [])).push(callback);\n      } else {\n        this._isSyncing = true;\n        this.dispatchEvent(syncStartEvent);\n\n        getTextRenderInfo({\n          text: this.text,\n          font: this.font,\n          lang: this.lang,\n          fontSize: this.fontSize || 0.1,\n          fontWeight: this.fontWeight || 'normal',\n          fontStyle: this.fontStyle || 'normal',\n          letterSpacing: this.letterSpacing || 0,\n          lineHeight: this.lineHeight || 'normal',\n          maxWidth: this.maxWidth,\n          direction: this.direction || 'auto',\n          textAlign: this.textAlign,\n          textIndent: this.textIndent,\n          whiteSpace: this.whiteSpace,\n          overflowWrap: this.overflowWrap,\n          anchorX: this.anchorX,\n          anchorY: this.anchorY,\n          colorRanges: this.colorRanges,\n          includeCaretPositions: true, //TODO parameterize\n          sdfGlyphSize: this.sdfGlyphSize,\n          gpuAccelerateSDF: this.gpuAccelerateSDF,\n          unicodeFontsURL: this.unicodeFontsURL,\n        }, textRenderInfo => {\n          this._isSyncing = false;\n\n          // Save result for later use in onBeforeRender\n          this._textRenderInfo = textRenderInfo;\n\n          // Update the geometry attributes\n          this.geometry.updateGlyphs(\n            textRenderInfo.glyphBounds,\n            textRenderInfo.glyphAtlasIndices,\n            textRenderInfo.blockBounds,\n            textRenderInfo.chunkedBounds,\n            textRenderInfo.glyphColors\n          );\n\n          // If we had extra sync requests queued up, kick it off\n          const queued = this._queuedSyncs;\n          if (queued) {\n            this._queuedSyncs = null;\n            this._needsSync = true;\n            this.sync(() => {\n              queued.forEach(fn => fn && fn());\n            });\n          }\n\n          this.dispatchEvent(syncCompleteEvent);\n          if (callback) {\n            callback();\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * Initiate a sync if needed - note it won't complete until next frame at the\n   * earliest so if possible it's a good idea to call sync() manually as soon as\n   * all the properties have been set.\n   * @override\n   */\n  onBeforeRender(renderer, scene, camera, geometry, material, group) {\n    this.sync();\n\n    // This may not always be a text material, e.g. if there's a scene.overrideMaterial present\n    if (material.isTroikaTextMaterial) {\n      this._prepareForRender(material);\n    }\n  }\n\n  /**\n   * Shortcut to dispose the geometry specific to this instance.\n   * Note: we don't also dispose the derived material here because if anything else is\n   * sharing the same base material it will result in a pause next frame as the program\n   * is recompiled. Instead users can dispose the base material manually, like normal,\n   * and we'll also dispose the derived material at that time.\n   */\n  dispose() {\n    this.geometry.dispose();\n  }\n\n  /**\n   * @property {TroikaTextRenderInfo|null} textRenderInfo\n   * @readonly\n   * The current processed rendering data for this TextMesh, returned by the TextBuilder after\n   * a `sync()` call. This will be `null` initially, and may be stale for a short period until\n   * the asynchrous `sync()` process completes.\n   */\n  get textRenderInfo() {\n    return this._textRenderInfo || null\n  }\n\n  /**\n   * Create the text derived material from the base material. Can be overridden to use a custom\n   * derived material.\n   */\n  createDerivedMaterial(baseMaterial) {\n    return createTextDerivedMaterial(baseMaterial)\n  }\n\n  // Handler for automatically wrapping the base material with our upgrades. We do the wrapping\n  // lazily on _read_ rather than write to avoid unnecessary wrapping on transient values.\n  get material() {\n    let derivedMaterial = this._derivedMaterial;\n    const baseMaterial = this._baseMaterial || this._defaultMaterial || (this._defaultMaterial = defaultMaterial.clone());\n    if (!derivedMaterial || !derivedMaterial.isDerivedFrom(baseMaterial)) {\n      derivedMaterial = this._derivedMaterial = this.createDerivedMaterial(baseMaterial);\n      // dispose the derived material when its base material is disposed:\n      baseMaterial.addEventListener('dispose', function onDispose() {\n        baseMaterial.removeEventListener('dispose', onDispose);\n        derivedMaterial.dispose();\n      });\n    }\n    // If text outline is configured, render it as a preliminary draw using Three's multi-material\n    // feature (see GlyphsGeometry which sets up `groups` for this purpose) Doing it with multi\n    // materials ensures the layers are always rendered consecutively in a consistent order.\n    // Each layer will trigger onBeforeRender with the appropriate material.\n    if (this.hasOutline()) {\n      let outlineMaterial = derivedMaterial._outlineMtl;\n      if (!outlineMaterial) {\n        outlineMaterial = derivedMaterial._outlineMtl = Object.create(derivedMaterial, {\n          id: {value: derivedMaterial.id + 0.1}\n        });\n        outlineMaterial.isTextOutlineMaterial = true;\n        outlineMaterial.depthWrite = false;\n        outlineMaterial.map = null; //???\n        derivedMaterial.addEventListener('dispose', function onDispose() {\n          derivedMaterial.removeEventListener('dispose', onDispose);\n          outlineMaterial.dispose();\n        });\n      }\n      return [\n        outlineMaterial,\n        derivedMaterial\n      ]\n    } else {\n      return derivedMaterial\n    }\n  }\n  set material(baseMaterial) {\n    if (baseMaterial && baseMaterial.isTroikaTextMaterial) { //prevent double-derivation\n      this._derivedMaterial = baseMaterial;\n      this._baseMaterial = baseMaterial.baseMaterial;\n    } else {\n      this._baseMaterial = baseMaterial;\n    }\n  }\n\n  hasOutline() {\n    return !!(this.outlineWidth || this.outlineBlur || this.outlineOffsetX || this.outlineOffsetY)\n  }\n\n  get glyphGeometryDetail() {\n    return this.geometry.detail\n  }\n  set glyphGeometryDetail(detail) {\n    this.geometry.detail = detail;\n  }\n\n  get curveRadius() {\n    return this.geometry.curveRadius\n  }\n  set curveRadius(r) {\n    this.geometry.curveRadius = r;\n  }\n\n  // Create and update material for shadows upon request:\n  get customDepthMaterial() {\n    return first(this.material).getDepthMaterial()\n  }\n  get customDistanceMaterial() {\n    return first(this.material).getDistanceMaterial()\n  }\n\n  _prepareForRender(material) {\n    const isOutline = material.isTextOutlineMaterial;\n    const uniforms = material.uniforms;\n    const textInfo = this.textRenderInfo;\n    if (textInfo) {\n      const {sdfTexture, blockBounds} = textInfo;\n      uniforms.uTroikaSDFTexture.value = sdfTexture;\n      uniforms.uTroikaSDFTextureSize.value.set(sdfTexture.image.width, sdfTexture.image.height);\n      uniforms.uTroikaSDFGlyphSize.value = textInfo.sdfGlyphSize;\n      uniforms.uTroikaSDFExponent.value = textInfo.sdfExponent;\n      uniforms.uTroikaTotalBounds.value.fromArray(blockBounds);\n      uniforms.uTroikaUseGlyphColors.value = !isOutline && !!textInfo.glyphColors;\n\n      let distanceOffset = 0;\n      let blurRadius = 0;\n      let strokeWidth = 0;\n      let fillOpacity;\n      let strokeOpacity;\n      let strokeColor;\n      let offsetX = 0;\n      let offsetY = 0;\n\n      if (isOutline) {\n        let {outlineWidth, outlineOffsetX, outlineOffsetY, outlineBlur, outlineOpacity} = this;\n        distanceOffset = this._parsePercent(outlineWidth) || 0;\n        blurRadius = Math.max(0, this._parsePercent(outlineBlur) || 0);\n        fillOpacity = outlineOpacity;\n        offsetX = this._parsePercent(outlineOffsetX) || 0;\n        offsetY = this._parsePercent(outlineOffsetY) || 0;\n      } else {\n        strokeWidth = Math.max(0, this._parsePercent(this.strokeWidth) || 0);\n        if (strokeWidth) {\n          strokeColor = this.strokeColor;\n          uniforms.uTroikaStrokeColor.value.set(strokeColor == null ? defaultStrokeColor : strokeColor);\n          strokeOpacity = this.strokeOpacity;\n          if (strokeOpacity == null) strokeOpacity = 1;\n        }\n        fillOpacity = this.fillOpacity;\n      }\n\n      uniforms.uTroikaEdgeOffset.value = distanceOffset;\n      uniforms.uTroikaPositionOffset.value.set(offsetX, offsetY);\n      uniforms.uTroikaBlurRadius.value = blurRadius;\n      uniforms.uTroikaStrokeWidth.value = strokeWidth;\n      uniforms.uTroikaStrokeOpacity.value = strokeOpacity;\n      uniforms.uTroikaFillOpacity.value = fillOpacity == null ? 1 : fillOpacity;\n      uniforms.uTroikaCurveRadius.value = this.curveRadius || 0;\n\n      let clipRect = this.clipRect;\n      if (clipRect && Array.isArray(clipRect) && clipRect.length === 4) {\n        uniforms.uTroikaClipRect.value.fromArray(clipRect);\n      } else {\n        // no clipping - choose a finite rect that shouldn't ever be reached by overflowing glyphs or outlines\n        const pad = (this.fontSize || 0.1) * 100;\n        uniforms.uTroikaClipRect.value.set(\n          blockBounds[0] - pad,\n          blockBounds[1] - pad,\n          blockBounds[2] + pad,\n          blockBounds[3] + pad\n        );\n      }\n      this.geometry.applyClipRect(uniforms.uTroikaClipRect.value);\n    }\n    uniforms.uTroikaSDFDebug.value = !!this.debugSDF;\n    material.polygonOffset = !!this.depthOffset;\n    material.polygonOffsetFactor = material.polygonOffsetUnits = this.depthOffset || 0;\n\n    // Shortcut for setting material color via `color` prop on the mesh; this is\n    // applied only to the derived material to avoid mutating a shared base material.\n    const color = isOutline ? (this.outlineColor || 0) : this.color;\n\n    if (color == null) {\n      delete material.color; //inherit from base\n    } else {\n      const colorObj = material.hasOwnProperty('color') ? material.color : (material.color = new Color());\n      if (color !== colorObj._input || typeof color === 'object') {\n        colorObj.set(colorObj._input = color);\n      }\n    }\n\n    // base orientation\n    let orient = this.orientation || defaultOrient;\n    if (orient !== material._orientation) {\n      let rotMat = uniforms.uTroikaOrient.value;\n      orient = orient.replace(/[^-+xyz]/g, '');\n      let match = orient !== defaultOrient && orient.match(/^([-+])([xyz])([-+])([xyz])$/);\n      if (match) {\n        let [, hSign, hAxis, vSign, vAxis] = match;\n        tempVec3a.set(0, 0, 0)[hAxis] = hSign === '-' ? 1 : -1;\n        tempVec3b.set(0, 0, 0)[vAxis] = vSign === '-' ? -1 : 1;\n        tempMat4.lookAt(origin, tempVec3a.cross(tempVec3b), tempVec3b);\n        rotMat.setFromMatrix4(tempMat4);\n      } else {\n        rotMat.identity();\n      }\n      material._orientation = orient;\n    }\n  }\n\n  _parsePercent(value) {\n    if (typeof value === 'string') {\n      let match = value.match(/^(-?[\\d.]+)%$/);\n      let pct = match ? parseFloat(match[1]) : NaN;\n      value = (isNaN(pct) ? 0 : pct / 100) * this.fontSize;\n    }\n    return value\n  }\n\n  /**\n   * Translate a point in local space to an x/y in the text plane.\n   */\n  localPositionToTextCoords(position, target = new Vector2()) {\n    target.copy(position); //simple non-curved case is 1:1\n    const r = this.curveRadius;\n    if (r) { //flatten the curve\n      target.x = Math.atan2(position.x, Math.abs(r) - Math.abs(position.z)) * Math.abs(r);\n    }\n    return target\n  }\n\n  /**\n   * Translate a point in world space to an x/y in the text plane.\n   */\n  worldPositionToTextCoords(position, target = new Vector2()) {\n    tempVec3a.copy(position);\n    return this.localPositionToTextCoords(this.worldToLocal(tempVec3a), target)\n  }\n\n  /**\n   * @override Custom raycasting to test against the whole text block's max rectangular bounds\n   * TODO is there any reason to make this more granular, like within individual line or glyph rects?\n   */\n  raycast(raycaster, intersects) {\n    const {textRenderInfo, curveRadius} = this;\n    if (textRenderInfo) {\n      const bounds = textRenderInfo.blockBounds;\n      const raycastMesh = curveRadius ? getCurvedRaycastMesh() : getFlatRaycastMesh();\n      const geom = raycastMesh.geometry;\n      const {position, uv} = geom.attributes;\n      for (let i = 0; i < uv.count; i++) {\n        let x = bounds[0] + (uv.getX(i) * (bounds[2] - bounds[0]));\n        const y = bounds[1] + (uv.getY(i) * (bounds[3] - bounds[1]));\n        let z = 0;\n        if (curveRadius) {\n          z = curveRadius - Math.cos(x / curveRadius) * curveRadius;\n          x = Math.sin(x / curveRadius) * curveRadius;\n        }\n        position.setXYZ(i, x, y, z);\n      }\n      geom.boundingSphere = this.geometry.boundingSphere;\n      geom.boundingBox = this.geometry.boundingBox;\n      raycastMesh.matrixWorld = this.matrixWorld;\n      raycastMesh.material.side = this.material.side;\n      tempArray.length = 0;\n      raycastMesh.raycast(raycaster, tempArray);\n      for (let i = 0; i < tempArray.length; i++) {\n        tempArray[i].object = this;\n        intersects.push(tempArray[i]);\n      }\n    }\n  }\n\n  copy(source) {\n    // Prevent copying the geometry reference so we don't end up sharing attributes between instances\n    const geom = this.geometry;\n    super.copy(source);\n    this.geometry = geom;\n\n    COPYABLE_PROPS.forEach(prop => {\n      this[prop] = source[prop];\n    });\n    return this\n  }\n\n  clone() {\n    return new this.constructor().copy(this)\n  }\n}\n\n\n// Create setters for properties that affect text layout:\nSYNCABLE_PROPS.forEach(prop => {\n  const privateKey = '_private_' + prop;\n  Object.defineProperty(Text.prototype, prop, {\n    get() {\n      return this[privateKey]\n    },\n    set(value) {\n      if (value !== this[privateKey]) {\n        this[privateKey] = value;\n        this._needsSync = true;\n      }\n    }\n  });\n});\n\nconst syncStartEvent$1 = { type: \"syncstart\" };\nconst syncCompleteEvent$1 = { type: \"synccomplete\" };\nconst memberIndexAttrName = \"aTroikaTextBatchMemberIndex\";\n\n\n/*\nData texture packing strategy:\n\n# Common:\n0-15: matrix\n16-19: uTroikaTotalBounds\n20-23: uTroikaClipRect\n24: diffuse (color/outlineColor)\n25: uTroikaFillOpacity (fillOpacity/outlineOpacity)\n26: uTroikaCurveRadius\n27: <blank>\n\n# Main:\n28: uTroikaStrokeWidth\n29: uTroikaStrokeColor\n30: uTroikaStrokeOpacity\n\n# Outline:\n28-29: uTroikaPositionOffset\n30: uTroikaEdgeOffset\n31: uTroikaBlurRadius\n*/\nconst floatsPerMember = 32;\n\nconst tempBox3 = new Box3();\nconst tempColor$1 = new Color();\n\n/**\n * @experimental\n *\n * A specialized `Text` implementation that accepts any number of `Text` children\n * and automatically batches them together to render in a single draw call.\n *\n * The `material` of each child `Text` will be ignored, and the `material` of the\n * `BatchedText` will be used for all of them instead.\n *\n * NOTE: This only works in WebGL2 or where the OES_texture_float extension is available.\n */\nclass BatchedText extends Text {\n  constructor () {\n    super();\n\n    /**\n     * @typedef {Object} PackingInfo\n     * @property {number} index - the packing order index when last packed, or -1\n     * @property {boolean} dirty - whether it has synced since last pack\n     */\n\n    /**\n     * @type {Map<Text, PackingInfo>}\n     */\n    this._members = new Map();\n    this._dataTextures = {};\n\n    this._onMemberSynced = (e) => {\n      this._members.get(e.target).dirty = true;\n    };\n  }\n\n  /**\n   * @override\n   * Batch any Text objects added as children\n   */\n  add (...objects) {\n    for (let i = 0; i < objects.length; i++) {\n      if (objects[i] instanceof Text) {\n        this.addText(objects[i]);\n      } else {\n        super.add(objects[i]);\n      }\n    }\n    return this;\n  }\n\n  /**\n   * @override\n   */\n  remove (...objects) {\n    for (let i = 0; i < objects.length; i++) {\n      if (objects[i] instanceof Text) {\n        this.removeText(objects[i]);\n      } else {\n        super.remove(objects[i]);\n      }\n    }\n    return this;\n  }\n\n  /**\n   * @param {Text} text\n   */\n  addText (text) {\n    if (!this._members.has(text)) {\n      this._members.set(text, {\n        index: -1,\n        glyphCount: -1,\n        dirty: true\n      });\n      text.addEventListener(\"synccomplete\", this._onMemberSynced);\n    }\n  }\n\n  /**\n   * @param {Text} text\n   */\n  removeText (text) {\n    this._needsRepack = true;\n    text.removeEventListener(\"synccomplete\", this._onMemberSynced);\n    this._members.delete(text);\n  }\n\n  /**\n   * Use the custom derivation with extra batching logic\n   */\n  createDerivedMaterial (baseMaterial) {\n    return createBatchedTextMaterial(baseMaterial);\n  }\n\n  updateMatrixWorld (force) {\n    super.updateMatrixWorld(force);\n    this.updateBounds();\n  }\n\n  /**\n   * Update the batched geometry bounds to hold all members\n   */\n  updateBounds () {\n    // Update member local matrices and the overall bounds\n    const bbox = this.geometry.boundingBox.makeEmpty();\n    this._members.forEach((_, text) => {\n      if (text.matrixAutoUpdate) text.updateMatrix(); // ignore world matrix\n      tempBox3.copy(text.geometry.boundingBox).applyMatrix4(text.matrix);\n      bbox.union(tempBox3);\n    });\n    bbox.getBoundingSphere(this.geometry.boundingSphere);\n  }\n\n  /** @override */\n  hasOutline() {\n    return this._members.keys().some(m => m.hasOutline())\n  }\n\n  /**\n   * @override\n   * Copy member matrices and uniform values into the data texture\n   */\n  _prepareForRender (material) {\n    const isOutline = material.isTextOutlineMaterial;\n    material.uniforms.uTroikaIsOutline.value = isOutline;\n\n    // Resize the texture to fit in powers of 2\n    let texture = this._dataTextures[isOutline ? 'outline' : 'main'];\n    const dataLength = Math.pow(2, Math.ceil(Math.log2(this._members.size * floatsPerMember)));\n    if (!texture || dataLength !== texture.image.data.length) {\n      // console.log(`resizing: ${dataLength}`);\n      if (texture) texture.dispose();\n      const width = Math.min(dataLength / 4, 1024);\n      texture = this._dataTextures[isOutline ? 'outline' : 'main'] = new DataTexture(\n        new Float32Array(dataLength),\n        width,\n        dataLength / 4 / width,\n        RGBAFormat,\n        FloatType\n      );\n    }\n\n    const texData = texture.image.data;\n    const setTexData = (index, value) => {\n      if (value !== texData[index]) {\n        texData[index] = value;\n        texture.needsUpdate = true;\n      }\n    };\n    this._members.forEach(({ index, dirty }, text) => {\n      if (index > -1) {\n        const startIndex = index * floatsPerMember;\n\n        // Matrix\n        const matrix = text.matrix.elements;\n        for (let i = 0; i < 16; i++) {\n          setTexData(startIndex + i, matrix[i]);\n        }\n\n        // Let the member populate the uniforms, since that does all the appropriate\n        // logic and handling of defaults, and we'll just grab the results from there\n        text._prepareForRender(material);\n        const {\n          uTroikaTotalBounds,\n          uTroikaClipRect,\n          uTroikaPositionOffset,\n          uTroikaEdgeOffset,\n          uTroikaBlurRadius,\n          uTroikaStrokeWidth,\n          uTroikaStrokeColor,\n          uTroikaStrokeOpacity,\n          uTroikaFillOpacity,\n          uTroikaCurveRadius,\n        } = material.uniforms;\n\n        // Total bounds for uv\n        for (let i = 0; i < 4; i++) {\n          setTexData(startIndex + 16 + i, uTroikaTotalBounds.value.getComponent(i));\n        }\n\n        // Clip rect\n        for (let i = 0; i < 4; i++) {\n          setTexData(startIndex + 20 + i, uTroikaClipRect.value.getComponent(i));\n        }\n\n        // Color\n        let color = isOutline ? (text.outlineColor || 0) : text.color;\n        if (color == null) color = this.color;\n        if (color == null) color = this.material.color;\n        if (color == null) color = 0xffffff;\n        setTexData(startIndex + 24, tempColor$1.set(color).getHex());\n\n        // Fill opacity / outline opacity\n        setTexData(startIndex + 25, uTroikaFillOpacity.value);\n\n        // Curve radius\n        setTexData(startIndex + 26, uTroikaCurveRadius.value);\n\n        if (isOutline) {\n          // Outline properties\n          setTexData(startIndex + 28, uTroikaPositionOffset.value.x);\n          setTexData(startIndex + 29, uTroikaPositionOffset.value.y);\n          setTexData(startIndex + 30, uTroikaEdgeOffset.value);\n          setTexData(startIndex + 31, uTroikaBlurRadius.value);\n        } else {\n          // Stroke properties\n          setTexData(startIndex + 28, uTroikaStrokeWidth.value);\n          setTexData(startIndex + 29, tempColor$1.set(uTroikaStrokeColor.value).getHex());\n          setTexData(startIndex + 30, uTroikaStrokeOpacity.value);\n        }\n      }\n    });\n    material.setMatrixTexture(texture);\n\n    // For the non-member-specific uniforms:\n    super._prepareForRender(material);\n  }\n\n  sync (callback) {\n    // TODO: skip members updating their geometries, just use textRenderInfo directly\n\n    // Trigger sync on all members that need it\n    let syncPromises = this._needsRepack ? [] : null;\n    this._needsRepack = false;\n    this._members.forEach((packingInfo, text) => {\n      if (packingInfo.dirty || text._needsSync) {\n        packingInfo.dirty = false;\n        (syncPromises || (syncPromises = [])).push(new Promise(resolve => {\n          if (text._needsSync) {\n            text.sync(resolve);\n          } else {\n            resolve();\n          }\n        }));\n      }\n    });\n\n    // If any needed syncing, wait for them and then repack the batched geometry\n    if (syncPromises) {\n      this.dispatchEvent(syncStartEvent$1);\n\n      Promise.all(syncPromises).then(() => {\n        const { geometry } = this;\n        const batchedAttributes = geometry.attributes;\n        let memberIndexes = batchedAttributes[memberIndexAttrName] && batchedAttributes[memberIndexAttrName].array || new Uint16Array(0);\n        let batchedGlyphIndexes = batchedAttributes[glyphIndexAttrName] && batchedAttributes[glyphIndexAttrName].array || new Float32Array(0);\n        let batchedGlyphBounds = batchedAttributes[glyphBoundsAttrName] && batchedAttributes[glyphBoundsAttrName].array || new Float32Array(0);\n\n        // Initial pass to collect total glyph count and resize the arrays if needed\n        let totalGlyphCount = 0;\n        this._members.forEach((packingInfo, { textRenderInfo }) => {\n          if (textRenderInfo) {\n            totalGlyphCount += textRenderInfo.glyphAtlasIndices.length;\n            this._textRenderInfo = textRenderInfo; // TODO - need this, but be smarter\n          }\n        });\n        if (totalGlyphCount !== memberIndexes.length) {\n          memberIndexes = cloneAndResize(memberIndexes, totalGlyphCount);\n          batchedGlyphIndexes = cloneAndResize(batchedGlyphIndexes, totalGlyphCount);\n          batchedGlyphBounds = cloneAndResize(batchedGlyphBounds, totalGlyphCount * 4);\n        }\n\n        // Populate batch arrays\n        let memberIndex = 0;\n        let glyphIndex = 0;\n        this._members.forEach((packingInfo, { textRenderInfo }) => {\n          if (textRenderInfo) {\n            const glyphCount = textRenderInfo.glyphAtlasIndices.length;\n            memberIndexes.fill(memberIndex, glyphIndex, glyphIndex + glyphCount);\n\n            // TODO can skip these for members that are not dirty or shifting overall position:\n            batchedGlyphIndexes.set(textRenderInfo.glyphAtlasIndices, glyphIndex, glyphIndex + glyphCount);\n            batchedGlyphBounds.set(textRenderInfo.glyphBounds, glyphIndex * 4, (glyphIndex + glyphCount) * 4);\n\n            glyphIndex += glyphCount;\n            packingInfo.index = memberIndex++;\n          }\n        });\n\n        // Update the geometry attributes\n        geometry.updateAttributeData(memberIndexAttrName, memberIndexes, 1);\n        geometry.getAttribute(memberIndexAttrName).setUsage(DynamicDrawUsage);\n        geometry.updateAttributeData(glyphIndexAttrName, batchedGlyphIndexes, 1);\n        geometry.updateAttributeData(glyphBoundsAttrName, batchedGlyphBounds, 4);\n\n        this.updateBounds();\n\n        this.dispatchEvent(syncCompleteEvent$1);\n        if (callback) {\n          callback();\n        }\n      });\n    }\n  }\n\n  copy (source) {\n    if (source instanceof BatchedText) {\n      super.copy(source);\n      this._members.forEach((_, text) => this.removeText(text));\n      source._members.forEach((_, text) => this.addText(text));\n    }\n    return this;\n  }\n\n  dispose () {\n    super.dispose();\n    Object.values(this._dataTextures).forEach(tex => tex.dispose());\n  }\n}\n\nfunction cloneAndResize (source, newLength) {\n  const copy = new source.constructor(newLength);\n  copy.set(source.subarray(0, newLength));\n  return copy;\n}\n\nfunction createBatchedTextMaterial (baseMaterial) {\n  const texUniformName = \"uTroikaMatricesTexture\";\n  const texSizeUniformName = \"uTroikaMatricesTextureSize\";\n\n  // Due to how vertexTransform gets injected, the matrix transforms must happen\n  // in the base material of TextDerivedMaterial, but other transforms to its\n  // shader must come after, so we sandwich it between two derivations.\n\n  // Transform the vertex position\n  let batchMaterial = createDerivedMaterial(baseMaterial, {\n    chained: true,\n    uniforms: {\n      [texSizeUniformName]: { value: new Vector2() },\n      [texUniformName]: { value: null }\n    },\n    // language=GLSL\n    vertexDefs: `\n      uniform highp sampler2D ${texUniformName};\n      uniform vec2 ${texSizeUniformName};\n      attribute float ${memberIndexAttrName};\n\n      vec4 troikaBatchTexel(float offset) {\n        offset += ${memberIndexAttrName} * ${floatsPerMember.toFixed(1)} / 4.0;\n        float w = ${texSizeUniformName}.x;\n        vec2 uv = (vec2(mod(offset, w), floor(offset / w)) + 0.5) / ${texSizeUniformName};\n        return texture2D(${texUniformName}, uv);\n      }\n    `,\n    // language=GLSL prefix=\"void main() {\" suffix=\"}\"\n    vertexTransform: `\n      mat4 matrix = mat4(\n        troikaBatchTexel(0.0),\n        troikaBatchTexel(1.0),\n        troikaBatchTexel(2.0),\n        troikaBatchTexel(3.0)\n      );\n      position.xyz = (matrix * vec4(position, 1.0)).xyz;\n    `,\n  });\n\n  // Add the text shaders\n  batchMaterial = createTextDerivedMaterial(batchMaterial);\n\n  // Now make other changes to the derived text shader code\n  batchMaterial = createDerivedMaterial(batchMaterial, {\n    chained: true,\n    uniforms: {\n      uTroikaIsOutline: {value: false},\n    },\n    customRewriter(shaders) {\n      // Convert some text shader uniforms to varyings\n      const varyingUniforms = [\n        'uTroikaTotalBounds',\n        'uTroikaClipRect',\n        'uTroikaPositionOffset',\n        'uTroikaEdgeOffset',\n        'uTroikaBlurRadius',\n        'uTroikaStrokeWidth',\n        'uTroikaStrokeColor',\n        'uTroikaStrokeOpacity',\n        'uTroikaFillOpacity',\n        'uTroikaCurveRadius',\n        'diffuse'\n      ];\n      varyingUniforms.forEach(uniformName => {\n        shaders = uniformToVarying(shaders, uniformName);\n      });\n      return shaders\n    },\n    // language=GLSL\n    vertexDefs: `\n      uniform bool uTroikaIsOutline;\n      vec3 troikaFloatToColor(float v) {\n        return mod(floor(vec3(v / 65536.0, v / 256.0, v)), 256.0) / 256.0;\n      }\n    `,\n    // language=GLSL prefix=\"void main() {\" suffix=\"}\"\n    vertexTransform: `\n      uTroikaTotalBounds = troikaBatchTexel(4.0);\n      uTroikaClipRect = troikaBatchTexel(5.0);\n      \n      vec4 data = troikaBatchTexel(6.0);\n      diffuse = troikaFloatToColor(data.x);\n      uTroikaFillOpacity = data.y;\n      uTroikaCurveRadius = data.z;\n      \n      data = troikaBatchTexel(7.0);\n      if (uTroikaIsOutline) {\n        if (data == vec4(0.0)) { // degenerate if zero outline\n          position = vec3(0.0);\n        } else {\n          uTroikaPositionOffset = data.xy;\n          uTroikaEdgeOffset = data.z;\n          uTroikaBlurRadius = data.w;\n        }\n      } else {\n        uTroikaStrokeWidth = data.x;\n        uTroikaStrokeColor = troikaFloatToColor(data.y);\n        uTroikaStrokeOpacity = data.z;\n      }\n    `,\n  });\n\n  batchMaterial.setMatrixTexture = (texture) => {\n    batchMaterial.uniforms[texUniformName].value = texture;\n    batchMaterial.uniforms[texSizeUniformName].value.set(texture.image.width, texture.image.height);\n  };\n  return batchMaterial;\n}\n\n/**\n * Turn a uniform into a varying/writeable value.\n * - If the uniform was used in the fragment shader, it will become a varying in both shaders.\n * - If the uniform was only used in the vertex shader, it will become a writeable var.\n */\nfunction uniformToVarying({vertexShader, fragmentShader}, uniformName, varyingName = uniformName) {\n  const uniformRE = new RegExp(`uniform\\\\s+(bool|float|vec[234]|mat[34])\\\\s+${uniformName}\\\\b`);\n\n  let type;\n  let hadFragmentUniform = false;\n  fragmentShader = fragmentShader.replace(uniformRE, ($0, $1) => {\n    hadFragmentUniform = true;\n    return `varying ${type = $1} ${varyingName}`\n  });\n\n  let hadVertexUniform = false;\n  vertexShader = vertexShader.replace(uniformRE, (_, $1) => {\n    hadVertexUniform = true;\n    return `${hadFragmentUniform ? 'varying' : ''} ${type = $1} ${varyingName}`\n  });\n  if (!hadVertexUniform) {\n    vertexShader = `${hadFragmentUniform ? 'varying' : ''} ${type} ${varyingName};\\n${vertexShader}`;\n  }\n  return {vertexShader, fragmentShader}\n}\n\n//=== Utility functions for dealing with carets and selection ranges ===//\n\n/**\n * @typedef {object} TextCaret\n * @property {number} x - x position of the caret\n * @property {number} y - y position of the caret's bottom\n * @property {number} height - height of the caret\n * @property {number} charIndex - the index in the original input string of this caret's target\n *   character; the caret will be for the position _before_ that character.\n */\n\n/**\n * Given a local x/y coordinate in the text block plane, find the nearest caret position.\n * @param {TroikaTextRenderInfo} textRenderInfo - a result object from TextBuilder#getTextRenderInfo\n * @param {number} x\n * @param {number} y\n * @return {TextCaret | null}\n */\nfunction getCaretAtPoint(textRenderInfo, x, y) {\n  let closestCaret = null;\n  const rows = groupCaretsByRow(textRenderInfo);\n\n  // Find nearest row by y first\n  let closestRow = null;\n  rows.forEach(row => {\n    if (!closestRow || Math.abs(y - (row.top + row.bottom) / 2) < Math.abs(y - (closestRow.top + closestRow.bottom) / 2)) {\n      closestRow = row;\n    }\n  });\n\n  // Then find closest caret by x within that row\n  closestRow.carets.forEach(caret => {\n    if (!closestCaret || Math.abs(x - caret.x) < Math.abs(x - closestCaret.x)) {\n      closestCaret = caret;\n    }\n  });\n  return closestCaret\n}\n\n\nconst _rectsCache = new WeakMap();\n\n/**\n * Given start and end character indexes, return a list of rectangles covering all the\n * characters within that selection.\n * @param {TroikaTextRenderInfo} textRenderInfo\n * @param {number} start - index of the first char in the selection\n * @param {number} end - index of the first char after the selection\n * @return {Array<{left, top, right, bottom}> | null}\n */\nfunction getSelectionRects(textRenderInfo, start, end) {\n  let rects;\n  if (textRenderInfo) {\n    // Check cache - textRenderInfo is frozen so it's safe to cache based on it\n    let prevResult = _rectsCache.get(textRenderInfo);\n    if (prevResult && prevResult.start === start && prevResult.end === end) {\n      return prevResult.rects\n    }\n\n    const {caretPositions} = textRenderInfo;\n\n    // Normalize\n    if (end < start) {\n      const s = start;\n      start = end;\n      end = s;\n    }\n    start = Math.max(start, 0);\n    end = Math.min(end, caretPositions.length + 1);\n\n    // Build list of rects, expanding the current rect for all characters in a run and starting\n    // a new rect whenever reaching a new line or a new bidi direction\n    rects = [];\n    let currentRect = null;\n    for (let i = start; i < end; i++) {\n      const x1 = caretPositions[i * 4];\n      const x2 = caretPositions[i * 4 + 1];\n      const left = Math.min(x1, x2);\n      const right = Math.max(x1, x2);\n      const bottom = caretPositions[i * 4 + 2];\n      const top = caretPositions[i * 4 + 3];\n      if (!currentRect || bottom !== currentRect.bottom || top !== currentRect.top || left > currentRect.right || right < currentRect.left) {\n        currentRect = {\n          left: Infinity,\n          right: -Infinity,\n          bottom,\n          top,\n        };\n        rects.push(currentRect);\n      }\n      currentRect.left = Math.min(left, currentRect.left);\n      currentRect.right = Math.max(right, currentRect.right);\n    }\n\n    // Merge any overlapping rects, e.g. those formed by adjacent bidi runs\n    rects.sort((a, b) => b.bottom - a.bottom || a.left - b.left);\n    for (let i = rects.length - 1; i-- > 0;) {\n      const rectA = rects[i];\n      const rectB = rects[i + 1];\n      if (rectA.bottom === rectB.bottom && rectA.top === rectB.top && rectA.left <= rectB.right && rectA.right >= rectB.left) {\n        rectB.left = Math.min(rectB.left, rectA.left);\n        rectB.right = Math.max(rectB.right, rectA.right);\n        rects.splice(i, 1);\n      }\n    }\n\n    _rectsCache.set(textRenderInfo, {start, end, rects});\n  }\n  return rects\n}\n\nconst _caretsByRowCache = new WeakMap();\n\n/**\n * Group a set of carets by row of text, caching the result. A single row of text may contain carets of\n * differing positions/heights if it has multiple fonts, and they may overlap slightly across rows, so this\n * uses an assumption of \"at least overlapping by half\" to put them in the same row.\n * @return Array<{bottom: number, top: number, carets: TextCaret[]}>\n */\nfunction groupCaretsByRow(textRenderInfo) {\n  // textRenderInfo is frozen so it's safe to cache based on it\n  let rows = _caretsByRowCache.get(textRenderInfo);\n  if (!rows) {\n    rows = [];\n    const {caretPositions} = textRenderInfo;\n    let curRow;\n\n    const visitCaret = (x, bottom, top, charIndex) => {\n      // new row if not overlapping by at least half\n      if (!curRow || (top < (curRow.top + curRow.bottom) / 2)) {\n        rows.push(curRow = {bottom, top, carets: []});\n      }\n      // expand vertical limits if necessary\n      if (top > curRow.top) curRow.top = top;\n      if (bottom < curRow.bottom) curRow.bottom = bottom;\n      curRow.carets.push({\n        x,\n        y: bottom,\n        height: top - bottom,\n        charIndex,\n      });\n    };\n\n    let i = 0;\n    for (; i < caretPositions.length; i += 4) {\n      visitCaret(caretPositions[i], caretPositions[i + 2], caretPositions[i + 3], i / 4);\n    }\n    // Add one more caret after the final char\n    visitCaret(caretPositions[i - 3], caretPositions[i - 2], caretPositions[i - 1], i / 4);\n  }\n  _caretsByRowCache.set(textRenderInfo, rows);\n  return rows\n}\n\nexport { BatchedText, GlyphsGeometry, Text, configureTextBuilder, createTextDerivedMaterial, dumpSDFTextures, fontResolverWorkerModule, getCaretAtPoint, getSelectionRects, getTextRenderInfo, preloadFont, typesetterWorkerModule };\n"],"names":[],"mappings":"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AAC,IAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,GAAE,IAAE,GAAE,IAAE,CAAC,IAAE,CAAC,IAAE,CAAC,IAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,EAAE,GAAE,WAAS,KAAG,CAAC,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,EAAE,KAAK,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,EAAE,GAAE,WAAS,KAAG,CAAC,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,GAAE,IAAE,CAAC,IAAE,CAAC,IAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,EAAE,GAAE,WAAS,KAAG,CAAC,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,KAAK,GAAG,CAAC,IAAE,KAAG,KAAK,GAAG,CAAC,IAAE,KAAG,IAAE,IAAE,EAAE,KAAK,KAAG,IAAE,IAAE,EAAE,KAAK,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,EAAE;yBAAO,IAAG,SAAO,GAAE;wBAAC,IAAG,EAAE,MAAM,GAAC,KAAG,CAAC,KAAG,CAAC,IAAE,EAAE,KAAK,KAAG,EAAE,aAAa,EAAC,IAAE,CAAC,CAAC,GAAE,KAAG,EAAE,MAAM,EAAC;4BAAC,IAAI,IAAE,EAAE,KAAK,IAAG,IAAE,EAAE,KAAK,IAAG,IAAE,EAAE,KAAK,IAAG,IAAE,EAAE,KAAK,IAAG,IAAE,EAAE,GAAG,CAAC,SAAS,CAAC,GAAE,IAAG,IAAE,EAAE,GAAG,CAAC,SAAS,CAAC,GAAE;4BAAG,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,WAAW,CAAC,EAAE,EAAC,GAAE,GAAE,GAAE,IAAG,EAAE,CAAC,GAAC,GAAE,EAAE,CAAC,GAAC,GAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,WAAW,CAAC,EAAE,EAAC,GAAE,GAAE,GAAE;wBAAG;wBAAC,KAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAG,IAAE,CAAC,CAAC;oBAAE,OAAM,IAAG,SAAO,KAAG,SAAO,GAAE;wBAAC,EAAE,MAAM,GAAC,KAAG,KAAG,CAAC,KAAG,CAAC,IAAE,EAAE,KAAK,KAAG,EAAE,aAAa,GAAE,KAAG,EAAE,MAAM,IAAE,GAAE,EAAE,MAAM,GAAC,GAAE,IAAE,CAAC,GAAE,KAAG,IAAE,KAAG;oBAAE,OAAM,IAAG,SAAO,GAAE,EAAE,MAAM,GAAC,KAAG,CAAC,KAAG,CAAC,IAAE,EAAE,KAAK,KAAG,EAAE,aAAa,EAAC,IAAE,CAAC,CAAC,GAAE,KAAG,EAAE,GAAG,IAAG,KAAG,EAAE,GAAG,IAAG,KAAG,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAE,GAAE,IAAG,IAAE,CAAC;yBAAO,IAAG,SAAO,GAAE,EAAE,MAAM,GAAC,KAAG,CAAC,KAAG,CAAC,IAAE,EAAE,KAAK,KAAG,EAAE,aAAa,EAAC,IAAE,CAAC,CAAC,GAAE,KAAG,EAAE,GAAG,IAAG,KAAG,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAE,GAAE,IAAG,IAAE,CAAC;yBAAO,IAAG,SAAO,GAAE;wBAAC,MAAK,EAAE,MAAM,GAAC,GAAG,KAAG,EAAE,KAAK,IAAG,KAAG,EAAE,KAAK,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAE,GAAE;wBAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE;oBAAG,OAAM,IAAG,SAAO,GAAE,IAAI,EAAE,MAAM,GAAC,KAAG,CAAC,KAAG,EAAE,KAAK,EAAE,GAAE,EAAE,MAAM,GAAC,GAAG,IAAE,GAAE,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,CAAC,IAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,IAAG,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE;yBAAQ,IAAG,SAAO,GAAE,IAAI,EAAE,MAAM,GAAC,KAAG,CAAC,KAAG,EAAE,KAAK,EAAE,GAAE,EAAE,MAAM,GAAC,GAAG,IAAE,GAAE,IAAE,CAAC,IAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,GAAE,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE;yBAAQ,IAAG,SAAO,KAAG,SAAO,GAAE;wBAAC,IAAI,IAAE,SAAO,IAAE,IAAE;wBAAE,IAAG,KAAG,EAAE,MAAM,EAAC,QAAQ,KAAK,CAAC;6BAA2B;4BAAC,IAAI,IAAE,EAAE,GAAG,IAAG,IAAE,EAAE,KAAK,CAAC,IAAE,EAAE,IAAI,CAAC;4BAAC,EAAE,CAAC,GAAC,GAAE,EAAE,CAAC,GAAC,GAAE,EAAE,MAAM,GAAC,GAAE,EAAE,SAAS,GAAC,GAAE,EAAE,KAAK,GAAC,GAAE,EAAE,IAAI,GAAC,GAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,GAAE,GAAE,GAAE,GAAE,IAAG,IAAE,EAAE,CAAC,EAAC,IAAE,EAAE,CAAC,EAAC,IAAE,EAAE,MAAM,EAAC,IAAE,EAAE,SAAS,EAAC,IAAE,EAAE,KAAK,EAAC,IAAE,EAAE,IAAI;wBAAC;oBAAC,OAAM,IAAG,SAAO,KAAG,SAAO,GAAE;wBAAC,IAAI,IAAE,EAAE,MAAM,EAAC,IAAE,CAAC,IAAE,GAAE,SAAO,CAAC;wBAAE,IAAI,KAAG,IAAE,CAAC,IAAE,CAAC,IAAE,CAAC,GAAE,IAAE,GAAG,IAAE,CAAC,IAAE,GAAE,IAAE,CAAC,IAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,IAAG,IAAE,CAAC,IAAE,IAAE,EAAE,KAAK,EAAE,IAAE,EAAE,KAAK,IAAG,IAAE,KAAG,IAAE,CAAC,IAAE,IAAE,EAAE,KAAK,IAAG,GAAG,IAAE,IAAE,GAAE,IAAE,CAAC,CAAC,IAAE,CAAC,IAAE,GAAE,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,IAAE,EAAE,KAAK,IAAG,IAAE,KAAG,IAAE,CAAC,IAAE,IAAE,EAAE,KAAK,IAAG,GAAG,IAAE,IAAE,GAAE,IAAE,CAAC,CAAC,GAAE,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAG,KAAG;oBAAE,OAAM;wBAAC,IAAG,OAAK,CAAC,IAAE,EAAE,EAAE,MAAM,CAAC,IAAG,MAAM,QAAQ,KAAK,CAAC,wBAAsB,GAAE,IAAG;wBAAE,EAAE,IAAI,CAAC;oBAAG;gBAAC;YAAC;YAAC,EAAE,CAAC,GAAC,GAAE,EAAE,CAAC,GAAC,GAAE,EAAE,MAAM,GAAC,GAAE,EAAE,SAAS,GAAC,GAAE,EAAE,KAAK,GAAC,GAAE,EAAE,IAAI,GAAC;QAAE;QAAE,IAAI,IAAE,GAAE,IAAE;YAAC,MAAK;QAAC;QAAE,OAAO,EAAE,IAAI,GAAC,GAAE,EAAE,OAAO,GAAC,GAAE,OAAO,cAAc,CAAC,GAAE,cAAa;YAAC,OAAM,CAAC;QAAC,IAAG;IAAC,EAAE,CAAC,GAAG,IAAI;AAAA;AAE/2nC;;;;;;AAMA,GACA,SAAS;IAAkB,OAAO,SAAS,CAAC;QAAE,IAAI,IAAE,YAAW,IAAE,aAAY,IAAE,aAAY,IAAE,IAAI,EAAE;YAAC;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;SAAE,GAAE,IAAE,IAAI,EAAE;YAAC;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAE;YAAG;YAAG;YAAG;YAAG;YAAG;YAAG;YAAG;YAAG;YAAE;SAAE,GAAE,IAAE,IAAI,EAAE;YAAC;YAAG;YAAG;YAAG;YAAE;YAAE;YAAE;YAAE;YAAE;YAAG;YAAE;YAAG;YAAE;YAAG;YAAE;YAAG;YAAE;YAAG;YAAE;SAAG,GAAE,IAAE,SAAS,CAAC,EAAC,CAAC;YAAE,IAAI,IAAI,IAAE,IAAI,EAAE,KAAI,IAAE,GAAE,IAAE,IAAG,EAAE,EAAE,CAAC,CAAC,EAAE,GAAC,KAAG,KAAG,CAAC,CAAC,IAAE,EAAE;YAAC,IAAI,IAAE,IAAI,EAAE,CAAC,CAAC,GAAG;YAAE,IAAI,IAAE,GAAE,IAAE,IAAG,EAAE,EAAE,IAAI,IAAI,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,CAAC,CAAC,IAAE,EAAE,EAAC,EAAE,EAAE,CAAC,CAAC,EAAE,GAAC,IAAE,CAAC,CAAC,EAAE,IAAE,IAAE;YAAE,OAAO;gBAAC;gBAAE;aAAE;QAAA,GAAE,IAAE,EAAE,GAAE,IAAG,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,CAAC,CAAC,EAAE;QAAC,CAAC,CAAC,GAAG,GAAC,KAAI,CAAC,CAAC,IAAI,GAAC;QAAG,IAAI,IAAI,IAAE,EAAE,GAAE,EAAE,CAAC,EAAE,EAAC,IAAE,IAAI,EAAE,QAAO,IAAE,GAAE,IAAE,OAAM,EAAE,EAAE;YAAC,IAAI,IAAE,CAAC,QAAM,CAAC,MAAI,IAAE,CAAC,QAAM,CAAC,KAAG;YAAE,IAAE,CAAC,QAAM,CAAC,IAAE,CAAC,QAAM,CAAC,MAAI,IAAE,CAAC,QAAM,CAAC,KAAG,CAAC,CAAC,MAAI,IAAE,CAAC,OAAK,CAAC,KAAG,GAAE,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,QAAM,CAAC,MAAI,IAAE,CAAC,MAAI,CAAC,KAAG,CAAC,MAAI;QAAE;QAAC,IAAI,IAAE,SAAS,CAAC,EAAC,CAAC,EAAC,CAAC;YAAE,IAAI,IAAI,IAAE,EAAE,MAAM,EAAC,IAAE,GAAE,IAAE,IAAI,EAAE,IAAG,IAAE,GAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,EAAE;YAAC,IAAI,GAAE,IAAE,IAAI,EAAE;YAAG,IAAI,IAAE,GAAE,IAAE,GAAE,EAAE,EAAE,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE,IAAE;YAAE,IAAG,GAAE;gBAAC,IAAE,IAAI,EAAE,KAAG;gBAAG,IAAI,IAAE,KAAG;gBAAE,IAAI,IAAE,GAAE,IAAE,GAAE,EAAE,EAAE,IAAG,CAAC,CAAC,EAAE,EAAC,IAAI,IAAI,IAAE,KAAG,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,EAAE,MAAI,GAAE,IAAE,IAAE,CAAC,KAAG,CAAC,IAAE,GAAE,KAAG,GAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,KAAG,EAAE,GAAC;YAAE,OAAM,IAAI,IAAE,IAAI,EAAE,IAAG,IAAE,GAAE,IAAE,GAAE,EAAE,EAAE,CAAC,CAAC,EAAE,IAAE,CAAC,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAC,EAAE,GAAG,KAAG,KAAG,CAAC,CAAC,EAAE;YAAE,OAAO;QAAC,GAAE,IAAE,IAAI,EAAE;QAAK,IAAI,IAAE,GAAE,IAAE,KAAI,EAAE,EAAE,CAAC,CAAC,EAAE,GAAC;QAAE,IAAI,IAAE,KAAI,IAAE,KAAI,EAAE,EAAE,CAAC,CAAC,EAAE,GAAC;QAAE,IAAI,IAAE,KAAI,IAAE,KAAI,EAAE,EAAE,CAAC,CAAC,EAAE,GAAC;QAAE,IAAI,IAAE,KAAI,IAAE,KAAI,EAAE,EAAE,CAAC,CAAC,EAAE,GAAC;QAAE,IAAI,IAAE,IAAI,EAAE;QAAI,IAAI,IAAE,GAAE,IAAE,IAAG,EAAE,EAAE,CAAC,CAAC,EAAE,GAAC;QAAE,IAAI,IAAE,EAAE,GAAE,GAAE,IAAG,IAAE,EAAE,GAAE,GAAE,IAAG,IAAE,SAAS,CAAC;YAAE,IAAI,IAAI,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,GAAE,IAAE,EAAE,MAAM,EAAC,EAAE,EAAE,CAAC,CAAC,EAAE,GAAC,KAAG,CAAC,IAAE,CAAC,CAAC,EAAE;YAAE,OAAO;QAAC,GAAE,IAAE,SAAS,CAAC,EAAC,CAAC,EAAC,CAAC;YAAE,IAAI,IAAE,IAAE,IAAE;YAAE,OAAO,CAAC,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE,IAAE,CAAC,KAAG,CAAC,IAAE,CAAC,IAAE;QAAC,GAAE,IAAE,SAAS,CAAC,EAAC,CAAC;YAAE,IAAI,IAAE,IAAE,IAAE;YAAE,OAAO,CAAC,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE,IAAE,IAAE,CAAC,CAAC,IAAE,EAAE,IAAE,EAAE,KAAG,CAAC,IAAE,CAAC;QAAC,GAAE,IAAE;YAAC;YAAiB;YAAqB;YAAyB;YAAmB;YAAkB;;YAAqB;YAAc;YAAqB;YAAuB;YAA8B;YAAoB;YAAmB;SAAmB,EAAC,IAAE,SAAS,CAAC,EAAC,CAAC,EAAC,CAAC;YAAE,IAAI,IAAE,IAAI,MAAM,KAAG,CAAC,CAAC,EAAE;YAAE,IAAG,EAAE,IAAI,GAAC,GAAE,MAAM,iBAAiB,IAAE,MAAM,iBAAiB,CAAC,GAAE,IAAG,CAAC,GAAE,MAAM;YAAE,OAAO;QAAC,GAAE,IAAE,SAAS,CAAC,EAAC,CAAC,EAAC,CAAC;YAAE,IAAI,IAAE,EAAE,MAAM;YAAC,IAAG,CAAC,KAAG,KAAG,CAAC,EAAE,CAAC,IAAE,IAAE,GAAE,OAAO,KAAG,IAAI,EAAE;YAAG,IAAI,IAAE,CAAC,KAAG,GAAE,IAAE,CAAC,KAAG,EAAE,CAAC;YAAC,KAAG,CAAC,IAAE,CAAC,CAAC,GAAE,KAAG,CAAC,IAAE,IAAI,EAAE,IAAE,EAAE;YAAE,IAAI,GAAE,IAAE,SAAS,CAAC;gBAAE,IAAI,IAAE,EAAE,MAAM;gBAAC,IAAG,IAAE,GAAE;oBAAC,IAAI,IAAE,IAAI,EAAE,KAAK,GAAG,CAAC,IAAE,GAAE;oBAAI,EAAE,GAAG,CAAC,IAAG,IAAE;gBAAE;YAAC,GAAE,IAAE,EAAE,CAAC,IAAE,GAAE,IAAE,EAAE,CAAC,IAAE,GAAE,IAAE,EAAE,CAAC,IAAE,GAAE,IAAE,EAAE,CAAC,EAAC,IAAE,EAAE,CAAC,EAAC,IAAE,EAAE,CAAC,EAAC,IAAE,EAAE,CAAC,EAAC,IAAE,IAAE;YAAE,GAAE;gBAAC,IAAG,CAAC,GAAE;oBAAC,EAAE,CAAC,GAAC,IAAE,EAAE,GAAE,GAAE;oBAAG,IAAI,IAAE,EAAE,GAAE,IAAE,GAAE;oBAAG,IAAG,KAAG,GAAE,CAAC,GAAE;wBAAC,IAAI,IAAE,CAAC,CAAC,CAAC,IAAE,CAAC,CAAC,IAAE,CAAC,IAAE,IAAE,CAAC,IAAE,CAAC,IAAE,KAAG,CAAC,IAAE,CAAC,IAAE,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE,IAAE,GAAE,IAAE,IAAE;wBAAE,IAAG,IAAE,GAAE;4BAAC,KAAG,EAAE;4BAAG;wBAAK;wBAAC,KAAG,EAAE,IAAE,IAAG,EAAE,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAE,IAAG,IAAG,EAAE,CAAC,GAAC,KAAG,GAAE,EAAE,CAAC,GAAC,IAAE,IAAE;wBAAE;oBAAQ;oBAAC,IAAG,KAAG,GAAE,IAAE,GAAE,IAAE,GAAE,IAAE,GAAE,IAAE;yBAAO,IAAG,KAAG,GAAE;wBAAC,IAAI,IAAE,EAAE,GAAE,GAAE,MAAI,KAAI,IAAE,EAAE,GAAE,IAAE,IAAG,MAAI,GAAE,IAAE,IAAE,EAAE,GAAE,IAAE,GAAE,MAAI;wBAAE,KAAG;wBAAG,IAAI,IAAI,IAAE,IAAI,EAAE,IAAG,IAAE,IAAI,EAAE,KAAI,IAAE,GAAE,IAAE,GAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAC,EAAE,GAAE,IAAE,IAAE,GAAE;wBAAG,KAAG,IAAE;wBAAE,IAAI,IAAE,EAAE,IAAG,IAAE,CAAC,KAAG,CAAC,IAAE,GAAE,IAAE,EAAE,GAAE,GAAE;wBAAG,IAAI,IAAE,GAAE,IAAE,GAAG;4BAAC,IAAI,GAAE,IAAE,CAAC,CAAC,EAAE,GAAE,GAAE,GAAG;4BAAC,IAAG,KAAG,KAAG,GAAE,CAAC,IAAE,MAAI,CAAC,IAAE,IAAG,CAAC,CAAC,IAAI,GAAC;iCAAO;gCAAC,IAAI,IAAE,GAAE,IAAE;gCAAE,IAAI,MAAI,IAAE,CAAC,IAAE,IAAE,EAAE,GAAE,GAAE,IAAG,KAAG,GAAE,IAAE,CAAC,CAAC,IAAE,EAAE,IAAE,MAAI,IAAE,CAAC,IAAE,IAAE,EAAE,GAAE,GAAE,IAAG,KAAG,CAAC,IAAE,MAAI,KAAG,CAAC,IAAE,KAAG,EAAE,GAAE,GAAE,MAAK,KAAG,CAAC,GAAE,KAAK,CAAC,CAAC,IAAI,GAAC;4BAAE;wBAAC;wBAAC,IAAI,IAAE,EAAE,QAAQ,CAAC,GAAE,IAAG,IAAE,EAAE,QAAQ,CAAC;wBAAG,IAAE,EAAE,IAAG,IAAE,EAAE,IAAG,IAAE,EAAE,GAAE,GAAE,IAAG,IAAE,EAAE,GAAE,GAAE;oBAAG,OAAM,EAAE;oBAAG,IAAG,IAAE,GAAE;wBAAC,KAAG,EAAE;wBAAG;oBAAK;gBAAC;gBAAC,KAAG,EAAE,IAAE;gBAAQ,IAAI,IAAI,IAAE,CAAC,KAAG,CAAC,IAAE,GAAE,IAAE,CAAC,KAAG,CAAC,IAAE,GAAE,IAAE,IAAG,IAAE,EAAE;oBAAC,IAAI,IAAE,CAAC,IAAE,CAAC,CAAC,EAAE,GAAE,KAAG,EAAE,MAAI;oBAAE,IAAG,CAAC,KAAG,KAAG,CAAC,IAAE,GAAE;wBAAC,KAAG,EAAE;wBAAG;oBAAK;oBAAC,IAAG,KAAG,EAAE,IAAG,IAAE,KAAI,CAAC,CAAC,IAAI,GAAC;yBAAO;wBAAC,IAAG,OAAK,GAAE;4BAAC,IAAE,GAAE,IAAE;4BAAK;wBAAK;wBAAC,IAAI,IAAE,IAAE;wBAAI,IAAG,IAAE,KAAI;4BAAC,IAAI,KAAG,CAAC,CAAC,IAAE,IAAE,IAAI;4BAAC,IAAE,EAAE,GAAE,GAAE,CAAC,KAAG,EAAE,IAAE,KAAG,CAAC,CAAC,EAAE,EAAC,KAAG;wBAAG;wBAAC,IAAI,KAAG,CAAC,CAAC,EAAE,GAAE,KAAG,EAAE,EAAC,KAAG,OAAK;wBAAE,MAAI,EAAE,IAAG,KAAG,KAAG;wBAAG,IAAE,CAAC,CAAC,GAAG;wBAAC,IAAG,KAAG,GAAE;4BAAC,KAAG,CAAC,CAAC,GAAG;4BAAC,KAAG,EAAE,GAAE,KAAG,CAAC,KAAG,EAAE,IAAE,GAAE,KAAG;wBAAG;wBAAC,IAAG,IAAE,GAAE;4BAAC,KAAG,EAAE;4BAAG;wBAAK;wBAAC,KAAG,EAAE,IAAE;wBAAQ,IAAI,IAAI,KAAG,IAAE,GAAE,IAAE,IAAG,KAAG,EAAE,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE,EAAC,CAAC,CAAC,IAAE,EAAE,GAAC,CAAC,CAAC,IAAE,IAAE,EAAE,EAAC,CAAC,CAAC,IAAE,EAAE,GAAC,CAAC,CAAC,IAAE,IAAE,EAAE,EAAC,CAAC,CAAC,IAAE,EAAE,GAAC,CAAC,CAAC,IAAE,IAAE,EAAE;wBAAC,IAAE;oBAAG;gBAAC;gBAAC,EAAE,CAAC,GAAC,GAAE,EAAE,CAAC,GAAC,GAAE,EAAE,CAAC,GAAC,GAAE,KAAG,CAAC,IAAE,GAAE,EAAE,CAAC,GAAC,GAAE,EAAE,CAAC,GAAC,GAAE,EAAE,CAAC,GAAC,CAAC;YAAE,QAAO,CAAC,EAAG;YAAA,OAAO,KAAG,EAAE,MAAM,GAAC,IAAE,SAAS,CAAC,EAAC,CAAC,EAAC,CAAC;gBAAE,CAAC,QAAM,KAAG,IAAE,CAAC,KAAG,CAAC,IAAE,CAAC,GAAE,CAAC,QAAM,KAAG,IAAE,EAAE,MAAM,KAAG,CAAC,IAAE,EAAE,MAAM;gBAAE,IAAI,IAAE,IAAG,CAAC,aAAa,IAAE,IAAE,aAAa,IAAE,IAAE,CAAC,EAAE,IAAE;gBAAG,OAAO,EAAE,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAE,KAAI;YAAC,EAAE,GAAE,GAAE;QAAE,GAAE,IAAE,IAAI,EAAE;QAAG,IAAI,IAAE,eAAa,OAAO,eAAa,IAAI;QAAY,IAAG;YAAC,EAAE,MAAM,CAAC,GAAE;gBAAC,QAAO,CAAC;YAAC,IAAG;QAAE,EAAC,OAAM,GAAE,CAAC;QAAC,OAAO,EAAE,eAAe,GAAC,SAAS,CAAC;YAAE,IAAI,IAAE,IAAI,SAAS,IAAG,IAAE;YAAE,SAAS;gBAAI,IAAI,IAAE,EAAE,SAAS,CAAC;gBAAG,OAAO,KAAG,GAAE;YAAC;YAAC,SAAS;gBAAI,IAAI,IAAE,EAAE,SAAS,CAAC;gBAAG,OAAO,KAAG,GAAE;YAAC;YAAC,SAAS,EAAE,CAAC;gBAAE,EAAE,SAAS,CAAC,GAAE,IAAG,KAAG;YAAE;YAAC,SAAS,EAAE,CAAC;gBAAE,EAAE,SAAS,CAAC,GAAE,IAAG,KAAG;YAAE;YAAC,IAAI,IAAI,IAAE;gBAAC,WAAU;gBAAI,QAAO;gBAAI,QAAO;gBAAI,WAAU;gBAAI,UAAS;gBAAI,eAAc;gBAAI,cAAa;gBAAI,cAAa;gBAAI,YAAW;gBAAI,YAAW;gBAAI,gBAAe;gBAAI,YAAW;gBAAI,YAAW;YAAG,GAAE,IAAE,GAAE,KAAK,GAAG,CAAC,GAAE,MAAI,EAAE,SAAS,EAAE;YAAI;YAAI,IAAI,IAAI,IAAE,KAAG,KAAK,GAAG,CAAC,GAAE,IAAG,IAAE,KAAG,EAAE,SAAS,GAAC,GAAE,IAAE,IAAG,IAAE,EAAE,EAAC,IAAE,GAAE,IAAE,EAAE,SAAS,EAAC,IAAI,EAAE,IAAI,CAAC;gBAAC,KAAI;gBAAI,QAAO;gBAAI,YAAW;gBAAI,YAAW;gBAAI,cAAa;YAAG,IAAG,KAAG;YAAG,IAAI,GAAE,IAAE,IAAI,WAAW,KAAG,KAAG,EAAE,MAAM,GAAC,EAAE,MAAM,CAAE,SAAS,CAAC,EAAC,CAAC;gBAAE,OAAO,IAAE,EAAE,UAAU,GAAC;YAAC,GAAG,KAAI,IAAE,EAAE,MAAM,EAAC,IAAE,IAAI,SAAS,IAAG,IAAE;YAAE,OAAO,EAAE,EAAE,MAAM,GAAE,EAAE,EAAE,SAAS,GAAE,EAAE,IAAG,EAAE,IAAG,EAAE,IAAG,EAAE,OAAO,CAAE,SAAS,CAAC;gBAAE,EAAE,EAAE,GAAG,GAAE,EAAE,EAAE,YAAY,GAAE,EAAE,IAAG,EAAE,EAAE,UAAU,GAAE,EAAE,SAAS,GAAC,GAAE,CAAC,KAAG,EAAE,UAAU,IAAE,KAAG,KAAG,CAAC,KAAG,IAAE,IAAE,CAAC;YAAE,IAAI,EAAE,OAAO,CAAE,SAAS,CAAC;gBAAE,IAAI,GAAE,IAAE,EAAE,KAAK,CAAC,EAAE,MAAM,EAAC,EAAE,MAAM,GAAC,EAAE,UAAU;gBAAE,IAAG,EAAE,UAAU,IAAE,EAAE,UAAU,EAAC;oBAAC,IAAI,IAAE,IAAI,WAAW,EAAE,UAAU;oBAAE,IAAE,IAAI,WAAW,GAAE,IAAG,EAAE,GAAE;gBAAG,OAAM,IAAE,IAAI,WAAW;gBAAG,EAAE,GAAG,CAAC,GAAE,EAAE,SAAS;gBAAE,IAAI,IAAE;gBAAE,CAAC,IAAE,EAAE,SAAS,GAAC,EAAE,UAAU,IAAE,KAAG,KAAG,CAAC,IAAE,IAAE,IAAE,CAAC,GAAE,EAAE,GAAG,CAAC,IAAI,WAAW,GAAG,MAAM,EAAC,EAAE,SAAS,GAAC,EAAE,UAAU,GAAE,IAAE,IAAE;YAAE,IAAI,EAAE,KAAK,CAAC,GAAE;QAAE,GAAE,OAAO,cAAc,CAAC,GAAE,cAAa;YAAC,OAAM,CAAC;QAAC,IAAG;IAAC,EAAE,CAAC,GAAG,eAAe;AAAA;AAEp3J;;;CAGC,GAED;;;;;;;;;;CAUC,GAED;;CAEC,GAED;;CAEC,GACD,SAAS,cAAc,IAAI,EAAE,QAAQ;IACnC,MAAM,gBAAgB;QACpB,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;IACL;IAEA,8BAA8B;IAC9B,MAAM,qBAAqB;QAAC,KAAI;QAAiB,KAAI;QAA8Q,KAAI;QAA+L,KAAI;QAAkB,KAAI;IAAqxC;IAErzD,MAAM,UAAU,GACd,WAAW,GACX,UAAU,GACV,iBAAiB,GACjB,kBAAkB,IAClB,iBAAiB,IAAI,gGAAgG;IAEvH,IAAI;IACJ,SAAS,mBAAmB,EAAE;QAC5B,IAAI,CAAC,gBAAgB;YACnB,MAAM,IAAI;gBACR,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;gBACH,GAAG;YACL;YACA,iBAAiB,IAAI;YACrB,IAAK,IAAI,QAAQ,mBAAoB;gBACnC,IAAI,WAAW;gBACf,kBAAkB,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,OAAO,CAAC,CAAA;oBAC1C,IAAI,CAAC,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC;oBAC/B,OAAO,SAAS,MAAK;oBACrB,OAAO,OAAO,SAAS,MAAM,MAAM;oBACnC,eAAe,GAAG,CAAC,YAAY,MAAM,CAAC,CAAC,KAAK;oBAC5C,IAAK,IAAI,IAAI,MAAM,KAAM;wBACvB,eAAe,GAAG,CAAC,EAAE,UAAU,CAAC,CAAC,KAAK;oBACxC;gBACF;YACF;QACF;QACA,OAAO,eAAe,GAAG,CAAC,OAAO;IACnC;IAEA,MAAM,OAAO,GAAG,OAAO,GAAG,OAAO,GAAG,OAAO;IAC3C,MAAM,kBAAkB;QAAC;QAAM;QAAQ;QAAQ;QAAQ;KAAO;IAE9D,SAAS,mBAAmB,GAAG;QAC7B,gDAAgD;QAChD,wGAAwG;QACxG,MAAM,eAAe,IAAI,WAAW,IAAI,MAAM;QAC9C,IAAI,kBAAkB;QACtB,IAAI,WAAW;QACf,IAAI,YAAY,CAAC;QACjB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,MAAM,EAAE,IAAK;YACnC,MAAM,OAAO,IAAI,WAAW,CAAC;YAC7B,IAAI,cAAc,mBAAmB,QAAQ;YAC7C,IAAI,OAAO;YACX,IAAI,cAAc,gBAAgB;gBAChC;YACF;YACA,IAAI,kBAAkB,CAAC,UAAU,UAAU,eAAe,GAAG;gBAC3D,IAAI,cAAc,CAAC,WAAW,UAAU,eAAe,GAAG;oBACxD,OAAO;oBACP,yBAAyB;oBACzB,IAAI,aAAa,QAAQ,aAAa,MAAM;wBAC1C,YAAY,CAAC,UAAU;oBACzB;gBACF,OACK,IAAI,cAAc,CAAC,UAAU,cAAc,GAAG;oBACjD,yBAAyB;oBACzB,IAAI,aAAa,QAAQ,aAAa,MAAM;wBAC1C,YAAY,CAAC,UAAU;oBACzB;gBACF;YACF,OACK,IAAI,kBAAkB,CAAC,WAAW,cAAc,GAAG;gBACtD,yBAAyB;gBACzB,IAAI,aAAa,QAAQ,aAAa,MAAM;oBAC1C,YAAY,CAAC,UAAU;gBACzB;YACF;YACA,WAAW,YAAY,CAAC,EAAE,GAAG;YAC7B,kBAAkB;YAClB,YAAY;YACZ,IAAI,OAAO,QAAQ;QACrB;QACA,uEAAuE;QACvE,8EAA8E;QAC9E,+EAA+E;QAC/E,OAAO;IACT;IAEA,SAAS,eAAgB,IAAI,EAAE,GAAG;QAChC,MAAM,WAAW,EAAE;QACnB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,MAAM,EAAE,IAAK;YACnC,MAAM,KAAK,IAAI,WAAW,CAAC;YAC3B,IAAI,KAAK,QAAQ;YACjB,SAAS,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,MAAM;QACzC;QAEA,MAAM,OAAO,IAAI,CAAC,OAAO;QACzB,IAAI,MAAM;YACR,MAAM,EAAC,UAAU,EAAE,WAAW,EAAC,GAAG;YAClC,IAAI;YACJ,MAAM,oBAAoB;YAC1B,MAAM,cAAc,EAAE;YACtB,YAAY,OAAO,CAAC,CAAA;gBAClB,IAAI,kBAAkB,IAAI,CAAC,QAAQ,GAAG,GAAG;oBACvC,IAAK,IAAI,KAAK,GAAG,KAAK,QAAQ,GAAG,CAAC,MAAM,EAAE,KAAM;wBAC9C,IAAI,WAAW,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,EAAE;wBAClC,WAAW,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,GAAG;wBAC/B,MAAM,MAAM,UAAU,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC;wBACvC,MAAM,mBAAmB,0BAA0B,IAAI,CAAC,QAAQ,GAAG;wBACnE,IAAI,oBAAoB,CAAC,cAAc;4BACrC,eAAe,mBAAmB;wBACpC;wBACA,IAAK,IAAI,KAAK,GAAG,KAAK,SAAS,MAAM,EAAE,KAAM;4BAC3C,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,eAAe,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,QAAQ,GAAG,EAAE;gCAC3F,KAAK,CAAC,CAAC,UAAU,CAAC,UAAU,IAAI,KAAK;4BACvC;wBACF;oBACF;gBACF;YACF;QACF;QAEA,OAAO;IACT;IAEA,2EAA2E;IAC3E,2EAA2E;IAC3E,wDAAwD;IACxD,SAAS,mBAAmB,IAAI,EAAE,QAAQ;QACxC,MAAM,YAAY,IAAI,WAAW,SAAS,MAAM,GAAG,IAAI,oCAAoC;QAC3F,IAAI,aAAa;QACjB,MAAO,aAAa,SAAS,MAAM,EAAE,aAAc;YACjD,MAAM,UAAU,QAAQ,CAAC,WAAW;YACpC,IAAI,YAAY,CAAC,GAAG;YAEpB,SAAS,CAAC,aAAa,IAAI,EAAE,GAAG,KAAK,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,kCAAkC;YAE7F,MAAM,OAAO,KAAK,IAAI;YACtB,IAAI,MAAM;gBACR,MAAM,QAAQ,KAAK,UAAU;gBAC7B,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;oBACrC,MAAM,SAAS,KAAK,CAAC,EAAE;oBACvB,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,IAAI,CAAC,MAAM,EAAE,IAAK;wBAC3C,MAAM,MAAM,OAAO,IAAI,CAAC,EAAE;wBAC1B,wBAAwB;wBACxB,IAAI,OAAO,KAAK,KAAK,GAAG;4BACtB,MAAM,MAAM,KAAK,KAAK,CAAC,aAAa,CAAC,IAAI,QAAQ,EAAE;4BACnD,IAAI,QAAQ,CAAC,KAAK,IAAI,GAAG,EAAE;gCACzB,iBAAiB,IAAI,GAAG,EAAE;gCAC1B;4BACF;wBACF,OAEK,IAAI,OAAO,KAAK,KAAK,GAAG;4BAC3B,IAAI,MAAM;4BACV,IAAI,iBAAiB;4BACrB,IAAI,mBAAmB,CAAC,GAAG;gCACzB,MAAM,gBAAgB,KAAK,KAAK,CAAC,aAAa,CAAC,IAAI,QAAQ,EAAE,QAAQ,CAAC,eAAe;gCACrF,IAAI,kBAAkB,CAAC,GAAG;oCACxB,IAAI,IAAI,GAAG,KAAK,GAAG;wCACjB,MAAM,QAAQ,IAAI,QAAQ,CAAC,cAAc;wCACzC,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;4CACrC,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,KAAK,SAAS,MAAM,KAAK,CAAC,EAAE;wCAC/C;oCACF,OAAO,IAAI,IAAI,GAAG,KAAK,GAAG;wCACxB,MAAM,KAAK,KAAK,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,SAAS;wCACxE,MAAM,KAAK,KAAK,CAAC,CAAC,cAAc,CAAC,SAAS,IAAI,SAAS;wCACvD,MAAM,IAAI,MAAM,CAAC,GAAG,CAAC,GAAG;oCAC1B;oCACA,IAAI,KAAK;wCACP,IAAI,IAAI,IAAI,EAAE,iBAAiB,IAAI,IAAI,EAAE;wCACzC,IAAI,IAAI,IAAI,EAAE,iBAAiB,IAAI,IAAI,EAAE;wCACzC;oCACF;gCACF;4BACF;wBACF,OAEK,IAAI,OAAO,KAAK,KAAK,GAAG;4BAC3B,MAAM,eAAe,KAAK,KAAK,CAAC,aAAa,CAAC,IAAI,YAAY,EAAE;4BAChE,IAAI,iBAAiB,CAAC,GAAG;gCACvB,MAAM,iBAAiB,kBAAkB;gCACzC,MAAM,eAAe,mBAAmB,CAAC,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,aAAa,CAAC,IAAI,YAAY,EAAE,QAAQ,CAAC,eAAe;gCACrH,IAAI,iBAAiB,CAAC,GAAG;oCACvB,MAAM,aAAa,IAAI,SAAS,CAAC,aAAa;oCAC9C,MAAM,aAAa,IAAI,SAAS,CAAC,aAAa,CAAC,WAAW,SAAS,CAAC;oCACpE,SAAS,CAAC,aAAa,EAAE,GAAG,WAAW,CAAC,GAAG,WAAW,CAAC,GAAG,SAAS,CAAC,iBAAiB,EAAE,GAAG,SAAS,CAAC,iBAAiB,IAAI,EAAE;oCAC3H,SAAS,CAAC,aAAa,IAAI,EAAE,GAAG,WAAW,CAAC,GAAG,WAAW,CAAC,GAAG,SAAS,CAAC,iBAAiB,IAAI,EAAE;oCAC/F;gCACF;4BACF;wBACF,OAEK,IAAI,OAAO,KAAK,KAAK,GAAG;4BAC3B,MAAM,gBAAgB,KAAK,KAAK,CAAC,aAAa,CAAC,IAAI,aAAa,EAAE;4BAClE,IAAI,kBAAkB,CAAC,GAAG;gCACxB,MAAM,iBAAiB;gCACvB,IAAI,mBAAmB,CAAC,GAAG;oCACzB,MAAM,cAAc,QAAQ,CAAC,eAAe;oCAC5C,IAAI,cAAc,MAAM,iBAAiB,GAAG;wCAC1C,MAAM,gBAAgB,KAAK,KAAK,CAAC,aAAa,CAAC,IAAI,aAAa,EAAE;wCAClE,IAAI,kBAAkB,CAAC,GAAG;4CACxB,MAAM,cAAc,IAAI,UAAU,CAAC,cAAc;4CACjD,MAAM,cAAc,IAAI,UAAU,CAAC,cAAc,CAAC,YAAY,SAAS,CAAC;4CACxE,SAAS,CAAC,aAAa,EAAE,GAAG,YAAY,CAAC,GAAG,YAAY,CAAC,GAAG,SAAS,CAAC,iBAAiB,EAAE,GAAG,SAAS,CAAC,iBAAiB,IAAI,EAAE;4CAC7H,SAAS,CAAC,aAAa,IAAI,EAAE,GAAG,YAAY,CAAC,GAAG,YAAY,CAAC,GAAG,SAAS,CAAC,iBAAiB,IAAI,EAAE;4CACjG;wCACF;oCACF;gCACF;4BACF;wBACF;oBACF;gBACF;YACF,OAEK,IAAI,KAAK,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE;gBAC/B,MAAM,iBAAiB;gBACvB,IAAI,mBAAmB,CAAC,GAAG;oBACzB,MAAM,OAAO,KAAK,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,eAAe;oBAC9D,IAAI,SAAS,CAAC,GAAG;wBACf,MAAM,OAAO,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC;wBACjD,IAAI,SAAS,CAAC,GAAG;4BACf,SAAS,CAAC,iBAAiB,IAAI,EAAE,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK;wBACtE;oBACF;gBACF;YACF;QACF;QAEA,OAAO;;QAEP,SAAS,kBAAkB,MAAM;YAC/B,IAAK,IAAI,IAAI,aAAa,GAAG,KAAI,GAAG,IAAK;gBACvC,IAAI,QAAQ,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,UAAU,OAAO,QAAQ,CAAC,EAAE,CAAC,GAAG;oBAC1D,OAAO;gBACT;YACF;YACA,OAAO,CAAC;QACV;QAEA,SAAS,YAAY,OAAO;YAC1B,OAAO,cAAc,MAAM,aAAa;QAC1C;QAEA,SAAS,iBAAiB,MAAM,EAAE,EAAE;YAClC,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;gBAC1B,SAAS,CAAC,KAAK,IAAI,EAAE,IAAI,MAAM,CAAC,EAAE,IAAI;YACxC;QACF;IACF;IAEA,SAAS,cAAc,IAAI,EAAE,OAAO;QAClC,MAAM,WAAW,KAAK,IAAI,IAAI,KAAK,IAAI,CAAC,aAAa;QACrD,OAAO,WAAW,KAAK,CAAC,CAAC,cAAc,CAAC,SAAS,YAAY;IAC/D;IAEA,SAAS,SAAS,GAAG,IAAI;QACvB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;YACpC,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,UAAU;gBAC/B,OAAO,IAAI,CAAC,EAAE;YAChB;QACF;IACF;IAEA;;GAEC,GACD,SAAS,YAAY,QAAQ;QAC3B,MAAM,WAAW,OAAO,MAAM,CAAC;QAE/B,MAAM,MAAM,QAAQ,CAAC,OAAO;QAC5B,MAAM,OAAO,SAAS,IAAI;QAC1B,MAAM,aAAa,SAAS,IAAI,CAAC,UAAU;QAC3C,MAAM,WAAW,SAAS,OAAO,IAAI,aAAa,EAAE,QAAQ,KAAK,QAAQ,EAAE;QAE3E,qBAAqB,GACrB,MAAM,UAAU;YACd;YACA;YACA,WAAW,SAAS,OAAO,IAAI,cAAc,EAAE,QAAQ,KAAK,SAAS,EAAE;YACvE,WAAW,SAAS,OAAO,IAAI,UAAU,EAAE;YAC3C,SAAS,SAAS,OAAO,IAAI,QAAQ,EAAE;YACvC,SAAS,SAAS,OAAO,IAAI,YAAY,EAAE,QAAQ,KAAK,OAAO;YAC/D,mBAAkB,IAAI;gBACpB,OAAO,KAAK,CAAC,CAAC,WAAW,CAAC,UAAU,QAAQ;YAC9C;YACA,cAAa,IAAI,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ;gBAClD,IAAI,OAAO;gBACX,MAAM,YAAY,IAAI,QAAQ,UAAU,GAAG;gBAE3C,MAAM,WAAW,eAAe,UAAU;gBAC1C,IAAI,YAAY;gBAChB,MAAM,YAAY,mBAAmB,UAAU;gBAE/C,SAAS,OAAO,CAAC,CAAC,SAAS;oBACzB,mFAAmF;oBACnF,mFAAmF;oBACnF,0EAA0E;oBAC1E,IAAI,YAAY,CAAC,GAAG;wBAClB,IAAI,WAAW,QAAQ,CAAC,QAAQ;wBAChC,IAAI,CAAC,UAAU;4BACb,MAAM,EAAC,IAAI,EAAE,IAAI,EAAC,GAAG,KAAK,CAAC,CAAC,WAAW,CAAC,UAAU;4BAElD,oBAAoB;4BACpB,IAAI,OAAO;4BACX,IAAI,UAAU;4BACd,IAAK,IAAI,IAAI,GAAG,MAAM,KAAK,MAAM,EAAE,IAAI,KAAK,IAAK;gCAC/C,MAAM,UAAU,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC;gCACtC,QAAQ,IAAI,CAAC,EAAE;gCACf,IAAK,IAAI,IAAI,GAAG,KAAK,SAAS,IAAK;oCACjC,QAAQ,CAAC,IAAI,IAAI,MAAM,EAAE,IAAI,IAAI,CAAC,UAAU;gCAC9C;4BACF;4BAEA,2EAA2E;4BAC3E,iEAAiE;4BACjE,IAAI,MAAM,MAAM,MAAM;4BACtB,IAAI,KAAK,MAAM,EAAE;gCACf,OAAO,OAAO;gCACd,OAAO,OAAO,CAAC;gCACf,IAAK,IAAI,IAAI,GAAG,MAAM,KAAK,MAAM,EAAE,IAAI,KAAK,KAAK,EAAG;oCAClD,IAAI,IAAI,IAAI,CAAC,EAAE;oCACf,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;oCACnB,IAAI,IAAI,MAAM,OAAO;oCACrB,IAAI,IAAI,MAAM,OAAO;oCACrB,IAAI,IAAI,MAAM,OAAO;oCACrB,IAAI,IAAI,MAAM,OAAO;gCACvB;4BACF,OAAO;gCACL,OAAO,OAAO,OAAO,OAAO;4BAC9B;4BAEA,WAAW,QAAQ,CAAC,QAAQ,GAAG;gCAC7B,OAAO;gCACP,cAAc,SAAS,IAAI,CAAC,MAAM,CAAC,QAAQ;gCAC3C;gCACA;gCACA;gCACA;gCACA;4BACF;wBACF;wBAEA,SAAS,IAAI,CACX,MACA,UACA,OAAO,SAAS,CAAC,IAAI,EAAE,GAAG,WAC1B,SAAS,CAAC,IAAI,IAAI,EAAE,GAAG,WACvB;wBAGF,QAAQ,SAAS,CAAC,IAAI,IAAI,EAAE,GAAG;wBAC/B,IAAI,eAAe;4BACjB,QAAQ,gBAAgB;wBAC1B;oBACF;oBACA,aAAc,KAAK,WAAW,CAAC,aAAa,SAAS,IAAI;gBAC3D;gBAEA,OAAO;YACT;QACF;QAEA,OAAO;IACT;IAEA;;GAEC,GACD,OAAO,SAAS,MAAM,MAAM;QAC1B,2DAA2D;QAC3D,MAAM,OAAO,IAAI,WAAW,QAAQ,GAAG;QACvC,MAAM,MAAM,KAAK,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG;QACzC,IAAI,QAAQ,QAAQ;YAClB,SAAS,SAAS;QACpB,OAAO,IAAI,QAAQ,QAAQ;YACzB,MAAM,IAAI,MAAM;QAClB;QACA,OAAO,YAAY,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE;IAC1C;AACF;AAGA,MAAM,eAAe,WAAW,GAAE,CAAA,GAAA,wLAAA,CAAA,qBAAkB,AAAD,EAAE;IACnD,MAAM;IACN,cAAc;QAAC;QAAa;QAAiB;KAAc;IAC3D,MAAK,WAAW,EAAE,eAAe,EAAE,aAAa;QAC9C,MAAM,OAAO;QACb,MAAM,WAAW;QACjB,OAAO,cAAc,MAAM;IAC7B;AACF;AAEA;;;;AAIA,GACA,SAAS;IAAmC,OAAO,SAAS,CAAC;QAAE,IAAI,IAAE;YAAW,IAAI,CAAC,OAAO,GAAC,IAAI;QAAI;QAAE,EAAE,SAAS,CAAC,GAAG,GAAC,SAAS,CAAC;YAAE,IAAI,IAAE,KAAG;YAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAI,CAAC,IAAE,KAAG,CAAC,KAAG,CAAC;QAAG,GAAE,EAAE,SAAS,CAAC,GAAG,GAAC,SAAS,CAAC;YAAE,IAAI,IAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAG;YAAG,OAAO,KAAK,MAAI,KAAG,KAAG,CAAC,IAAE,KAAG,CAAC,KAAG,CAAC,CAAC;QAAC,GAAE,EAAE,SAAS,CAAC,SAAS,GAAC;YAAW,IAAI,IAAE,EAAE;YAAC,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAE,SAAS,CAAC,EAAC,CAAC;gBAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAI,MAAI,EAAE,QAAQ,CAAC;YAAK,IAAI,EAAE,IAAI,CAAC;QAAI,GAAE,EAAE,SAAS,CAAC,WAAW,GAAC,SAAS,CAAC;YAAE,IAAI,IAAE,IAAI;YAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAG,EAAE,KAAK,CAAC,KAAK,OAAO,CAAE,SAAS,CAAC;gBAAE,IAAI,IAAE,EAAE,KAAK,CAAC;gBAAK,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,EAAC,KAAI,SAAS,CAAC,CAAC,EAAE,EAAC;YAAK;QAAI;QAAE,IAAI,IAAE,KAAK,GAAG,CAAC,GAAE,IAAG,IAAE,IAAE,GAAE,IAAE,CAAC;QAAE,SAAS,EAAE,CAAC;YAAE,IAAI,IAAE,CAAA,SAAS,CAAC;gBAAE,OAAO,IAAE;YAAC,CAAA,EAAE,GAAG,QAAQ,CAAC,KAAI,IAAE,CAAA,SAAS,CAAC;gBAAE,OAAO,CAAC,IAAE,CAAC,IAAE,IAAE;YAAC,CAAA,EAAE,GAAG,QAAQ,CAAC;YAAI,OAAO,0BAAwB,CAAC,KAAG,EAAE,IAAE,MAAI,IAAE,MAAI,IAAE;QAAO;QAAC,SAAS,EAAE,CAAC,EAAC,CAAC;YAAE,IAAI,IAAE,IAAE,GAAE,IAAE,EAAE,WAAW,CAAC,IAAE,IAAE;YAAG,OAAO,KAAG,CAAC,CAAC,IAAE,CAAC,KAAG,EAAE,IAAE,EAAE,IAAE,KAAG,IAAE,CAAC;QAAC;QAAC,SAAS,EAAE,CAAC,EAAC,CAAC;YAAE,IAAI;YAAE,CAAC,IAAE,GAAE,EAAE,OAAO,CAAC,SAAQ,IAAI,OAAO,CAAC,YAAW,IAAI,KAAK,CAAC,MAAM,GAAG,CAAE,SAAS,CAAC;gBAAE,OAAO,EAAE,KAAK,CAAC,KAAK,GAAG,CAAE,SAAS,CAAC;oBAAE,OAAO,SAAS,EAAE,IAAI,IAAG;gBAAG;YAAG,EAAG,EAAE,OAAO,CAAE,SAAS,CAAC;gBAAE,IAAI,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,CAAC,CAAC,EAAE;gBAAC,KAAK,MAAI,KAAG,CAAC,IAAE,CAAC,GAAE,EAAE,GAAE;YAAG;QAAI;QAAC,SAAS,EAAE,CAAC,EAAC,CAAC;YAAE,EAAE,GAAG,SAAS,CAAC,EAAC,CAAC;gBAAE,IAAI,IAAI,IAAE,GAAE,KAAG,GAAE,IAAI,EAAE;YAAG;QAAI;QAAC,IAAI,IAAE,CAAC,GAAE,IAAE,CAAC,GAAE,IAAE,IAAI,SAAQ,IAAE;QAAgF,SAAS,EAAE,CAAC;YAAE,IAAI,IAAE,EAAE,GAAG,CAAC;YAAG,OAAO,KAAG,CAAC,IAAE,IAAI,GAAE,EAAE,EAAE,MAAM,EAAE,SAAS,CAAC;gBAAE,OAAO,EAAE,GAAG,CAAC;YAAE,IAAI,EAAE,GAAG,CAAC,GAAE,EAAE,GAAE;QAAC;QAAC,IAAI,GAAE,IAAE,IAAI;QAAI,SAAS,EAAE,CAAC,EAAC,CAAC,EAAC,CAAC;YAAE,OAAO,CAAC,CAAC,EAAE,GAAC,IAAE,CAAC,CAAC,EAAE,GAAC,IAAE,SAAS,CAAC;gBAAE,IAAI,IAAI,KAAK,EAAE,OAAO;YAAC,EAAE;QAAE;QAAC,SAAS,EAAE,CAAC,EAAC,CAAC;YAAE,IAAI,IAAE;YAAE,IAAG,CAAC,EAAE,QAAQ,CAAC,IAAG;gBAAC,IAAE,IAAE;gBAAE,IAAI,IAAI,IAAE,GAAE,IAAE,EAAE,MAAM,EAAC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,EAAE,GAAC,KAAG,KAAK,GAAG,CAAC,IAAE,MAAI,CAAC,IAAE,CAAC,CAAC,EAAE;YAAE;YAAC,OAAO;QAAC;QAAC,SAAS,EAAE,CAAC;YAAE,OAAO,KAAG,CAAC,IAAE,IAAI,KAAI,EAAE,mDAAmD,SAAS,CAAC;gBAAE,EAAE,GAAG,CAAC;YAAG,EAAG,GAAE,EAAE,GAAG,CAAC;QAAE;QAAC,OAAO,EAAE,YAAY,GAAC,GAAE,EAAE,UAAU,GAAC;YAAW,IAAE,CAAC,GAAE,IAAE,CAAC;QAAE,GAAE,EAAE,iBAAiB,GAAC,SAAS,CAAC,EAAC,CAAC;YAAE,KAAK,MAAI,KAAG,CAAC,IAAE,CAAC,CAAC;YAAE,IAAI,GAAE,IAAE,EAAE,IAAI;YAAC,KAAK,MAAI,KAAG,CAAC,IAAE,qBAAqB,IAAI,CAAC,IAAE,KAAG,OAAK,2CAA2C,IAAI,CAAC,KAAG,OAAK,IAAI;YAAE,IAAI,IAAE,EAAE,QAAQ;YAAC,KAAK,MAAI,KAAG,CAAC,IAAE,YAAY;YAAE,IAAI,IAAE,EAAE,KAAK;YAAC,KAAK,MAAI,KAAG,CAAC,IAAE,QAAQ;YAAE,IAAI,IAAE,EAAE,MAAM;YAAC,KAAK,MAAI,KAAG,CAAC,IAAE,GAAG;YAAE,IAAI,IAAE,CAAC,EAAE,OAAO,IAAE,CAAC,EAAE,OAAO,CAAC,QAAO,KAAI,IAAE,IAAI,KAAI,IAAE,IAAI,WAAW,EAAE,MAAM,GAAE,IAAE,CAAC,GAAE,IAAE,CAAC,GAAE,IAAE,IAAI,MAAM,EAAE,MAAM,GAAE,IAAE,IAAI,KAAI,IAAE,CAAC;YAAE,SAAS,EAAE,CAAC;gBAAE,IAAI,IAAE,EAAE,GAAG,CAAC;gBAAG,OAAO,KAAG,CAAC,IAAE,MAAM,IAAE,MAAI,GAAG,IAAI,CAAE,SAAS,CAAC;oBAAE,IAAG,CAAC,EAAE,EAAE,EAAC,MAAM,IAAI,MAAM,EAAE,UAAU;oBAAE,OAAO,EAAE,IAAI,GAAG,IAAI,CAAE,SAAS,CAAC;wBAAE,IAAG,CAAC,MAAM,OAAO,CAAC,MAAI,MAAI,CAAC,CAAC,EAAE,EAAC,MAAM,IAAI,MAAM,2CAAyC,CAAC,CAAC,EAAE;wBAAE,OAAO,CAAC,CAAC,EAAE;oBAAA;gBAAG,GAAI,KAAK,CAAE,SAAS,CAAC;oBAAE,IAAG,MAAI,GAAE,OAAO,KAAG,CAAC,QAAQ,KAAK,CAAC,yDAAuD,IAAE,4BAA0B,EAAE,OAAO,GAAE,IAAE,CAAC,CAAC,GAAE,IAAE,GAAE,EAAE,MAAM,CAAC,IAAG,EAAE;oBAAG,MAAM;gBAAC,IAAI,EAAE,GAAG,CAAC,GAAE,EAAE,GAAE;YAAC;YAAC,IAAI,IAAI,IAAE,SAAS,CAAC;gBAAE,IAAI,IAAE,EAAE,WAAW,CAAC,IAAG,IAAE,EAAE;gBAAG,CAAC,CAAC,EAAE,GAAC,GAAE,CAAC,CAAC,EAAE,IAAE,EAAE,GAAG,CAAC,MAAI,EAAE,GAAG,CAAC,GAAE,EAAE,GAAG,IAAI,CAAE,SAAS,CAAC;oBAAE,CAAC,CAAC,EAAE,GAAC;gBAAE,KAAK,IAAE,SAAO,CAAC,KAAI,IAAE,CAAC;YAAE,GAAE,IAAE,GAAE,IAAE,EAAE,MAAM,EAAC,IAAI,EAAE;YAAG,OAAO,QAAQ,GAAG,CAAC,EAAE,MAAM,IAAI,IAAI,CAAE;gBAAW,EAAE,KAAK;gBAAG,IAAI,IAAI,IAAE,SAAS,CAAC;oBAAE,IAAI,IAAE,EAAE,WAAW,CAAC,IAAG,IAAE,MAAK,IAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAC,IAAE,KAAK;oBAAE,IAAI,IAAI,KAAK,EAAE;wBAAC,IAAI,IAAE,CAAC,CAAC,EAAE;wBAAC,IAAG,KAAK,MAAI,KAAG,CAAC,IAAE,CAAC,CAAC,EAAE,GAAC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAG,KAAK,GAAE,GAAE;4BAAC,IAAI,IAAI,KAAK,IAAE,GAAE,CAAC,CAAC,EAAE,CAAC,IAAG,EAAE,GAAE,CAAC,CAAC,EAAE,CAAC,EAAE,GAAE;gCAAC,IAAE;gCAAE;4BAAK;4BAAC;wBAAK;oBAAC;oBAAC,IAAG,CAAC,GAAE;wBAAA,GAAE,IAAI,IAAI,KAAK,EAAE,IAAG,MAAI,GAAE;4BAAA,IAAI,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,IAAG,EAAE,GAAE,CAAC,CAAC,EAAE,CAAC,EAAE,GAAE;gCAAC,IAAE;gCAAE,MAAM;4BAAC;wBAAA;oBAAA;oBAAC,KAAG,CAAC,QAAQ,KAAK,CAAC,4BAA0B,EAAE,QAAQ,CAAC,MAAK,IAAE,OAAO,GAAE,CAAC,CAAC,EAAE,GAAC,GAAE,CAAC,CAAC,EAAE,IAAE,EAAE,GAAG,CAAC,MAAI,EAAE,GAAG,CAAC,GAAE,EAAE,eAAa,IAAE,SAAS,IAAI,CAAE,SAAS,CAAC;wBAAE,CAAC,CAAC,EAAE,GAAC;oBAAE,KAAK,IAAE,SAAO,CAAC,KAAI,IAAE,CAAC;gBAAE,GAAE,IAAE,GAAE,IAAE,EAAE,MAAM,EAAC,IAAI,EAAE;gBAAG,OAAO,QAAQ,GAAG,CAAC,EAAE,MAAM;YAAG,GAAI,IAAI,CAAE;gBAAW,IAAI,IAAI,GAAE,IAAE,MAAK,IAAE,GAAE,IAAE,EAAE,MAAM,EAAC,IAAI;oBAAC,IAAI,IAAE,EAAE,WAAW,CAAC;oBAAG,IAAG,KAAG,CAAC,EAAE,MAAI,EAAE,GAAG,GAAG,CAAC,EAAE,GAAE,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE;yBAAM;wBAAC,IAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;wBAAC,IAAI,IAAE,CAAC,CAAC,EAAE,EAAE,CAAC;wBAAC,IAAG,CAAC,GAAE;4BAAC,IAAI,IAAE,EAAE,SAAS,EAAC,IAAE,EAAE,GAAE,GAAE,eAAc,IAAE,EAAE,CAAC,CAAC,EAAE,EAAC,GAAE,WAAU,IAAE,EAAE,SAAO,CAAC,IAAE,CAAC,CAAC,EAAE,KAAG,KAAK,MAAI,IAAE,KAAK,IAAE,CAAC,CAAC,EAAE,EAAC;4BAAG,IAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAC,IAAE,iBAAe,EAAE,EAAE,GAAC,MAAI,IAAE,MAAI,IAAE,MAAI,IAAE;wBAAQ;wBAAC,IAAI,IAAE,EAAE,GAAG,CAAC;wBAAG,QAAM,KAAG,CAAC,IAAE,EAAE,IAAI,EAAC,EAAE,GAAG,CAAC,GAAE,EAAE,GAAE,CAAC,CAAC,EAAE,GAAC;oBAAE;oBAAC,IAAE,SAAO,CAAC,KAAI,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,IAAE,EAAE;gBAAE;gBAAC,OAAO;oBAAC,UAAS,MAAM,IAAI,CAAC,EAAE,IAAI;oBAAI,OAAM;gBAAC;YAAC;QAAG,GAAE,OAAO,cAAc,CAAC,GAAE,cAAa;YAAC,OAAM,CAAC;QAAC,IAAG;IAAC,EAAE,CAAC;AAAE;AAE73H;;CAEC,GAED;;;;;;CAMC,GAED;;;;CAIC,GAED;;;;;CAKC,GAED;;;;;CAKC,GACD,SAAS,mBAAmB,UAAU,EAAE,yBAAyB;IAC/D;;GAEC,GACD,MAAM,cAAc,OAAO,MAAM,CAAC;IAElC;;GAEC,GACD,MAAM,eAAe,OAAO,MAAM,CAAC;IAEnC;;GAEC,GACD,SAAS,WAAW,GAAG,EAAE,QAAQ;QAC/B,MAAM,UAAU,CAAA;YACd,QAAQ,KAAK,CAAC,CAAC,qBAAqB,EAAE,KAAK,EAAE;QAC/C;QACA,IAAI;YACF,MAAM,UAAU,IAAI;YACpB,QAAQ,IAAI,CAAC,OAAO,KAAK;YACzB,QAAQ,YAAY,GAAG;YACvB,QAAQ,MAAM,GAAG;gBACf,IAAI,QAAQ,MAAM,IAAI,KAAK;oBACzB,QAAQ,IAAI,MAAM,QAAQ,UAAU;gBACtC,OACK,IAAI,QAAQ,MAAM,GAAG,GAAG;oBAC3B,IAAI;wBACF,MAAM,UAAU,WAAW,QAAQ,QAAQ;wBAC3C,QAAQ,GAAG,GAAG;wBACd,SAAS;oBACX,EAAE,OAAO,GAAG;wBACV,QAAQ;oBACV;gBACF;YACF;YACA,QAAQ,OAAO,GAAG;YAClB,QAAQ,IAAI;QACd,EAAE,OAAM,KAAK;YACX,QAAQ;QACV;IACF;IAGA;;;;;GAKC,GACD,SAAS,SAAS,OAAO,EAAE,QAAQ;QACjC,IAAI,OAAO,WAAW,CAAC,QAAQ;QAC/B,IAAI,MAAM;YACR,SAAS;QACX,OAAO,IAAI,YAAY,CAAC,QAAQ,EAAE;YAChC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC;QAC7B,OAAO;YACL,YAAY,CAAC,QAAQ,GAAG;gBAAC;aAAS;YAClC,WAAW,SAAS,CAAA;gBAClB,QAAQ,GAAG,GAAG;gBACd,WAAW,CAAC,QAAQ,GAAG;gBACvB,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA,KAAM,GAAG;gBACvC,OAAO,YAAY,CAAC,QAAQ;YAC9B;QACF;IACF;IAEA;;;GAGC,GACD,OAAO,SAAU,IAAI,EAAE,QAAQ,EAAE,EAC/B,IAAI,EACJ,OAAO,YAAY,EAAE,EACrB,QAAQ,QAAQ,EAChB,SAAS,QAAQ,EACjB,eAAe,EAChB,GAAG,CAAC,CAAC;QACJ,MAAM,kBAAkB,IAAI,WAAW,KAAK,MAAM;QAClD,MAAM,kBAAkB,EAAE;QAC1B,IAAI,CAAC,KAAK,MAAM,EAAE;YAChB;QACF;QAEA,MAAM,cAAc,IAAI;QACxB,MAAM,iBAAiB,EAAE,EAAE,sBAAsB;QAEjD,IAAI,UAAU,UAAU,QAAQ;QAChC,IAAI,OAAO,WAAW,UAAU;YAC9B,SAAS,WAAW,SAAS,MAAM;QACrC;QAEA,IAAI,aAAa,CAAC,MAAM,OAAO,CAAC,YAAY;YAC1C,YAAY;gBAAC;aAAU;QACzB;QACA,YAAY,UAAU,KAAK,EACzB,qBAAqB;SACpB,MAAM,CAAC,CAAA,MAAO,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAC1C,oCAAoC;SACnC,OAAO;QACV,IAAI,UAAU,MAAM,EAAE;YACpB,MAAM,UAAU;YAChB,MAAM,WAAW;YACjB,MAAM,iBAAiB;YACvB,IAAI,iBAAiB;YAEpB,CAAC,SAAS,iBAAkB,aAAa,CAAC;gBACzC,IAAK,IAAI,IAAI,YAAY,OAAO,KAAK,MAAM,EAAE,IAAI,MAAM,IAAK;oBAC1D,MAAM,YAAY,KAAK,WAAW,CAAC;oBACnC,gDAAgD;oBAChD,0DAA0D;oBAC1D,iCAAiC;oBACjC,IACE,AAAC,mBAAmB,YAAY,eAAe,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,iBAAiB,CAAC,cACzF,IAAI,KAAK,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,GAC3B;wBACA,eAAe,CAAC,EAAE,GAAG,eAAe,CAAC,IAAI,EAAE;wBAC3C,IAAI,mBAAmB,gBAAgB;4BACrC,cAAc,CAAC,eAAe,MAAM,GAAG,EAAE,CAAC,EAAE,GAAG;wBACjD;oBACF,OAAO;wBACL,IAAK,IAAI,IAAI,eAAe,CAAC,EAAE,EAAE,OAAO,UAAU,MAAM,EAAE,KAAK,MAAM,IAAK;4BACxE,IAAI,MAAM,MAAM;gCACd,iDAAiD;gCACjD,MAAM,QAAQ,mBAAmB,iBAC/B,cAAc,CAAC,eAAe,MAAM,GAAG,EAAE,GACxC,cAAc,CAAC,eAAe,MAAM,CAAC,GAAG;oCAAC;oCAAG;iCAAE;gCACjD,KAAK,CAAC,EAAE,GAAG;gCACX,iBAAiB;4BACnB,OAAO;gCACL,eAAe,CAAC,EAAE,GAAG;gCACrB,MAAM,EAAE,GAAG,EAAE,YAAY,EAAE,GAAG,SAAS,CAAC,EAAE;gCAC1C,6CAA6C;gCAC7C,IAAI,CAAC,gBAAgB,eAAe,WAAW,eAAe;oCAC5D,MAAM,UAAU,WAAW,CAAC,IAAI;oCAChC,0CAA0C;oCAC1C,IAAI,CAAC,SAAS;wCACZ,SAAS,KAAK;4CACZ,iBAAiB;wCACnB;wCACA;oCACF;oCACA,kEAAkE;oCAClE,IAAI,QAAQ,iBAAiB,CAAC,YAAY;wCACxC,IAAI,YAAY,YAAY,GAAG,CAAC;wCAChC,IAAI,OAAO,cAAc,UAAU;4CACjC,YAAY,gBAAgB,MAAM;4CAClC,gBAAgB,IAAI,CAAC;4CACrB,YAAY,GAAG,CAAC,SAAS;wCAC3B;wCACA,eAAe,CAAC,EAAE,GAAG;wCACrB,iBAAiB;wCACjB;oCACF;gCACF;4BACF;wBACF;oBACF;oBAEA,IAAI,YAAY,UAAU,IAAI,IAAI,MAAM;wBACtC,eAAe,CAAC,IAAI,EAAE,GAAG,eAAe,CAAC,EAAE;wBAC3C;wBACA,IAAI,mBAAmB,gBAAgB;4BACrC,cAAc,CAAC,eAAe,MAAM,GAAG,EAAE,CAAC,EAAE,GAAG;wBACjD;oBACF;gBACF;gBACA;YACF,CAAC;QACH,OAAO;YACL,eAAe,IAAI,CAAC;gBAAC;gBAAG,KAAK,MAAM,GAAG;aAAE;YACxC;QACF;QAEA,SAAS;YACP,IAAI,eAAe,MAAM,EAAE;gBACzB,oEAAoE;gBACpE,MAAM,iBAAiB,eAAe,GAAG,CAAC,CAAA,QAAS,KAAK,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,GAAG,IAAI,IAAI,CAAC;gBAChG,0BAA0B,iBAAiB,CAAC,gBAAgB;oBAC1D,MAAM,QAAQ;oBACd;oBACA;oBACA,SAAS;gBACX,GAAG,IAAI,CAAC,CAAC,EAAC,QAAQ,EAAE,KAAK,EAAC;oBACxB,sDAAsD;oBACtD,MAAM,kBAAkB,gBAAgB,MAAM;oBAC9C,IAAI,UAAU;oBACd,eAAe,OAAO,CAAC,CAAA;wBACrB,IAAK,IAAI,IAAI,GAAG,SAAS,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,EAAE,KAAK,QAAQ,IAAK;4BAC9D,eAAe,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,GAAG,KAAK,CAAC,UAAU,GAAG;wBACrD;wBACA,WAAW,wBAAwB;oBACrC;oBAEA,+FAA+F;oBAC/F,IAAI,cAAc;oBAClB,SAAS,OAAO,CAAC,CAAC,KAAK;wBACrB,SAAS,KAAK,CAAA;4BACZ,eAAe,CAAC,IAAI,gBAAgB,GAAG;4BACvC,IAAI,EAAE,gBAAgB,SAAS,MAAM,EAAE;gCACrC;4BACF;wBACF;oBACF;gBACF;YACF,OAAO;gBACL;YACF;QACF;QAEA,SAAS;YACP,SAAS;gBACP,OAAO;gBACP,OAAO;YACT;QACF;QAEA,SAAS,eAAe,IAAI,EAAE,MAAM;YAClC,kEAAkE;YAClE,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;gBACtC,MAAM,CAAC,OAAO,MAAM,KAAK,CAAC,GAAG,MAAM,CAAC,EAAE;gBACtC,IAAI,SAAS,QAAQ,QAAQ,KAAK;oBAChC,OAAO;gBACT;YACF;YACA,OAAO;QACT;IACF;AACF;AAEA,MAAM,2BAA2B,WAAW,GAAE,CAAA,GAAA,wLAAA,CAAA,qBAAkB,AAAD,EAAE;IAC/D,MAAM;IACN,cAAc;QACZ;QACA;QACA;KACD;IACD,MAAK,kBAAkB,EAAE,UAAU,EAAE,gCAAgC;QACnE,OAAO,mBAAmB,YAAY;IACxC;AACF;AAEA;;CAEC,GACD;;CAEC,GAED;;;;;;;;;;;;;;;;;;;;;;;;;CAyBC,GAED;;;;;;;;;;;;;;;;;;;;CAoBC,GAED;;;;;;;;;CASC,GAED;;;;;CAKC,GAED;;;;;CAKC,GAGD;;;;;;;;;;CAUC,GACD,SAAS,iBAAiB,YAAY,EAAE,IAAI;IAC1C,MAAM,MAAM;IAEZ,gGAAgG;IAChG,yDAAyD;IACzD,MAAM,0BAA0B;IAEhC,uGAAuG;IACvG,MAAM,yBAAyB,CAAC,aAAa,CAAC;IAE9C,mEAAmE;IACnE,kHAAkH;IAClH,MAAM,oBAAoB,IAAI,OAAO,GAAG,uBAAuB,sEAAsE,CAAC;IAEtI;;;GAGC,GACD,SAAS,kBAAkB,EAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,gBAAgB,EAAE,eAAe,EAAC,EAAE,MAAM;QACtG,MAAM,aAAa,CAAC,EAAC,KAAK,EAAE,OAAO,WAAW,EAAC;YAC7C,IAAI,QAAQ;YACZ,MAAM,OAAO,EAAE;YACf,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;gBACrC,IAAI,KAAK,CAAC,EAAE,KAAK,SAAS;oBACxB,UAAU,KAAK,CAAC,EAAE;oBAClB,KAAK,IAAI,CAAC,SAAS;wBAAE,OAAO;wBAAG,KAAK;wBAAG,SAAS,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC;oBAAA;gBACvE,OAAO;oBACL,OAAO,GAAG,GAAG;gBACf;YACF;YACA,OAAO;QACT;QACA,IAAI,kBAAkB;YACpB,WAAW;QACb,OAAO;YACL,aACE,MACA,YACA;gBAAE;gBAAM;gBAAO;gBAAO;gBAAQ;YAAgB;QAElD;IACF;IAEA;;;;;GAKC,GACD,SAAS,QACP,EACE,OAAK,EAAE,EACP,IAAI,EACJ,IAAI,EACJ,eAAa,EAAE,EACf,WAAS,GAAG,EACZ,aAAW,CAAC,EACZ,YAAU,QAAQ,EAClB,gBAAc,CAAC,EACf,aAAW,QAAQ,EACnB,WAAS,GAAG,EACZ,SAAS,EACT,YAAU,MAAM,EAChB,aAAW,CAAC,EACZ,aAAW,QAAQ,EACnB,eAAa,QAAQ,EACrB,UAAU,CAAC,EACX,UAAU,CAAC,EACX,cAAY,KAAK,EACjB,eAAe,EACf,mBAAiB,IAAI,EACrB,wBAAsB,KAAK,EAC3B,oBAAkB,IAAI,EACtB,cAAY,IAAI,EACjB,EACD,QAAQ;QAER,MAAM,YAAY;QAClB,MAAM,UAAU;YAAC,UAAU;YAAG,aAAa;QAAC;QAE5C,iCAAiC;QACjC,IAAI,KAAK,OAAO,CAAC,QAAQ,CAAC,GAAG;YAC3B,QAAQ,IAAI,CAAC;YACb,OAAO,KAAK,OAAO,CAAC,SAAS,MAAM,OAAO,CAAC,OAAO;QACpD;QAEA,uCAAuC;QACvC,WAAW,CAAC;QACZ,gBAAgB,CAAC;QACjB,WAAW,CAAC;QACZ,aAAa,cAAc;QAC3B,aAAa,CAAC;QAEd,kBAAkB;YAChB;YACA;YACA,OAAO;YACP,QAAQ;YACR,OAAO,OAAO,SAAS,WAAW;gBAAC;oBAAC,KAAK;gBAAI;aAAE,GAAG;YAClD;YACA;QACF,GAAG,CAAA;YACD,QAAQ,QAAQ,GAAG,QAAQ;YAC3B,MAAM,cAAc,SAAS;YAC7B,IAAI,WAAW;YACf,IAAI,mBAAmB;YACvB,IAAI,iBAAiB;YACrB,IAAI,YAAY;YAChB,IAAI,cAAc;YAClB,IAAI,iBAAiB;YACrB,IAAI,gBAAgB;YACpB,IAAI,gBAAgB;YACpB,IAAI,eAAe;YACnB,IAAI,uBAAuB;YAC3B,IAAI,UAAU,eAAe;YAC7B,MAAM,gBAAgB,IAAI,OAAO,qBAAqB;YACtD,MAAM,eAAe;YAErB,iDAAiD;YACjD,IAAI,cAAc;YAClB,IAAI,cAAc;YAClB,IAAI,cAAc,IAAI;YACtB,MAAM,QAAQ;gBAAC;aAAY;YAC3B,KAAK,OAAO,CAAC,CAAA;gBACX,MAAM,EAAE,OAAO,EAAE,GAAG;gBACpB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG;gBAEzE,uCAAuC;gBACvC,IAAI,WAAW,cAAc,GAAG,CAAC;gBACjC,IAAI,CAAC,UAAU;oBACb,+DAA+D;oBAC/D,MAAM,eAAe,WAAW;oBAEhC,0FAA0F;oBAC1F,uHAAuH;oBACvH,MAAM,iBAAiB,eAAe,WACpC,CAAC,WAAW,YAAY,OAAO,IAAI,eAAe,aAAa;oBAEjE,gDAAgD;oBAChD,MAAM,cAAc,CAAC,iBAAiB,CAAC,WAAW,SAAS,IAAI,YAAY,IAAI;oBAC/E,MAAM,cAAc,KAAK,GAAG,CAAC,gBAAgB,CAAC,WAAW,SAAS,IAAI;oBACtE,MAAM,WAAW,CAAC,WAAW,SAAS,IAAI,IAAI,eAAe,cAAc;oBAC3E,WAAW;wBACT,OAAO,cAAc,IAAI;wBACzB,KAAK,QAAQ,GAAG;wBAChB;wBACA;wBACA;wBACA,UAAU,WAAW;wBACrB,WAAW,YAAY;wBACvB,WAAW,YAAY;wBACvB,SAAS,UAAU;wBACnB,YAAY;wBACZ,UAAU,CAAC,cAAc,WAAW;wBACpC,+EAA+E;wBAC/E,2EAA2E;wBAC3E;wBACA,aAAa,WAAW;oBAC1B;oBACA,cAAc,GAAG,CAAC,SAAS;gBAC7B;gBACA,MAAM,EAAE,YAAY,EAAE,GAAG;gBAEzB,MAAM,UAAU,KAAK,KAAK,CAAC,IAAI,KAAK,EAAE,IAAI,GAAG,GAAG;gBAChD,IAAI,YAAY;gBAChB,QAAQ,YAAY,CAAC,SAAS,UAAU,eAAe,CAAC,UAAU,QAAQ,QAAQ;oBAChF,UAAU;oBACV,aAAa,IAAI,KAAK;oBACtB,aAAa;oBACb,eAAe;oBACf,MAAM,OAAO,KAAK,MAAM,CAAC;oBACzB,MAAM,aAAa,SAAS,YAAY,GAAG;oBAC3C,MAAM,eAAe,YAAY,KAAK;oBACtC,IAAI;oBAEJ,kDAAkD;oBAClD,IAAI,CAAC,CAAC,aAAa,QAAQ,GAAG;wBAC5B,SAAS,YAAY,GAAG,CAAC,CAAC,QAAQ,IAAI,OAAO,wBAAwB,IAAI,CAAC;wBAC1E,SAAS,aAAa,GAAG,CAAC,CAAC,QAAQ,kBAAkB,IAAI,CAAC;wBAC1D,SAAS,OAAO,GAAG,SAAS,IAAI,KAAK,SAAS,IAAI,IAAI,SAAS,IAAI,KAAK,SAAS,IAAI,IAAI,wBAAwB,IAAI,CAAC;oBACxH;oBACA,IAAI,CAAC,SAAS,YAAY,IAAI,CAAC,SAAS,OAAO,EAAE;wBAC/C;oBACF;oBAEA,8EAA8E;oBAC9E,IAAI,WAAW,eAAe,CAAC,SAAS,YAAY,IAAI,SAAS,aAAa,cAAc,YAAY,cAAc;wBACpH,8DAA8D;wBAC9D,IAAI,YAAY,OAAO,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,EAAE;4BAChE,WAAW,IAAI;4BACf,cAAc,CAAC;wBACjB,OAAO;4BACL,wDAAwD;4BACxD,IAAK,IAAI,IAAI,cAAc,KAAM;gCAC/B,4GAA4G;gCAC5G,IAAI,MAAM,KAAK,iBAAiB,cAAc;oCAC5C,WAAW,IAAI;oCACf,cAAc,CAAC;oCACf;gCACF,OAEK,IAAI,YAAY,OAAO,CAAC,GAAG,QAAQ,CAAC,aAAa,EAAE;oCACtD,WAAW,YAAY,OAAO,CAAC,IAAI;oCACnC,MAAM,UAAU,SAAS,OAAO,CAAC,GAAG,CAAC;oCACrC,eAAe;oCACf,IAAK,IAAI,IAAI,SAAS,KAAK,EAAE,KAAM;wCACjC,SAAS,OAAO,CAAC,GAAG,CAAC,IAAI;oCAC3B;oCACA;gCACF;4BACF;wBACF;wBACA,IAAI,UAAU;4BACZ,YAAY,aAAa,GAAG;4BAC5B,cAAc;4BACd,MAAM,IAAI,CAAC;4BACX,eAAe,UAAU,sDAAsD;wBACjF;oBACF;oBAEA,IAAI,MAAM,YAAY,OAAO,CAAC,YAAY,KAAK;oBAC/C,IAAI,QAAQ,GAAG;oBACf,IAAI,CAAC,GAAG,SAAS;oBACjB,IAAI,CAAC,GAAG;oBACR,IAAI,KAAK,GAAG;oBACZ,IAAI,SAAS,GAAG;oBAChB,IAAI,QAAQ,GAAG;oBAEf,0BAA0B;oBAC1B,IAAI,SAAS,MAAM;wBACjB,cAAc,IAAI;wBAClB,MAAM,IAAI,CAAC;wBACX,cAAc,CAAC,CAAC,SAAS,aAAc,gBAAgB,QAAS,IAAI;oBACtE;gBACF;gBACA,4FAA4F;gBAC5F,cAAc,aAAa,aAAa,YAAY,GAAG,eAAe,gBAAgB;YACxF;YAEA,uGAAuG;YACvG,IAAI,cAAc;YAClB,MAAM,OAAO,CAAC,CAAA;gBACZ,IAAI,uBAAuB;gBAC3B,IAAK,IAAI,IAAI,KAAK,KAAK,EAAE,KAAM;oBAC7B,MAAM,YAAY,KAAK,OAAO,CAAC;oBAC/B,kDAAkD;oBAClD,IAAI,wBAAwB,CAAC,UAAU,QAAQ,CAAC,YAAY,EAAE;wBAC5D,KAAK,KAAK,GAAG,UAAU,CAAC,GAAG,UAAU,KAAK;wBAC1C,IAAI,KAAK,KAAK,GAAG,cAAc;4BAC7B,eAAe,KAAK,KAAK;wBAC3B;wBACA,uBAAuB;oBACzB;oBACA,mEAAmE;oBACnE,IAAI,EAAC,UAAU,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAC,GAAG,UAAU,QAAQ;oBACnE,IAAI,aAAa,KAAK,UAAU,EAAE,KAAK,UAAU,GAAG;oBACpD,MAAM,eAAe,WAAW,KAAK,QAAQ;oBAC7C,IAAI,eAAe,GAAG;wBACpB,KAAK,QAAQ,IAAI;wBACjB,KAAK,GAAG,IAAI;wBACZ,KAAK,EAAE,IAAI;oBACb;oBACA,8CAA8C;oBAC9C,KAAK,GAAG,GAAG,KAAK,GAAG,CAAC,KAAK,GAAG,EAAE,KAAK,QAAQ,GAAG;oBAC9C,KAAK,EAAE,GAAG,KAAK,GAAG,CAAC,KAAK,EAAE,EAAE,KAAK,QAAQ,GAAG;gBAC9C;gBACA,KAAK,QAAQ,IAAI;gBACjB,KAAK,GAAG,IAAI;gBACZ,KAAK,EAAE,IAAI;gBACX,eAAe,KAAK,UAAU;YAChC;YAEA,kDAAkD;YAClD,IAAI,gBAAgB;YACpB,IAAI,gBAAgB;YACpB,IAAI,SAAS;gBACX,IAAI,OAAO,YAAY,UAAU;oBAC/B,gBAAgB,CAAC;gBACnB,OACK,IAAI,OAAO,YAAY,UAAU;oBACpC,gBAAgB,CAAC,eAAe,CAC9B,YAAY,SAAS,IACrB,YAAY,WAAW,MACvB,YAAY,UAAU,IACtB,aAAa,QACf;gBACF;YACF;YACA,IAAI,SAAS;gBACX,IAAI,OAAO,YAAY,UAAU;oBAC/B,gBAAgB,CAAC;gBACnB,OACK,IAAI,OAAO,YAAY,UAAU;oBACpC,gBAAgB,YAAY,QAAQ,IAClC,YAAY,iBAAiB,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,GAC/C,YAAY,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,GACrC,YAAY,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,GACnC,YAAY,WAAW,cAAc,IACrC,YAAY,WAAW,cACvB,YAAY,oBAAoB,CAAC,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,CAAC,QAAQ,GACjE,aAAa,WAAW;gBAC5B;YACF;YAEA,IAAI,CAAC,aAAa;gBAChB,sBAAsB;gBACtB,MAAM,mBAAmB,KAAK,kBAAkB,CAAC,MAAM;gBAEvD,qFAAqF;gBACrF,6DAA6D;gBAC7D,WAAW,IAAI,YAAY;gBAC3B,mBAAmB,IAAI,WAAW;gBAClC,iBAAiB,IAAI,aAAa,uBAAuB;gBACzD,YAAY,CAAC;gBACb,gBAAgB;oBAAC;oBAAK;oBAAK,CAAC;oBAAK,CAAC;iBAAI;gBACtC,gBAAgB,EAAE;gBAClB,IAAI,uBAAuB;oBACzB,iBAAiB,IAAI,aAAa,KAAK,MAAM,GAAG;gBAClD;gBACA,IAAI,aAAa;oBACf,cAAc,IAAI,WAAW,uBAAuB;gBACtD;gBACA,IAAI,uBAAuB;gBAC3B,IAAI,gBAAgB,CAAC;gBACrB,IAAI,iBAAiB,CAAC;gBACtB,IAAI;gBACJ,IAAI;gBACJ,MAAM,OAAO,CAAC,CAAC,MAAM;oBACnB,IAAI,EAAC,OAAM,cAAc,EAAE,OAAM,SAAS,EAAC,GAAG;oBAE9C,qBAAqB;oBACrB,IAAI,iBAAiB,GAAG;wBACtB,yEAAyE;wBACzE,IAAI,0BAA0B;wBAC9B,IAAK,IAAI,IAAI,gBAAgB,OAAO,KAAK,OAAO,CAAC,GAAG,QAAQ,CAAC,YAAY,EAAG;4BAC1E;wBACF;wBAEA,yCAAyC;wBACzC,IAAI,cAAc;wBAClB,IAAI,gBAAgB;wBACpB,IAAI,cAAc,UAAU;4BAC1B,cAAc,CAAC,eAAe,SAAS,IAAI;wBAC7C,OAAO,IAAI,cAAc,SAAS;4BAChC,cAAc,eAAe;wBAC/B,OAAO,IAAI,cAAc,aAAa,KAAK,aAAa,EAAE;4BACxD,wGAAwG;4BACxG,IAAI,kBAAkB;4BACtB,IAAK,IAAI,IAAI,iBAAiB,yBAAyB,KAAM;gCAC3D,IAAI,KAAK,OAAO,CAAC,GAAG,QAAQ,CAAC,YAAY,EAAE;oCACzC;gCACF;4BACF;4BACA,gBAAgB,CAAC,eAAe,SAAS,IAAI;wBAC/C;wBACA,IAAI,iBAAiB,aAAa;4BAChC,IAAI,gBAAgB;4BACpB,IAAK,IAAI,IAAI,GAAG,IAAI,gBAAgB,IAAK;gCACvC,IAAI,YAAY,KAAK,OAAO,CAAC;gCAC7B,MAAM,WAAW,UAAU,QAAQ;gCACnC,UAAU,CAAC,IAAI,cAAc;gCAC7B,wDAAwD;gCACxD,IAAI,kBAAkB,KAAK,SAAS,YAAY,IAAI,IAAI,iBAAiB,yBAAyB;oCAChG,iBAAiB;oCACjB,UAAU,KAAK,IAAI;gCACrB;4BACF;wBACF;wBAEA,8BAA8B;wBAC9B,MAAM,QAAQ,KAAK,kBAAkB,CACnC,MAAM,kBAAkB,KAAK,OAAO,CAAC,GAAG,SAAS,EAAE,KAAK,OAAO,CAAC,KAAK,KAAK,GAAG,GAAG,SAAS;wBAE3F,IAAK,IAAI,KAAK,GAAG,KAAK,MAAM,MAAM,EAAE,KAAM;4BACxC,MAAM,CAAC,OAAO,IAAI,GAAG,KAAK,CAAC,GAAG;4BAC9B,sDAAsD;4BACtD,IAAI,OAAO,UAAU,QAAQ,CAAC;4BAC9B,IAAK,IAAI,IAAI,GAAG,IAAI,gBAAgB,IAAK;gCACvC,IAAI,KAAK,OAAO,CAAC,GAAG,SAAS,IAAI,OAAO;oCACtC,IAAI,cAAc,GAAG,YAAY;oCACjC,MAAO,YAAY,gBAAgB,YAAa;wCAC9C,IAAI,OAAO,KAAK,OAAO,CAAC;wCACxB,IAAI,KAAK,SAAS,GAAG,KAAK;4CACxB;wCACF;wCACA,IAAI,YAAY,iBAAiB,yBAAyB;4CACxD,OAAO,KAAK,GAAG,CAAC,MAAM,KAAK,CAAC;4CAC5B,QAAQ,KAAK,GAAG,CAAC,OAAO,KAAK,CAAC,GAAG,KAAK,KAAK;wCAC7C;oCACF;oCACA,IAAK,IAAI,IAAI,aAAa,IAAI,WAAW,IAAK;wCAC5C,MAAM,YAAY,KAAK,OAAO,CAAC;wCAC/B,UAAU,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,GAAG,UAAU,KAAK,GAAG,IAAI;oCAC7D;oCACA;gCACF;4BACF;wBACF;wBAEA,6BAA6B;wBAC7B,IAAI;wBACJ,MAAM,cAAc,CAAA,IAAK,WAAW;wBACpC,IAAK,IAAI,IAAI,GAAG,IAAI,gBAAgB,IAAK;4BACvC,MAAM,YAAY,KAAK,OAAO,CAAC;4BAC/B,WAAW,UAAU,QAAQ;4BAC7B,MAAM,UAAU,SAAS,KAAK;4BAE9B,qCAAqC;4BACrC,MAAM,MAAM,iBAAiB,MAAM,CAAC,UAAU,SAAS,CAAC,GAAG,GAAG,qBAAqB;4BACnF,IAAI,KAAK;gCACP,MAAM,WAAW,KAAK,oBAAoB,CAAC,IAAI,CAAC,UAAU,SAAS,CAAC;gCACpE,IAAI,UAAU;oCACZ,UAAU,QAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,UAAU,GAAG,GAAG;gCAC1D;4BACF;4BAEA,sBAAsB;4BACtB,IAAI,uBAAuB;gCACzB,MAAM,EAAC,SAAS,EAAE,QAAQ,EAAC,GAAG;gCAC9B,MAAM,YAAY,UAAU,CAAC,GAAG;gCAChC,MAAM,aAAa,UAAU,CAAC,GAAG,UAAU,KAAK,GAAG;gCACnD,cAAc,CAAC,YAAY,EAAE,GAAG,MAAM,aAAa,WAAW,cAAc;gCAC5E,cAAc,CAAC,YAAY,IAAI,EAAE,GAAG,MAAM,YAAY,YAAY,YAAY;gCAC9E,cAAc,CAAC,YAAY,IAAI,EAAE,GAAG,KAAK,QAAQ,GAAG,SAAS,WAAW,GAAG,eAAe,iBAAiB;gCAC3G,cAAc,CAAC,YAAY,IAAI,EAAE,GAAG,KAAK,QAAQ,GAAG,SAAS,QAAQ,GAAG,eAAe,cAAc;gCAErG,wFAAwF;gCACxF,yFAAyF;gCACzF,4FAA4F;gCAC5F,gDAAgD;gCAChD,MAAM,WAAW,YAAY;gCAC7B,IAAI,WAAW,GAAG;oCAChB,2BAA2B,gBAAgB,eAAe;gCAC5D;gCACA,gBAAgB;4BAClB;4BAEA,4BAA4B;4BAC5B,IAAI,aAAa;gCACf,MAAM,EAAC,SAAS,EAAC,GAAG;gCACpB,MAAM,YAAY,eAAgB;oCAChC;oCACA,IAAI,YAAY,cAAc,CAAC,iBAAiB;wCAC9C,eAAe,WAAW,CAAC,eAAe;oCAC5C;gCACF;4BACF;4BAEA,uCAAuC;4BACvC,IAAI,CAAC,SAAS,YAAY,IAAI,CAAC,SAAS,OAAO,EAAE;gCAC/C,MAAM,MAAM;gCACZ,MAAM,EAAC,YAAY,EAAE,KAAK,OAAO,EAAE,OAAO,SAAS,EAAC,GAAG,UAAU,QAAQ;gCAEzE,6BAA6B;gCAC7B,MAAM,gBAAgB,SAAS,CAAC,QAAQ,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,CAAC,CAAC;gCACpE,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;oCAC3B,aAAa,CAAC,QAAQ,GAAG;wCACvB,MAAM,SAAS,IAAI;wCACnB,YAAY;4CAAC,SAAS,IAAI;4CAAE,SAAS,IAAI;4CAAE,SAAS,IAAI;4CAAE,SAAS,IAAI;yCAAC;oCAC1E;gCACF;gCAEA,iEAAiE;gCACjE,MAAM,SAAS,UAAU,CAAC,GAAG;gCAC7B,MAAM,SAAS,UAAU,CAAC,GAAG,KAAK,QAAQ,GAAG;gCAC7C,cAAc,CAAC,MAAM,EAAE,GAAG;gCAC1B,cAAc,CAAC,MAAM,IAAI,EAAE,GAAG;gCAE9B,6BAA6B;gCAC7B,MAAM,QAAQ,SAAS,SAAS,IAAI,GAAG;gCACvC,MAAM,QAAQ,SAAS,SAAS,IAAI,GAAG;gCACvC,MAAM,QAAQ,SAAS,SAAS,IAAI,GAAG;gCACvC,MAAM,QAAQ,SAAS,SAAS,IAAI,GAAG;gCACvC,IAAI,QAAQ,aAAa,CAAC,EAAE,EAAE,aAAa,CAAC,EAAE,GAAG;gCACjD,IAAI,QAAQ,aAAa,CAAC,EAAE,EAAE,aAAa,CAAC,EAAE,GAAG;gCACjD,IAAI,QAAQ,aAAa,CAAC,EAAE,EAAE,aAAa,CAAC,EAAE,GAAG;gCACjD,IAAI,QAAQ,aAAa,CAAC,EAAE,EAAE,aAAa,CAAC,EAAE,GAAG;gCAEjD,kDAAkD;gCAClD,IAAI,MAAM,sBAAsB,GAAG;oCACjC,QAAQ;wCAAC,OAAO;wCAAK,KAAK;wCAAK,MAAM;4CAAC;4CAAK;4CAAK,CAAC;4CAAK,CAAC;yCAAI;oCAAA;oCAC3D,cAAc,IAAI,CAAC;gCACrB;gCACA,MAAM,GAAG;gCACT,MAAM,YAAY,MAAM,IAAI;gCAC5B,IAAI,QAAQ,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,GAAG;gCACzC,IAAI,QAAQ,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,GAAG;gCACzC,IAAI,QAAQ,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,GAAG;gCACzC,IAAI,QAAQ,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,GAAG;gCAEzC,2CAA2C;gCAC3C,QAAQ,CAAC,IAAI,GAAG;gCAChB,gBAAgB,CAAC,IAAI,GAAG;gCAExB,aAAa;gCACb,IAAI,aAAa;oCACf,MAAM,QAAQ,MAAM;oCACpB,WAAW,CAAC,MAAM,GAAG,gBAAgB,KAAK;oCAC1C,WAAW,CAAC,QAAQ,EAAE,GAAG,gBAAgB,IAAI;oCAC7C,WAAW,CAAC,QAAQ,EAAE,GAAG,eAAe;gCAC1C;4BACF;wBACF;oBACF;gBACF;gBAEA,+EAA+E;gBAC/E,IAAI,gBAAgB;oBAClB,MAAM,WAAW,KAAK,MAAM,GAAG;oBAC/B,IAAI,WAAW,GAAG;wBAChB,2BAA2B,gBAAgB,eAAe;oBAC5D;gBACF;YACF;YAEA,2CAA2C;YAC3C,MAAM,WAAW,EAAE;YACnB,cAAc,OAAO,CAAC,CAAC,EAAC,KAAK,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,OAAO,EAAC;gBAClG,QAAQ,CAAC,MAAM,GAAG;oBAAC;oBAAK;oBAAY;oBAAU;oBAAW;oBAAY;oBAAW;gBAAO;YACzF;YAEA,eAAe;YACf,QAAQ,WAAW,GAAG,QAAQ;YAE9B,SAAS;gBACP;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA,uEAAuE;gBACvE;gBACA;gBACA;gBACA,aAAa,gBAAgB,KAAK,CAAC,EAAE,CAAC,QAAQ;gBAC9C,aAAa;oBACX;oBACA,gBAAgB;oBAChB,gBAAgB;oBAChB;iBACD;gBACD;gBACA;YACF;QACF;IACF;IAGA;;;;;GAKC,GACD,SAAS,QAAQ,IAAI,EAAE,QAAQ;QAC7B,QAAQ;YAAC,GAAG,IAAI;YAAE,aAAa;QAAI,GAAG,CAAC;YACrC,MAAM,CAAC,IAAI,IAAI,IAAI,GAAG,GAAG,OAAO,WAAW;YAC3C,SAAS;gBACP,OAAO,KAAK;gBACZ,QAAQ,KAAK;YACf;QACF;IACF;IAEA,SAAS,aAAa,GAAG;QACvB,IAAI,QAAQ,IAAI,KAAK,CAAC;QACtB,IAAI,MAAM,QAAQ,WAAW,KAAK,CAAC,EAAE,IAAI;QACzC,OAAO,MAAM,OAAO,IAAI,MAAM;IAChC;IAEA,SAAS,2BAA2B,cAAc,EAAE,aAAa,EAAE,QAAQ;QACzE,MAAM,YAAY,cAAc,CAAC,gBAAgB,EAAE;QACnD,MAAM,UAAU,cAAc,CAAC,gBAAgB,IAAI,EAAE;QACrD,MAAM,YAAY,cAAc,CAAC,gBAAgB,IAAI,EAAE;QACvD,MAAM,SAAS,cAAc,CAAC,gBAAgB,IAAI,EAAE;QACpD,MAAM,kBAAkB,CAAC,UAAU,SAAS,IAAI;QAChD,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,IAAK;YACjC,MAAM,aAAa,CAAC,gBAAgB,CAAC,IAAI;YACzC,cAAc,CAAC,WAAW,GAAG,YAAY,kBAAkB;YAC3D,cAAc,CAAC,aAAa,EAAE,GAAG,YAAY,kBAAkB,CAAC,IAAI,CAAC;YACrE,cAAc,CAAC,aAAa,EAAE,GAAG;YACjC,cAAc,CAAC,aAAa,EAAE,GAAG;QACnC;IACF;IAEA,SAAS;QACP,OAAO,CAAC,KAAK,WAAW,IAAI,IAAI,EAAE,GAAG;IACvC;IAEA,yDAAyD;IACzD,SAAS;QACP,IAAI,CAAC,IAAI,GAAG,EAAE;IAChB;IACA,MAAM,gBAAgB;QAAC;QAAY;QAAK;QAAK;QAAS;QAAa;KAAW;IAC9E,SAAS,SAAS,GAAG;QACnB,OAAO;QACP,YAAY;QACZ,UAAU;QACV,KAAK;QACL,IAAI;QACJ,eAAe;QACf,IAAI,SAAQ;YACV,OAAO,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,cAAc,MAAM;QAC1D;QACA,SAAQ,CAAC;YACP,IAAI,MAAM,SAAS,SAAS;YAC5B,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI;YACpB,IAAI,KAAK,GAAG;YACZ,OAAO;QACT;QACA,SAAQ,CAAC;YACP,IAAI,UAAU,IAAI;YAClB,QAAQ,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,cAAc,MAAM;YACxD,OAAO;QACT;IACF;IACA,SAAS,SAAS,GAAG,cAAc,MAAM,CAAC,CAAC,KAAK,MAAM,GAAG;QACvD,OAAO,cAAc,CAAC,KAAK,MAAM;YAC/B;gBACE,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,cAAc,MAAM,GAAG,EAAE;YACzD;YACA,KAAI,GAAG;gBACL,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,cAAc,MAAM,GAAG,EAAE,GAAG;YACrD;QACF;QACA,OAAO;IACT,GAAG;QAAC,MAAM;QAAM,OAAO;IAAC;IAGxB,OAAO;QACL;QACA;IACF;AACF;AAEA,MAAM,MAAM,IAAM,CAAC,KAAK,WAAW,IAAI,IAAI,EAAE,GAAG;AAEhD,MAAM,sBAAsB,WAAW,GAAG,CAAA,GAAA,kLAAA,CAAA,UAAkB,AAAD;AAE3D,IAAI;AAEJ;;;;CAIC,GACD,SAAS,YAAY,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,WAAW,IAAI;IAC3G,gBAAgB;IAChB,IAAI,CAAC,UAAU;QACb,OAAO,sBAAsB,OAAO,QAAQ,MAAM,SAAS,UAAU,UAAU,QAAQ,GAAG,GAAG;IAC/F;IAEA,2CAA2C;IAC3C,OAAO,eAAe,OAAO,QAAQ,MAAM,SAAS,UAAU,UAAU,QAAQ,GAAG,GAAG,SAAS,IAAI,CACjG,MACA,CAAA;QACE,4FAA4F;QAC5F,IAAI,CAAC,QAAQ;YACX,QAAQ,IAAI,CAAC,CAAC,+CAA+C,CAAC,EAAE;YAChE,SAAS;QACX;QACA,OAAO,sBAAsB,OAAO,QAAQ,MAAM,SAAS,UAAU,UAAU,QAAQ,GAAG,GAAG;IAC/F;AAEJ;AAEA,MAAM,QAAQ,EAAE;AAChB,MAAM,kBAAkB,GAAG,KAAK;AAChC,IAAI,QAAQ;AAEZ,SAAS;IACP,MAAM,QAAQ;IACd,MAAO,MAAM,MAAM,IAAI,QAAQ,QAAQ,gBAAiB;QACtD,MAAM,KAAK;IACb;IACA,QAAQ,MAAM,MAAM,GAAG,WAAW,WAAW,KAAK;AACpD;AAEA;;;CAGC,GACD,MAAM,iBAAiB,CAAC,GAAG;IACzB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,IAAI,CAAC;YACT,MAAM,QAAQ;YACd,IAAI;gBACF,oBAAoB,KAAK,CAAC,kBAAkB,IAAI;gBAChD,QAAQ;oBAAE,QAAQ,QAAQ;gBAAM;YAClC,EAAE,OAAO,KAAK;gBACZ,OAAO;YACT;QACF;QACA,IAAI,CAAC,OAAO;YACV,QAAQ,WAAW,WAAW;QAChC;IACF;AACF;AAEA,MAAM,cAAc,GAAG,4BAA4B;AACnD,MAAM,cAAc,MAAM,qEAAqE;AAC/F,MAAM,UAAU,CAAC;AACjB,IAAI,UAAU;AAEd;;CAEC,GACD,SAAS,sBAAsB,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO;IACpG,MAAM,WAAW,+BAAgC,AAAC,YAAa;IAC/D,IAAI,SAAS,OAAO,CAAC,SAAS;IAC9B,IAAI,CAAC,QAAQ;QACX,SAAS,OAAO,CAAC,SAAS,GAAG;YAC3B,cAAc,CAAA,GAAA,wLAAA,CAAA,qBAAkB,AAAD,EAAE;gBAC/B,MAAM;gBACN;gBACA,cAAc;oBACZ,kLAAA,CAAA,UAAkB;oBAClB;iBACD;gBACD,MAAK,mBAAmB,EAAE,GAAG;oBAC3B,MAAM,WAAW,sBAAsB,UAAU,CAAC,QAAQ;oBAC1D,OAAO,SAAU,GAAG,IAAI;wBACtB,MAAM,QAAQ;wBACd,MAAM,cAAc,YAAY;wBAChC,OAAO;4BACL;4BACA,QAAQ,QAAQ;wBAClB;oBACF;gBACF;gBACA,kBAAiB,MAAM;oBACrB,OAAO;wBAAC,OAAO,WAAW,CAAC,MAAM;qBAAC;gBACpC;YACF;YACA,UAAU;YACV,WAAW;QACb;IACF;IAEA,OAAO,QAAQ;IACf,aAAa,OAAO,SAAS;IAC7B,OAAO,OAAO,YAAY,CAAC,OAAO,QAAQ,MAAM,SAAS,UAAU,UAChE,IAAI,CAAC,CAAC,EAAE,WAAW,EAAE,MAAM,EAAE;QAC5B,mCAAmC;QACnC,MAAM,QAAQ;QACd,uCAAuC;QACvC,MAAM,YAAY,IAAI,WAAW,YAAY,MAAM,GAAG;QACtD,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IAAK;YAC3C,SAAS,CAAC,IAAI,IAAI,QAAQ,GAAG,WAAW,CAAC,EAAE;QAC7C;QACA,oBAAoB,UAAU,CAAC,eAAe,CAAC,QAAQ,WAAW,GAAG,GAAG,OAAO,QAAQ,KAAM,IAAI;QACjG,UAAU,QAAQ;QAElB,iCAAiC;QACjC,IAAI,EAAE,OAAO,QAAQ,KAAK,GAAG;YAC3B,OAAO,SAAS,GAAG,WAAW;gBAAQ,CAAA,GAAA,wLAAA,CAAA,kBAAe,AAAD,EAAE;YAAW,GAAG;QACtE;QACA,OAAO;YAAE;QAAO;IAClB;AACJ;AAEA,SAAS,gBAAgB,MAAM;IAC7B,IAAI,CAAC,OAAO,KAAK,EAAE;QACjB,oBAAoB,KAAK,CAAC,WAAW,CAAC;QACtC,OAAO,KAAK,GAAG;IACjB;AACF;AAEA,MAAM,mCAAmC,oBAAoB,UAAU,CAAC,gCAAgC;AAExG,MAAM,SAAS;IACb,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;IACd,WAAW,IAAI;IACf,aAAa;IACb,cAAc;IACd,WAAW;AACb;AACA,MAAM,YAAY,WAAW,GAAE,IAAI,oJAAA,CAAA,QAAK;AACxC,IAAI,eAAe;AAEnB,SAAS;IACP,OAAO,CAAC,KAAK,WAAW,IAAI,IAAI,EAAE,GAAG;AACvC;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA+BC,GACD,SAAS,qBAAqB,MAAM;IAClC,IAAI,cAAc;QAChB,QAAQ,IAAI,CAAC;IACf,OAAO;QACL,OAAO,QAAQ;IACjB;AACF;AAEA;;;;;;;;;;;;;;CAcC,GACD,MAAM,UAAU,OAAO,MAAM,CAAC;AAE9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4BC,GAED;;;CAGC,GAED;;;;;CAKC,GACD,SAAS,kBAAkB,IAAI,EAAE,QAAQ;IACvC,eAAe;IACf,OAAO,OAAO,CAAC,GAAG;IAClB,MAAM,aAAa;IAEnB,2FAA2F;IAC3F,4EAA4E;IAC5E,MAAM,EAAE,cAAc,EAAE,GAAG;IAC3B,MAAM,QAAQ,EAAE;IAChB,IAAI,gBAAgB;QAClB,MAAM,IAAI,CAAC;YAAC,OAAO;YAAW,KAAK,cAAc;QAAe;IAClE;IACA,IAAI,KAAK,IAAI,EAAE;QACb,MAAM,IAAI,CAAC;YAAC,OAAO;YAAQ,KAAK,cAAc,KAAK,IAAI;QAAC;IAC1D;IACA,KAAK,IAAI,GAAG;IAEZ,6BAA6B;IAC7B,KAAK,IAAI,GAAG,KAAK,KAAK,IAAI;IAE1B,KAAK,YAAY,GAAG,KAAK,YAAY,IAAI,OAAO,YAAY;IAC5D,KAAK,eAAe,GAAG,KAAK,eAAe,IAAI,OAAO,eAAe;IAErE,mBAAmB;IACnB,IAAI,KAAK,WAAW,IAAI,MAAM;QAC5B,IAAI,SAAS,CAAC;QACd,IAAK,IAAI,OAAO,KAAK,WAAW,CAAE;YAChC,IAAI,KAAK,WAAW,CAAC,cAAc,CAAC,MAAM;gBACxC,IAAI,MAAM,KAAK,WAAW,CAAC,IAAI;gBAC/B,IAAI,OAAO,QAAQ,UAAU;oBAC3B,MAAM,UAAU,GAAG,CAAC,KAAK,MAAM;gBACjC;gBACA,MAAM,CAAC,IAAI,GAAG;YAChB;QACF;QACA,KAAK,WAAW,GAAG;IACrB;IAEA,OAAO,MAAM,CAAC;IAEd,2BAA2B;IAC3B,MAAM,EAAC,YAAY,EAAE,WAAW,EAAC,GAAG;IACpC,MAAM,EAAC,YAAY,EAAC,GAAG;IACvB,MAAM,eAAgB,eAAe,eAAe;IACpD,IAAI,QAAQ,OAAO,CAAC,aAAa;IACjC,IAAI,CAAC,OAAO;QACV,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,OAAO,KAAK,GAAG;QACf,OAAO,MAAM,GAAG,eAAe,MAAM,cAAc,sCAAsC;QACzF,QAAQ,OAAO,CAAC,aAAa,GAAG;YAC9B,YAAY;YACZ;YACA,WAAW;YACX,YAAY,IAAI,oJAAA,CAAA,UAAO,CACrB,QACA,WACA,WACA,WACA,oJAAA,CAAA,eAAY,EACZ,oJAAA,CAAA,eAAY;YAEd,aAAa;YACb,cAAc,IAAI;QACpB;QACA,MAAM,UAAU,CAAC,eAAe,GAAG;QACnC,wBAAwB;IAC1B;IAEA,MAAM,EAAC,UAAU,EAAE,SAAS,EAAC,GAAG;IAEhC,wDAAwD;IACxD,MAAM,UAAU,OAAO,SAAS,GAAG,kBAAkB;IACrD,QAAQ,MAAM,IAAI,CAAC,CAAA;QACjB,MAAM,EAAC,QAAQ,EAAE,gBAAgB,EAAE,QAAQ,EAAE,cAAc,EAAE,QAAQ,EAAE,OAAO,EAAC,GAAG;QAClF,MAAM,aAAa,EAAE;QACrB,MAAM,cAAc,IAAI,aAAa,SAAS,MAAM,GAAG;QACvD,IAAI,YAAY;QAChB,IAAI,eAAe;QACnB,MAAM,aAAa;QAEnB,MAAM,gBAAgB,SAAS,GAAG,CAAC,CAAA;YACjC,IAAI,MAAM,MAAM,YAAY,CAAC,GAAG,CAAC,KAAK,GAAG;YACzC,IAAI,CAAC,KAAK;gBACR,MAAM,YAAY,CAAC,GAAG,CAAC,KAAK,GAAG,EAAE,MAAM,IAAI;YAC7C;YACA,OAAO;QACT;QAEA,SAAS,OAAO,CAAC,CAAC,SAAS;YACzB,MAAM,YAAY,gBAAgB,CAAC,EAAE;YACrC,MAAM,EAAC,KAAK,OAAO,EAAE,UAAU,EAAC,GAAG,QAAQ,CAAC,UAAU;YACtD,IAAI,YAAY,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC;YAE7C,4DAA4D;YAC5D,IAAI,CAAC,WAAW;gBACd,MAAM,EAAC,IAAI,EAAE,UAAU,EAAC,GAAG,OAAO,SAAS,CAAC,QAAQ,CAAC,QAAQ;gBAE7D,uFAAuF;gBACvF,8FAA8F;gBAC9F,yDAAyD;gBACzD,MAAM,kBAAkB,KAAK,GAAG,CAAC,UAAU,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE,IACzF,eAAe,CAAC,OAAO,SAAS,GAAG,eAAe,GAAG;gBAEzD,MAAM,aAAa,MAAM,UAAU;gBACnC,MAAM,aAAa;oBACjB,UAAU,CAAC,EAAE,GAAG;oBAChB,UAAU,CAAC,EAAE,GAAG;oBAChB,UAAU,CAAC,EAAE,GAAG;oBAChB,UAAU,CAAC,EAAE,GAAG;iBACjB;gBACD,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,SAAU,YAAY;oBAAE;oBAAM;oBAAY;gBAAW;gBAElF,yCAAyC;gBACzC,WAAW,IAAI,CAAC;YAClB;YAEA,wCAAwC;YACxC,iDAAiD;YACjD,MAAM,EAAC,UAAU,EAAC,GAAG;YACrB,MAAM,OAAO,cAAc,CAAC,eAAe;YAC3C,MAAM,OAAO,cAAc,CAAC,eAAe;YAC3C,MAAM,eAAe,WAAW;YAChC,WAAW,CAAC,YAAY,GAAG,OAAO,UAAU,CAAC,EAAE,GAAG;YAClD,WAAW,CAAC,YAAY,GAAG,OAAO,UAAU,CAAC,EAAE,GAAG;YAClD,WAAW,CAAC,YAAY,GAAG,OAAO,UAAU,CAAC,EAAE,GAAG;YAClD,WAAW,CAAC,YAAY,GAAG,OAAO,UAAU,CAAC,EAAE,GAAG;YAElD,8CAA8C;YAC9C,QAAQ,CAAC,EAAE,GAAG,UAAU,UAAU;QACpC;QACA,QAAQ,KAAK,GAAG,CAAC,QAAQ,KAAK,IAAI,CAAC,IAAI,CAAC,UAAU,UAAU;QAE5D,MAAM,WAAW;QACjB,QAAQ,GAAG,GAAG,CAAC;QAEf,kDAAkD;QAClD,MAAM,gBAAgB,UAAU,MAAM;QACtC,MAAM,aAAa,KAAK,IAAI,CAAC,MAAM,UAAU,GAAG;QAChD,MAAM,eAAe,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,aAAa;QAClE,IAAI,eAAe,eAAe;YAChC,8GAA8G;YAC9G,QAAQ,IAAI,CAAC,CAAC,4BAA4B,EAAE,cAAc,EAAE,EAAE,cAAc;YAC5E,iCAAiC,WAAW,cAAc;YAC1D,kHAAkH;YAClH,WAAW,OAAO;QACpB;QAEA,QAAQ,GAAG,CAAC,WAAW,GAAG,CAAC,CAAA,YACzB,iBAAiB,WAAW,OAAO,KAAK,gBAAgB,EAAE,IAAI,CAAC,CAAC,EAAC,MAAM,EAAC;gBACtE,QAAQ,GAAG,CAAC,UAAU,UAAU,CAAC,GAAG;YACtC,KACC,IAAI,CAAC;YACN,IAAI,WAAW,MAAM,IAAI,CAAC,MAAM,WAAW,EAAE;gBAC3C,sBAAsB;gBACtB,WAAW,WAAW,GAAG;YAC3B;YACA,QAAQ,QAAQ,GAAG,UAAU;YAC7B,QAAQ,KAAK,GAAG,UAAU;YAC1B,wFAAwF;YAExF,kEAAkE;YAClE,SAAS,OAAO,MAAM,CAAC;gBACrB,YAAY;gBACZ;gBACA;gBACA;gBACA;gBACA,mBAAmB;gBACnB,aAAa,OAAO,WAAW;gBAC/B,gBAAgB,OAAO,cAAc;gBACrC,eAAe,OAAO,aAAa;gBACnC,UAAU,OAAO,QAAQ;gBACzB,WAAW,OAAO,SAAS;gBAC3B,YAAY,OAAO,UAAU;gBAC7B,WAAW,OAAO,SAAS;gBAC3B,SAAS,OAAO,OAAO;gBACvB,aAAa,OAAO,WAAW;gBAC/B,aAAa,OAAO,WAAW;gBAC/B,eAAe,OAAO,aAAa;gBACnC,SAAS,OAAO,OAAO;YACzB;QACF;IACF;IAEA,qGAAqG;IACrG,oGAAoG;IACpG,6EAA6E;IAC7E,QAAQ,OAAO,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,MAAM,WAAW,EAAE;YACtB,gBAAgB;QAClB;IACF;AACF;AAEA,SAAS,iBAAiB,EAAC,IAAI,EAAE,UAAU,EAAE,UAAU,EAAC,EAAE,EAAC,YAAY,EAAE,SAAS,EAAE,WAAW,EAAC,EAAE,MAAM;IACtG,IAAI,aAAa;QACf,kFAAkF;QAClF,+CAA+C;QAC/C,OAAO,QAAQ,OAAO,CAAC;YAAC,QAAQ,CAAC;QAAC;IACpC;IACA,MAAM,EAAC,YAAY,EAAE,WAAW,EAAC,GAAG;IACpC,MAAM,UAAU,KAAK,GAAG,CAAC,UAAU,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE,EAAE,UAAU,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE;IACrF,MAAM,cAAc,KAAK,KAAK,CAAC,aAAa;IAC5C,MAAM,IAAI,cAAc,CAAC,eAAe,YAAY,IAAI;IACxD,MAAM,IAAI,KAAK,KAAK,CAAC,cAAc,CAAC,eAAe,YAAY,KAAK;IACpE,MAAM,UAAU,aAAa;IAC7B,OAAO,YAAY,cAAc,cAAc,MAAM,YAAY,SAAS,aAAa,WAAW,GAAG,GAAG,SAAS;AACnH;AAEA,SAAS,wBAAwB,KAAK;IACpC,MAAM,SAAS,MAAM,SAAS;IAE9B;;;;;;;;;;;;;;;;;;;;;EAqBA,GAEA,OAAO,gBAAgB,CAAC,oBAAoB,CAAC;QAC3C,QAAQ,GAAG,CAAC,gBAAgB;QAC5B,MAAM,cAAc;QACpB,MAAM,WAAW,GAAG;IACtB;IACA,OAAO,gBAAgB,CAAC,wBAAwB,CAAC;QAC/C,QAAQ,GAAG,CAAC,oBAAoB;QAChC,MAAM,WAAW,GAAG;QACpB,kDAAkD;QAClD,MAAM,WAAW,EAAE;QACnB,MAAM,YAAY,CAAC,OAAO,CAAC,CAAA;YACzB,SAAS,OAAO,CAAC,CAAA;gBACf,SAAS,IAAI,CAAC,iBAAiB,OAAO,OAAO;YAC/C;QACF;QACA,QAAQ,GAAG,CAAC,UAAU,IAAI,CAAC;YACzB,sBAAsB;YACtB,MAAM,UAAU,CAAC,WAAW,GAAG;QACjC;IACF;AACF;AAEA;;;;;;;;;;;;;;;CAeC,GACD,SAAS,YAAY,EAAC,IAAI,EAAE,UAAU,EAAE,YAAY,EAAC,EAAE,QAAQ;IAC7D,IAAI,OAAO,MAAM,OAAO,CAAC,cAAc,WAAW,IAAI,CAAC,QAAQ,KAAK;IACpE,kBAAkB;QAAE;QAAM;QAAc;IAAK,GAAG;AAClD;AAGA,2DAA2D;AAC3D,SAAS,OAAO,KAAK,EAAE,OAAO;IAC5B,IAAK,IAAI,OAAO,QAAS;QACvB,IAAI,QAAQ,cAAc,CAAC,MAAM;YAC/B,KAAK,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI;QAC3B;IACF;IACA,OAAO;AACT;AAEA,mCAAmC;AACnC,IAAI;AACJ,SAAS,cAAc,IAAI;IACzB,IAAI,CAAC,QAAQ;QACX,SAAS,OAAO,aAAa,cAAc,CAAC,IAAI,SAAS,aAAa,CAAC;IACzE;IACA,OAAO,IAAI,GAAG;IACd,OAAO,OAAO,IAAI;AACpB;AAEA;;;;CAIC,GACD,SAAS,sBAAsB,KAAK;IAClC,wFAAwF;IACxF,+EAA+E;IAC/E,IAAI,OAAO,sBAAsB,YAAY;QAC3C,QAAQ,IAAI,CAAC;QACb,MAAM,EAAC,SAAS,EAAE,UAAU,EAAC,GAAG;QAChC,MAAM,EAAC,KAAK,EAAE,MAAM,EAAC,GAAG;QACxB,MAAM,KAAK,MAAM,SAAS,CAAC,UAAU,CAAC;QACtC,IAAI,SAAS,WAAW,KAAK,CAAC,IAAI;QAClC,IAAI,CAAC,UAAU,OAAO,MAAM,KAAK,QAAQ,SAAS,GAAG;YACnD,SAAS,IAAI,WAAW,QAAQ,SAAS;YACzC,WAAW,KAAK,GAAG;gBAAC;gBAAO;gBAAQ,MAAM;YAAM;YAC/C,WAAW,KAAK,GAAG;YACnB,WAAW,aAAa,GAAG;QAC7B;QACA,GAAG,UAAU,CAAC,GAAG,GAAG,OAAO,QAAQ,GAAG,IAAI,EAAE,GAAG,aAAa,EAAE;IAChE;AACF;AAEA,MAAM,yBAAyB,WAAW,GAAE,CAAA,GAAA,wLAAA,CAAA,qBAAkB,AAAD,EAAE;IAC7D,MAAM;IACN,cAAc;QACZ;QACA;QACA,8IAAA,CAAA,UAAW;KACZ;IACD,MAAK,gBAAgB,EAAE,YAAY,EAAE,WAAW;QAC9C,OAAO,iBAAiB,cAAc;IACxC;AACF;AAEA,MAAM,kBAAkB,WAAW,GAAE,CAAA,GAAA,wLAAA,CAAA,qBAAkB,AAAD,EAAE;IACtD,MAAM;IACN,cAAc;QACZ;KACD;IACD,MAAK,UAAU;QACb,OAAO,SAAS,IAAI;YAClB,OAAO,IAAI,QAAQ,CAAA;gBACjB,WAAW,OAAO,CAAC,MAAM;YAC3B;QACF;IACF;IACA,kBAAiB,MAAM;QACrB,yEAAyE;QACzE,MAAM,gBAAgB,EAAE;QACxB,IAAK,IAAI,KAAK,OAAQ;YACpB,IAAI,MAAM,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE;gBACjC,cAAc,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM;YACrC;QACF;QACA,OAAO;IACT;AACF;AAEA,MAAM,sBAAsB,gBAAgB,YAAY;AAExD,SAAS;IACP,OAAO,IAAI,CAAC,SAAS,OAAO,CAAC,CAAA;QAC3B,MAAM,SAAS,OAAO,CAAC,KAAK,CAAC,SAAS;QACtC,MAAM,EAAC,KAAK,EAAE,MAAM,EAAC,GAAG;QACxB,QAAQ,GAAG,CAAC,OAAO,CAAC;sBACF,EAAE,OAAO,SAAS,GAAG;uBACpB,EAAE,MAAM,GAAG,EAAE,OAAO;;;mBAGxB,EAAE,OAAO;oBACR,EAAE,MAAM;IACxB,CAAC;IACH;AACF;AAEA,MAAM,qBAAqB,CAAC;AAE5B,SAAS,oBAAoB,MAAM;IACjC,IAAI,OAAO,kBAAkB,CAAC,OAAO;IACrC,IAAI,CAAC,MAAM;QACT,OAAO,kBAAkB,CAAC,OAAO,GAAG,IAAI,oJAAA,CAAA,gBAAa,CAAC,GAAG,GAAG,QAAQ,QAAQ,SAAS,CAAC,KAAK,KAAK;IAClG;IACA,OAAO;AACT;AAEA,MAAM,sBAAsB;AAC5B,MAAM,qBAAqB;AAC3B,MAAM,qBAAqB;AAE3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,GACA,MAAM,uBAAuB,oJAAA,CAAA,0BAAuB;IAClD,aAAc;QACZ,KAAK;QAEL,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,WAAW,GAAG;QAEnB,+EAA+E;QAC/E,8EAA8E;QAC9E,IAAI,CAAC,MAAM,GAAG;YACZ;gBAAC,OAAO;gBAAG,OAAO;gBAAU,eAAe;YAAC;YAC5C;gBAAC,OAAO;gBAAG,OAAO;gBAAU,eAAe;YAAC;SAC7C;QAED,qCAAqC;QACrC,IAAI,CAAC,cAAc,GAAG,IAAI,oJAAA,CAAA,SAAM;QAChC,IAAI,CAAC,WAAW,GAAG,IAAI,oJAAA,CAAA,OAAI;IAC7B;IAEA,wBAAyB;IACvB,gEAAgE;IAClE;IAEA,qBAAqB;IACnB,6DAA6D;IAC/D;IAEA,IAAI,OAAO,MAAM,EAAE;QACjB,IAAI,WAAW,IAAI,CAAC,OAAO,EAAE;YAC3B,IAAI,CAAC,OAAO,GAAG;YACf,IAAI,OAAO,WAAW,YAAY,SAAS,GAAG;gBAC5C,SAAS;YACX;YACA,IAAI,MAAM,oBAAoB;YAC7B;gBAAC;gBAAY;gBAAU;aAAK,CAAC,OAAO,CAAC,CAAA;gBACpC,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,UAAU,CAAC,KAAK,CAAC,KAAK;YACpD;YACA,IAAI,CAAC,QAAQ,CAAC,IAAI,QAAQ,GAAG,KAAK;QACpC;IACF;IACA,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,OAAO;IACrB;IAEA,IAAI,YAAY,CAAC,EAAE;QACjB,IAAI,MAAM,IAAI,CAAC,YAAY,EAAE;YAC3B,IAAI,CAAC,YAAY,GAAG;YACpB,IAAI,CAAC,aAAa;QACpB;IACF;IACA,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,YAAY;IAC1B;IAEA;;;;;;;;;;;GAWC,GACD,aAAa,WAAW,EAAE,iBAAiB,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,EAAE;QACpF,iCAAiC;QACjC,IAAI,CAAC,mBAAmB,CAAC,qBAAqB,aAAa;QAC3D,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,mBAAmB;QAChE,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,aAAa;QAC1D,IAAI,CAAC,YAAY,GAAG;QACpB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,aAAa,GAAG,kBAAkB,MAAM;QAC7C,IAAI,CAAC,aAAa;IACpB;IAEA,gBAAgB;QACd,MAAM,SAAS,IAAI,CAAC,YAAY;QAChC,IAAI,QAAQ;YACV,MAAM,EAAE,WAAW,EAAE,aAAa,IAAI,EAAE,GAAG,IAAI;YAC/C,IAAI,aAAa;gBACf,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;gBAC1C,MAAM,SAAS,KAAK;gBACpB,MAAM,QAAQ,KAAK;gBACnB,MAAM,OAAO,KAAK,GAAG,CAAC;gBACtB,MAAM,YAAY,MAAM,CAAC,EAAE,GAAG;gBAC9B,MAAM,aAAa,MAAM,CAAC,EAAE,GAAG;gBAC/B,MAAM,OAAO,MAAM,CAAC,YAAY,MAAM,IAAI,WAAW,MAAM,CAAC,aAAa,MAAM,IAAI,SAC/E,CAAC,OAAO,IAAI,IAAI,aAAa,MAAM,IAAI,cAAc;gBACzD,MAAM,OAAO,MAAM,CAAC,YAAY,MAAM,IAAI,WAAW,MAAM,CAAC,aAAa,MAAM,IAAI,SAC/E,OAAO,IAAI,IAAI,aAAa,MAAM,IAAI,cAAc;gBACxD,MAAM,OAAO,MAAM,CAAC,YAAY,EAAE,IAAI,WAAW,MAAM,CAAC,aAAa,EAAE,IAAI,SACvE,OAAO,IAAI,IAAI,OAAO,IAAI,aAAa,MAAM,OAAO,IAAI,cAAc;gBAC1E,KAAK,GAAG,CAAC,GAAG,CAAC,MAAM,MAAM,CAAC,EAAE,EAAE,cAAc,IAAI,CAAC,OAAO;gBACxD,KAAK,GAAG,CAAC,GAAG,CAAC,MAAM,MAAM,CAAC,EAAE,EAAE,cAAc,IAAI,IAAI;YACtD,OAAO;gBACL,KAAK,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE;gBACnC,KAAK,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE;YACrC;YACA,KAAK,iBAAiB,CAAC,IAAI,CAAC,cAAc;QAC5C;IACF;IAEA;;;;;;;;;;;;GAYC,GACD,cAAc,QAAQ,EAAE;QACtB,IAAI,QAAQ,IAAI,CAAC,YAAY,CAAC,oBAAoB,KAAK;QACvD,IAAI,SAAS,IAAI,CAAC,cAAc;QAChC,IAAI,QAAQ;YACV,IAAK,IAAI,IAAI,OAAO,MAAM,EAAE,KAAM;gBAChC,QAAQ,MAAM,CAAC,EAAE,CAAC,GAAG;gBACrB,IAAI,OAAO,MAAM,CAAC,EAAE,CAAC,IAAI;gBACzB,+BAA+B;gBAC/B,IAAI,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,IAAI,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,IAAI,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,IAAI,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE;oBAChG;gBACF;YACF;QACF;QACA,IAAI,CAAC,aAAa,GAAG;IACvB;IAEA;;GAEC,GACD,oBAAoB,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE;QAChD,MAAM,OAAO,IAAI,CAAC,YAAY,CAAC;QAC/B,IAAI,UAAU;YACZ,mEAAmE;YACnE,IAAI,QAAQ,KAAK,KAAK,CAAC,MAAM,KAAK,SAAS,MAAM,EAAE;gBACjD,KAAK,KAAK,CAAC,GAAG,CAAC;gBACf,KAAK,WAAW,GAAG;YACrB,OAAO;gBACL,IAAI,CAAC,YAAY,CAAC,UAAU,IAAI,oJAAA,CAAA,2BAAwB,CAAC,UAAU;gBACnE,6FAA6F;gBAC7F,0FAA0F;gBAC1F,uFAAuF;gBACvF,mFAAmF;gBACnF,0FAA0F;gBAC1F,2DAA2D;gBAC3D,OAAO,IAAI,CAAC,iBAAiB,EAAE,6BAA6B;gBAC5D,IAAI,CAAC,OAAO,IAAI,qEAAqE;YACvF;QACF,OAAO,IAAI,MAAM;YACf,IAAI,CAAC,eAAe,CAAC;QACvB;IACF;AACF;AAEA,gBAAgB;AAChB,MAAM,cAAc,CAAC;;;;;;;;;;;;;;;;;;;AAmBrB,CAAC;AAED,kDAAkD;AAClD,MAAM,mBAAmB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiC1B,EAAE,GAAE;;;8FAG0F,IAAG;;;;;;;;;AASjG,CAAC;AAED,gBAAgB;AAChB,MAAM,gBAAgB,CAAC;;;;;;;;;;;;;;;;;;;EAmBrB,EAAE,GAAE;;;EAGJ,IAAG;;;;;;;;;;;;;;;;;;;EAmBH,EAAE,GAAE;;;;EAIJ,IAAG;;;;;;;;;;;;;;;;EAgBH,EAAE,GAAE;;;;;;;;;;;;;;;;;;;;;EAqBJ,IAAG;;;;;;;;;;;;;;;;;;;AAmBL,CAAC;AAED,kDAAkD;AAClD,MAAM,qBAAqB,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAuB5B,CAAC;AAGD;;CAEC,GACD,SAAS,0BAA0B,YAAY;IAC7C,MAAM,eAAe,CAAA,GAAA,sLAAA,CAAA,wBAAqB,AAAD,EAAE,cAAc;QACvD,SAAS;QACT,YAAY;YACV,aAAa;QACf;QACA,UAAU;YACR,mBAAmB;gBAAC,OAAO;YAAI;YAC/B,uBAAuB;gBAAC,OAAO,IAAI,oJAAA,CAAA,UAAO;YAAE;YAC5C,qBAAqB;gBAAC,OAAO;YAAC;YAC9B,oBAAoB;gBAAC,OAAO;YAAC;YAC7B,oBAAoB;gBAAC,OAAO,IAAI,oJAAA,CAAA,UAAO,CAAC,GAAE,GAAE,GAAE;YAAE;YAChD,iBAAiB;gBAAC,OAAO,IAAI,oJAAA,CAAA,UAAO,CAAC,GAAE,GAAE,GAAE;YAAE;YAC7C,mBAAmB;gBAAC,OAAO;YAAC;YAC5B,oBAAoB;gBAAC,OAAO;YAAC;YAC7B,uBAAuB;gBAAC,OAAO,IAAI,oJAAA,CAAA,UAAO;YAAE;YAC5C,oBAAoB;gBAAC,OAAO;YAAC;YAC7B,mBAAmB;gBAAC,OAAO;YAAC;YAC5B,oBAAoB;gBAAC,OAAO;YAAC;YAC7B,oBAAoB;gBAAC,OAAO,IAAI,oJAAA,CAAA,QAAK;YAAE;YACvC,sBAAsB;gBAAC,OAAO;YAAC;YAC/B,eAAe;gBAAC,OAAO,IAAI,oJAAA,CAAA,UAAO;YAAE;YACpC,uBAAuB;gBAAC,OAAO;YAAI;YACnC,iBAAiB;gBAAC,OAAO;YAAK;QAChC;QACA,YAAY;QACZ,iBAAiB;QACjB,cAAc;QACd,wBAAwB;QACxB,gBAAe,EAAC,YAAY,EAAE,cAAc,EAAC;YAC3C,IAAI,aAAa;YACjB,IAAI,WAAW,IAAI,CAAC,iBAAiB;gBACnC,sDAAsD;gBACtD,iBAAiB,eACd,OAAO,CAAC,YAAY,kCACpB,OAAO,CAAC,gBAAgB;gBAC3B,mFAAmF;gBACnF,IAAI,CAAC,WAAW,IAAI,CAAC,eAAe;oBAClC,eAAe,aAAa,OAAO,CACjC,sLAAA,CAAA,iBAAc,EACd;gBAEJ;YACF;YACA,OAAO;gBAAE;gBAAc;YAAe;QACxC;IACF;IAEA,gDAAgD;IAChD,aAAa,WAAW,GAAG;IAE3B,2CAA2C;IAC3C,aAAa,eAAe,GAAG;IAE/B,OAAO,gBAAgB,CAAC,cAAc;QACpC,sBAAsB;YAAC,OAAO;QAAI;QAElC,kFAAkF;QAClF,+EAA+E;QAC/E,YAAY;YACV;gBACE,OAAO,IAAI,CAAC,IAAI;YAClB;YACA;YACE,OAAO;YACT;QACF;IACF;IAEA,OAAO;AACT;AAEA,MAAM,kBAAkB,WAAW,GAAG,IAAI,oJAAA,CAAA,oBAAiB,CAAC;IAC1D,OAAO;IACP,MAAM,oJAAA,CAAA,aAAU;IAChB,aAAa;AACf;AACA,MAAM,qBAAqB;AAE3B,MAAM,WAAW,WAAW,GAAG,IAAI,oJAAA,CAAA,UAAO;AAC1C,MAAM,YAAY,WAAW,GAAG,IAAI,oJAAA,CAAA,UAAO;AAC3C,MAAM,YAAY,WAAW,GAAG,IAAI,oJAAA,CAAA,UAAO;AAC3C,MAAM,YAAY,EAAE;AACpB,MAAM,SAAS,WAAW,GAAG,IAAI,oJAAA,CAAA,UAAO;AACxC,MAAM,gBAAgB;AAEtB,SAAS,MAAM,CAAC;IACd,OAAO,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG;AACnC;AAEA,IAAI,qBAAqB;IACvB,MAAM,OAAO,IAAI,oJAAA,CAAA,OAAI,CACnB,IAAI,oJAAA,CAAA,gBAAa,CAAC,GAAG,IACrB;IAEF,qBAAqB,IAAM;IAC3B,OAAO;AACT;AACA,IAAI,uBAAuB;IACzB,MAAM,OAAO,IAAI,oJAAA,CAAA,OAAI,CACnB,IAAI,oJAAA,CAAA,gBAAa,CAAC,GAAG,GAAG,IAAI,IAC5B;IAEF,uBAAuB,IAAM;IAC7B,OAAO;AACT;AAEA,MAAM,iBAAiB;IAAE,MAAM;AAAY;AAC3C,MAAM,oBAAoB;IAAE,MAAM;AAAe;AAEjD,MAAM,iBAAiB;IACrB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,iBAAiB,eAAe,MAAM,CAC1C,YACA,SACA,eACA,YACA,eACA,eACA;AAGF;;;;;CAKC,GACD,MAAM,aAAa,oJAAA,CAAA,OAAI;IACrB,aAAc;QACZ,MAAM,WAAW,IAAI;QACrB,KAAK,CAAC,UAAU;QAEhB,qCAAqC;QAErC;;;KAGC,GACD,IAAI,CAAC,IAAI,GAAG;QAEZ;;;;;;KAMC,GACD,IAAI,CAAC,OAAO,GAAG;QAEf;;;;;;KAMC,GACD,IAAI,CAAC,OAAO,GAAG;QAEf;;;;;;;;;KASC,GACD,IAAI,CAAC,WAAW,GAAG;QAEnB;;;;KAIC,GACD,IAAI,CAAC,SAAS,GAAG;QAEjB;;;;KAIC,GACD,IAAI,CAAC,IAAI,GAAG,MAAM,mCAAmC;QAErD,IAAI,CAAC,eAAe,GAAG,MAAM,iBAAiB;QAE9C;;;;KAIC,GACD,IAAI,CAAC,QAAQ,GAAG;QAEhB;;;KAGC,GACD,IAAI,CAAC,UAAU,GAAG;QAElB;;;KAGC,GACD,IAAI,CAAC,SAAS,GAAG;QAEjB;;;KAGC,GACD,IAAI,CAAC,IAAI,GAAG;QAEV;;;;KAID,GACD,IAAI,CAAC,aAAa,GAAG;QAErB;;;;KAIC,GACD,IAAI,CAAC,UAAU,GAAG;QAElB;;;;KAIC,GACD,IAAI,CAAC,QAAQ,GAAG;QAEhB;;;;;KAKC,GACD,IAAI,CAAC,YAAY,GAAG;QAEpB;;;KAGC,GACD,IAAI,CAAC,SAAS,GAAG;QAEjB;;;KAGC,GACD,IAAI,CAAC,UAAU,GAAG;QAElB;;;;;;KAMC,GACD,IAAI,CAAC,UAAU,GAAG;QAGlB,sCAAsC;QAEtC;;;;;;;;;KASC,GACD,IAAI,CAAC,QAAQ,GAAG;QAEhB;;;;;;KAMC,GACD,IAAI,CAAC,KAAK,GAAG;QAEb;;;;;;;;KAQC,GACD,IAAI,CAAC,WAAW,GAAG;QAEnB;;;;;;;KAOC,GACD,IAAI,CAAC,YAAY,GAAG;QAEpB;;;;;KAKC,GACD,IAAI,CAAC,YAAY,GAAG;QAEpB;;;;;KAKC,GACD,IAAI,CAAC,cAAc,GAAG;QAEtB;;;;;;;KAOC,GACD,IAAI,CAAC,WAAW,GAAG;QAEnB;;;;;;KAMC,GACD,IAAI,CAAC,cAAc,GAAG;QAEtB;;;;;;KAMC,GACD,IAAI,CAAC,cAAc,GAAG;QAEtB;;;;;;KAMC,GACD,IAAI,CAAC,WAAW,GAAG;QAEnB;;;;KAIC,GACD,IAAI,CAAC,WAAW,GAAG;QAEnB;;;;KAIC,GACD,IAAI,CAAC,aAAa,GAAG;QAErB;;;;;;KAMC,GACD,IAAI,CAAC,WAAW,GAAG;QAEnB;;;;;KAKC,GACD,IAAI,CAAC,WAAW,GAAG;QAEnB;;;;;KAKC,GACD,IAAI,CAAC,QAAQ,GAAG;QAEhB;;;;;;;;KAQC,GACD,IAAI,CAAC,WAAW,GAAG;QAEnB;;;;;KAKC,GACD,IAAI,CAAC,mBAAmB,GAAG;QAE3B;;;;;;;KAOC,GACD,IAAI,CAAC,YAAY,GAAG;QAEpB;;;;;;;KAOC,GACD,IAAI,CAAC,gBAAgB,GAAG;QAExB,IAAI,CAAC,QAAQ,GAAG;IAClB;IAEA;;;;;GAKC,GACD,KAAK,QAAQ,EAAE;QACb,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,UAAU,GAAG;YAElB,mDAAmD;YACnD,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC;YACvD,OAAO;gBACL,IAAI,CAAC,UAAU,GAAG;gBAClB,IAAI,CAAC,aAAa,CAAC;gBAEnB,kBAAkB;oBAChB,MAAM,IAAI,CAAC,IAAI;oBACf,MAAM,IAAI,CAAC,IAAI;oBACf,MAAM,IAAI,CAAC,IAAI;oBACf,UAAU,IAAI,CAAC,QAAQ,IAAI;oBAC3B,YAAY,IAAI,CAAC,UAAU,IAAI;oBAC/B,WAAW,IAAI,CAAC,SAAS,IAAI;oBAC7B,eAAe,IAAI,CAAC,aAAa,IAAI;oBACrC,YAAY,IAAI,CAAC,UAAU,IAAI;oBAC/B,UAAU,IAAI,CAAC,QAAQ;oBACvB,WAAW,IAAI,CAAC,SAAS,IAAI;oBAC7B,WAAW,IAAI,CAAC,SAAS;oBACzB,YAAY,IAAI,CAAC,UAAU;oBAC3B,YAAY,IAAI,CAAC,UAAU;oBAC3B,cAAc,IAAI,CAAC,YAAY;oBAC/B,SAAS,IAAI,CAAC,OAAO;oBACrB,SAAS,IAAI,CAAC,OAAO;oBACrB,aAAa,IAAI,CAAC,WAAW;oBAC7B,uBAAuB;oBACvB,cAAc,IAAI,CAAC,YAAY;oBAC/B,kBAAkB,IAAI,CAAC,gBAAgB;oBACvC,iBAAiB,IAAI,CAAC,eAAe;gBACvC,GAAG,CAAA;oBACD,IAAI,CAAC,UAAU,GAAG;oBAElB,8CAA8C;oBAC9C,IAAI,CAAC,eAAe,GAAG;oBAEvB,iCAAiC;oBACjC,IAAI,CAAC,QAAQ,CAAC,YAAY,CACxB,eAAe,WAAW,EAC1B,eAAe,iBAAiB,EAChC,eAAe,WAAW,EAC1B,eAAe,aAAa,EAC5B,eAAe,WAAW;oBAG5B,uDAAuD;oBACvD,MAAM,SAAS,IAAI,CAAC,YAAY;oBAChC,IAAI,QAAQ;wBACV,IAAI,CAAC,YAAY,GAAG;wBACpB,IAAI,CAAC,UAAU,GAAG;wBAClB,IAAI,CAAC,IAAI,CAAC;4BACR,OAAO,OAAO,CAAC,CAAA,KAAM,MAAM;wBAC7B;oBACF;oBAEA,IAAI,CAAC,aAAa,CAAC;oBACnB,IAAI,UAAU;wBACZ;oBACF;gBACF;YACF;QACF;IACF;IAEA;;;;;GAKC,GACD,eAAe,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE;QACjE,IAAI,CAAC,IAAI;QAET,2FAA2F;QAC3F,IAAI,SAAS,oBAAoB,EAAE;YACjC,IAAI,CAAC,iBAAiB,CAAC;QACzB;IACF;IAEA;;;;;;GAMC,GACD,UAAU;QACR,IAAI,CAAC,QAAQ,CAAC,OAAO;IACvB;IAEA;;;;;;GAMC,GACD,IAAI,iBAAiB;QACnB,OAAO,IAAI,CAAC,eAAe,IAAI;IACjC;IAEA;;;GAGC,GACD,sBAAsB,YAAY,EAAE;QAClC,OAAO,0BAA0B;IACnC;IAEA,6FAA6F;IAC7F,wFAAwF;IACxF,IAAI,WAAW;QACb,IAAI,kBAAkB,IAAI,CAAC,gBAAgB;QAC3C,MAAM,eAAe,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,KAAK,EAAE;QACpH,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,aAAa,CAAC,eAAe;YACpE,kBAAkB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,qBAAqB,CAAC;YACrE,mEAAmE;YACnE,aAAa,gBAAgB,CAAC,WAAW,SAAS;gBAChD,aAAa,mBAAmB,CAAC,WAAW;gBAC5C,gBAAgB,OAAO;YACzB;QACF;QACA,8FAA8F;QAC9F,2FAA2F;QAC3F,wFAAwF;QACxF,wEAAwE;QACxE,IAAI,IAAI,CAAC,UAAU,IAAI;YACrB,IAAI,kBAAkB,gBAAgB,WAAW;YACjD,IAAI,CAAC,iBAAiB;gBACpB,kBAAkB,gBAAgB,WAAW,GAAG,OAAO,MAAM,CAAC,iBAAiB;oBAC7E,IAAI;wBAAC,OAAO,gBAAgB,EAAE,GAAG;oBAAG;gBACtC;gBACA,gBAAgB,qBAAqB,GAAG;gBACxC,gBAAgB,UAAU,GAAG;gBAC7B,gBAAgB,GAAG,GAAG,MAAM,KAAK;gBACjC,gBAAgB,gBAAgB,CAAC,WAAW,SAAS;oBACnD,gBAAgB,mBAAmB,CAAC,WAAW;oBAC/C,gBAAgB,OAAO;gBACzB;YACF;YACA,OAAO;gBACL;gBACA;aACD;QACH,OAAO;YACL,OAAO;QACT;IACF;IACA,IAAI,SAAS,YAAY,EAAE;QACzB,IAAI,gBAAgB,aAAa,oBAAoB,EAAE;YACrD,IAAI,CAAC,gBAAgB,GAAG;YACxB,IAAI,CAAC,aAAa,GAAG,aAAa,YAAY;QAChD,OAAO;YACL,IAAI,CAAC,aAAa,GAAG;QACvB;IACF;IAEA,aAAa;QACX,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc;IAC/F;IAEA,IAAI,sBAAsB;QACxB,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM;IAC7B;IACA,IAAI,oBAAoB,MAAM,EAAE;QAC9B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG;IACzB;IAEA,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW;IAClC;IACA,IAAI,YAAY,CAAC,EAAE;QACjB,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG;IAC9B;IAEA,uDAAuD;IACvD,IAAI,sBAAsB;QACxB,OAAO,MAAM,IAAI,CAAC,QAAQ,EAAE,gBAAgB;IAC9C;IACA,IAAI,yBAAyB;QAC3B,OAAO,MAAM,IAAI,CAAC,QAAQ,EAAE,mBAAmB;IACjD;IAEA,kBAAkB,QAAQ,EAAE;QAC1B,MAAM,YAAY,SAAS,qBAAqB;QAChD,MAAM,WAAW,SAAS,QAAQ;QAClC,MAAM,WAAW,IAAI,CAAC,cAAc;QACpC,IAAI,UAAU;YACZ,MAAM,EAAC,UAAU,EAAE,WAAW,EAAC,GAAG;YAClC,SAAS,iBAAiB,CAAC,KAAK,GAAG;YACnC,SAAS,qBAAqB,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,KAAK,CAAC,KAAK,EAAE,WAAW,KAAK,CAAC,MAAM;YACxF,SAAS,mBAAmB,CAAC,KAAK,GAAG,SAAS,YAAY;YAC1D,SAAS,kBAAkB,CAAC,KAAK,GAAG,SAAS,WAAW;YACxD,SAAS,kBAAkB,CAAC,KAAK,CAAC,SAAS,CAAC;YAC5C,SAAS,qBAAqB,CAAC,KAAK,GAAG,CAAC,aAAa,CAAC,CAAC,SAAS,WAAW;YAE3E,IAAI,iBAAiB;YACrB,IAAI,aAAa;YACjB,IAAI,cAAc;YAClB,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,IAAI,UAAU;YACd,IAAI,UAAU;YAEd,IAAI,WAAW;gBACb,IAAI,EAAC,YAAY,EAAE,cAAc,EAAE,cAAc,EAAE,WAAW,EAAE,cAAc,EAAC,GAAG,IAAI;gBACtF,iBAAiB,IAAI,CAAC,aAAa,CAAC,iBAAiB;gBACrD,aAAa,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB;gBAC5D,cAAc;gBACd,UAAU,IAAI,CAAC,aAAa,CAAC,mBAAmB;gBAChD,UAAU,IAAI,CAAC,aAAa,CAAC,mBAAmB;YAClD,OAAO;gBACL,cAAc,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,KAAK;gBAClE,IAAI,aAAa;oBACf,cAAc,IAAI,CAAC,WAAW;oBAC9B,SAAS,kBAAkB,CAAC,KAAK,CAAC,GAAG,CAAC,eAAe,OAAO,qBAAqB;oBACjF,gBAAgB,IAAI,CAAC,aAAa;oBAClC,IAAI,iBAAiB,MAAM,gBAAgB;gBAC7C;gBACA,cAAc,IAAI,CAAC,WAAW;YAChC;YAEA,SAAS,iBAAiB,CAAC,KAAK,GAAG;YACnC,SAAS,qBAAqB,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS;YAClD,SAAS,iBAAiB,CAAC,KAAK,GAAG;YACnC,SAAS,kBAAkB,CAAC,KAAK,GAAG;YACpC,SAAS,oBAAoB,CAAC,KAAK,GAAG;YACtC,SAAS,kBAAkB,CAAC,KAAK,GAAG,eAAe,OAAO,IAAI;YAC9D,SAAS,kBAAkB,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,IAAI;YAExD,IAAI,WAAW,IAAI,CAAC,QAAQ;YAC5B,IAAI,YAAY,MAAM,OAAO,CAAC,aAAa,SAAS,MAAM,KAAK,GAAG;gBAChE,SAAS,eAAe,CAAC,KAAK,CAAC,SAAS,CAAC;YAC3C,OAAO;gBACL,sGAAsG;gBACtG,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,GAAG,IAAI;gBACrC,SAAS,eAAe,CAAC,KAAK,CAAC,GAAG,CAChC,WAAW,CAAC,EAAE,GAAG,KACjB,WAAW,CAAC,EAAE,GAAG,KACjB,WAAW,CAAC,EAAE,GAAG,KACjB,WAAW,CAAC,EAAE,GAAG;YAErB;YACA,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS,eAAe,CAAC,KAAK;QAC5D;QACA,SAAS,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ;QAChD,SAAS,aAAa,GAAG,CAAC,CAAC,IAAI,CAAC,WAAW;QAC3C,SAAS,mBAAmB,GAAG,SAAS,kBAAkB,GAAG,IAAI,CAAC,WAAW,IAAI;QAEjF,4EAA4E;QAC5E,iFAAiF;QACjF,MAAM,QAAQ,YAAa,IAAI,CAAC,YAAY,IAAI,IAAK,IAAI,CAAC,KAAK;QAE/D,IAAI,SAAS,MAAM;YACjB,OAAO,SAAS,KAAK,EAAE,mBAAmB;QAC5C,OAAO;YACL,MAAM,WAAW,SAAS,cAAc,CAAC,WAAW,SAAS,KAAK,GAAI,SAAS,KAAK,GAAG,IAAI,oJAAA,CAAA,QAAK;YAChG,IAAI,UAAU,SAAS,MAAM,IAAI,OAAO,UAAU,UAAU;gBAC1D,SAAS,GAAG,CAAC,SAAS,MAAM,GAAG;YACjC;QACF;QAEA,mBAAmB;QACnB,IAAI,SAAS,IAAI,CAAC,WAAW,IAAI;QACjC,IAAI,WAAW,SAAS,YAAY,EAAE;YACpC,IAAI,SAAS,SAAS,aAAa,CAAC,KAAK;YACzC,SAAS,OAAO,OAAO,CAAC,aAAa;YACrC,IAAI,QAAQ,WAAW,iBAAiB,OAAO,KAAK,CAAC;YACrD,IAAI,OAAO;gBACT,IAAI,GAAG,OAAO,OAAO,OAAO,MAAM,GAAG;gBACrC,UAAU,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,MAAM,GAAG,UAAU,MAAM,IAAI,CAAC;gBACrD,UAAU,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,MAAM,GAAG,UAAU,MAAM,CAAC,IAAI;gBACrD,SAAS,MAAM,CAAC,QAAQ,UAAU,KAAK,CAAC,YAAY;gBACpD,OAAO,cAAc,CAAC;YACxB,OAAO;gBACL,OAAO,QAAQ;YACjB;YACA,SAAS,YAAY,GAAG;QAC1B;IACF;IAEA,cAAc,KAAK,EAAE;QACnB,IAAI,OAAO,UAAU,UAAU;YAC7B,IAAI,QAAQ,MAAM,KAAK,CAAC;YACxB,IAAI,MAAM,QAAQ,WAAW,KAAK,CAAC,EAAE,IAAI;YACzC,QAAQ,CAAC,MAAM,OAAO,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,QAAQ;QACtD;QACA,OAAO;IACT;IAEA;;GAEC,GACD,0BAA0B,QAAQ,EAAE,SAAS,IAAI,oJAAA,CAAA,UAAO,EAAE,EAAE;QAC1D,OAAO,IAAI,CAAC,WAAW,+BAA+B;QACtD,MAAM,IAAI,IAAI,CAAC,WAAW;QAC1B,IAAI,GAAG;YACL,OAAO,CAAC,GAAG,KAAK,KAAK,CAAC,SAAS,CAAC,EAAE,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,SAAS,CAAC,KAAK,KAAK,GAAG,CAAC;QACnF;QACA,OAAO;IACT;IAEA;;GAEC,GACD,0BAA0B,QAAQ,EAAE,SAAS,IAAI,oJAAA,CAAA,UAAO,EAAE,EAAE;QAC1D,UAAU,IAAI,CAAC;QACf,OAAO,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY;IACtE;IAEA;;;GAGC,GACD,QAAQ,SAAS,EAAE,UAAU,EAAE;QAC7B,MAAM,EAAC,cAAc,EAAE,WAAW,EAAC,GAAG,IAAI;QAC1C,IAAI,gBAAgB;YAClB,MAAM,SAAS,eAAe,WAAW;YACzC,MAAM,cAAc,cAAc,yBAAyB;YAC3D,MAAM,OAAO,YAAY,QAAQ;YACjC,MAAM,EAAC,QAAQ,EAAE,EAAE,EAAC,GAAG,KAAK,UAAU;YACtC,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,KAAK,EAAE,IAAK;gBACjC,IAAI,IAAI,MAAM,CAAC,EAAE,GAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE;gBACxD,MAAM,IAAI,MAAM,CAAC,EAAE,GAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE;gBAC1D,IAAI,IAAI;gBACR,IAAI,aAAa;oBACf,IAAI,cAAc,KAAK,GAAG,CAAC,IAAI,eAAe;oBAC9C,IAAI,KAAK,GAAG,CAAC,IAAI,eAAe;gBAClC;gBACA,SAAS,MAAM,CAAC,GAAG,GAAG,GAAG;YAC3B;YACA,KAAK,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc;YAClD,KAAK,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW;YAC5C,YAAY,WAAW,GAAG,IAAI,CAAC,WAAW;YAC1C,YAAY,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI;YAC9C,UAAU,MAAM,GAAG;YACnB,YAAY,OAAO,CAAC,WAAW;YAC/B,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK;gBACzC,SAAS,CAAC,EAAE,CAAC,MAAM,GAAG,IAAI;gBAC1B,WAAW,IAAI,CAAC,SAAS,CAAC,EAAE;YAC9B;QACF;IACF;IAEA,KAAK,MAAM,EAAE;QACX,iGAAiG;QACjG,MAAM,OAAO,IAAI,CAAC,QAAQ;QAC1B,KAAK,CAAC,KAAK;QACX,IAAI,CAAC,QAAQ,GAAG;QAEhB,eAAe,OAAO,CAAC,CAAA;YACrB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK;QAC3B;QACA,OAAO,IAAI;IACb;IAEA,QAAQ;QACN,OAAO,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI;IACzC;AACF;AAGA,yDAAyD;AACzD,eAAe,OAAO,CAAC,CAAA;IACrB,MAAM,aAAa,cAAc;IACjC,OAAO,cAAc,CAAC,KAAK,SAAS,EAAE,MAAM;QAC1C;YACE,OAAO,IAAI,CAAC,WAAW;QACzB;QACA,KAAI,KAAK;YACP,IAAI,UAAU,IAAI,CAAC,WAAW,EAAE;gBAC9B,IAAI,CAAC,WAAW,GAAG;gBACnB,IAAI,CAAC,UAAU,GAAG;YACpB;QACF;IACF;AACF;AAEA,MAAM,mBAAmB;IAAE,MAAM;AAAY;AAC7C,MAAM,sBAAsB;IAAE,MAAM;AAAe;AACnD,MAAM,sBAAsB;AAG5B;;;;;;;;;;;;;;;;;;;;;AAqBA,GACA,MAAM,kBAAkB;AAExB,MAAM,WAAW,IAAI,oJAAA,CAAA,OAAI;AACzB,MAAM,cAAc,IAAI,oJAAA,CAAA,QAAK;AAE7B;;;;;;;;;;CAUC,GACD,MAAM,oBAAoB;IACxB,aAAe;QACb,KAAK;QAEL;;;;KAIC,GAED;;KAEC,GACD,IAAI,CAAC,QAAQ,GAAG,IAAI;QACpB,IAAI,CAAC,aAAa,GAAG,CAAC;QAEtB,IAAI,CAAC,eAAe,GAAG,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,KAAK,GAAG;QACtC;IACF;IAEA;;;GAGC,GACD,IAAK,GAAG,OAAO,EAAE;QACf,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;YACvC,IAAI,OAAO,CAAC,EAAE,YAAY,MAAM;gBAC9B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YACzB,OAAO;gBACL,KAAK,CAAC,IAAI,OAAO,CAAC,EAAE;YACtB;QACF;QACA,OAAO,IAAI;IACb;IAEA;;GAEC,GACD,OAAQ,GAAG,OAAO,EAAE;QAClB,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;YACvC,IAAI,OAAO,CAAC,EAAE,YAAY,MAAM;gBAC9B,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;YAC5B,OAAO;gBACL,KAAK,CAAC,OAAO,OAAO,CAAC,EAAE;YACzB;QACF;QACA,OAAO,IAAI;IACb;IAEA;;GAEC,GACD,QAAS,IAAI,EAAE;QACb,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO;YAC5B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM;gBACtB,OAAO,CAAC;gBACR,YAAY,CAAC;gBACb,OAAO;YACT;YACA,KAAK,gBAAgB,CAAC,gBAAgB,IAAI,CAAC,eAAe;QAC5D;IACF;IAEA;;GAEC,GACD,WAAY,IAAI,EAAE;QAChB,IAAI,CAAC,YAAY,GAAG;QACpB,KAAK,mBAAmB,CAAC,gBAAgB,IAAI,CAAC,eAAe;QAC7D,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;IACvB;IAEA;;GAEC,GACD,sBAAuB,YAAY,EAAE;QACnC,OAAO,0BAA0B;IACnC;IAEA,kBAAmB,KAAK,EAAE;QACxB,KAAK,CAAC,kBAAkB;QACxB,IAAI,CAAC,YAAY;IACnB;IAEA;;GAEC,GACD,eAAgB;QACd,sDAAsD;QACtD,MAAM,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS;QAChD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,GAAG;YACxB,IAAI,KAAK,gBAAgB,EAAE,KAAK,YAAY,IAAI,sBAAsB;YACtE,SAAS,IAAI,CAAC,KAAK,QAAQ,CAAC,WAAW,EAAE,YAAY,CAAC,KAAK,MAAM;YACjE,KAAK,KAAK,CAAC;QACb;QACA,KAAK,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc;IACrD;IAEA,cAAc,GACd,aAAa;QACX,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,CAAA,IAAK,EAAE,UAAU;IACpD;IAEA;;;GAGC,GACD,kBAAmB,QAAQ,EAAE;QAC3B,MAAM,YAAY,SAAS,qBAAqB;QAChD,SAAS,QAAQ,CAAC,gBAAgB,CAAC,KAAK,GAAG;QAE3C,2CAA2C;QAC3C,IAAI,UAAU,IAAI,CAAC,aAAa,CAAC,YAAY,YAAY,OAAO;QAChE,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG;QACxE,IAAI,CAAC,WAAW,eAAe,QAAQ,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE;YACxD,0CAA0C;YAC1C,IAAI,SAAS,QAAQ,OAAO;YAC5B,MAAM,QAAQ,KAAK,GAAG,CAAC,aAAa,GAAG;YACvC,UAAU,IAAI,CAAC,aAAa,CAAC,YAAY,YAAY,OAAO,GAAG,IAAI,oJAAA,CAAA,cAAW,CAC5E,IAAI,aAAa,aACjB,OACA,aAAa,IAAI,OACjB,oJAAA,CAAA,aAAU,EACV,oJAAA,CAAA,YAAS;QAEb;QAEA,MAAM,UAAU,QAAQ,KAAK,CAAC,IAAI;QAClC,MAAM,aAAa,CAAC,OAAO;YACzB,IAAI,UAAU,OAAO,CAAC,MAAM,EAAE;gBAC5B,OAAO,CAAC,MAAM,GAAG;gBACjB,QAAQ,WAAW,GAAG;YACxB;QACF;QACA,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE;YACvC,IAAI,QAAQ,CAAC,GAAG;gBACd,MAAM,aAAa,QAAQ;gBAE3B,SAAS;gBACT,MAAM,SAAS,KAAK,MAAM,CAAC,QAAQ;gBACnC,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,IAAK;oBAC3B,WAAW,aAAa,GAAG,MAAM,CAAC,EAAE;gBACtC;gBAEA,4EAA4E;gBAC5E,6EAA6E;gBAC7E,KAAK,iBAAiB,CAAC;gBACvB,MAAM,EACJ,kBAAkB,EAClB,eAAe,EACf,qBAAqB,EACrB,iBAAiB,EACjB,iBAAiB,EACjB,kBAAkB,EAClB,kBAAkB,EAClB,oBAAoB,EACpB,kBAAkB,EAClB,kBAAkB,EACnB,GAAG,SAAS,QAAQ;gBAErB,sBAAsB;gBACtB,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;oBAC1B,WAAW,aAAa,KAAK,GAAG,mBAAmB,KAAK,CAAC,YAAY,CAAC;gBACxE;gBAEA,YAAY;gBACZ,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;oBAC1B,WAAW,aAAa,KAAK,GAAG,gBAAgB,KAAK,CAAC,YAAY,CAAC;gBACrE;gBAEA,QAAQ;gBACR,IAAI,QAAQ,YAAa,KAAK,YAAY,IAAI,IAAK,KAAK,KAAK;gBAC7D,IAAI,SAAS,MAAM,QAAQ,IAAI,CAAC,KAAK;gBACrC,IAAI,SAAS,MAAM,QAAQ,IAAI,CAAC,QAAQ,CAAC,KAAK;gBAC9C,IAAI,SAAS,MAAM,QAAQ;gBAC3B,WAAW,aAAa,IAAI,YAAY,GAAG,CAAC,OAAO,MAAM;gBAEzD,iCAAiC;gBACjC,WAAW,aAAa,IAAI,mBAAmB,KAAK;gBAEpD,eAAe;gBACf,WAAW,aAAa,IAAI,mBAAmB,KAAK;gBAEpD,IAAI,WAAW;oBACb,qBAAqB;oBACrB,WAAW,aAAa,IAAI,sBAAsB,KAAK,CAAC,CAAC;oBACzD,WAAW,aAAa,IAAI,sBAAsB,KAAK,CAAC,CAAC;oBACzD,WAAW,aAAa,IAAI,kBAAkB,KAAK;oBACnD,WAAW,aAAa,IAAI,kBAAkB,KAAK;gBACrD,OAAO;oBACL,oBAAoB;oBACpB,WAAW,aAAa,IAAI,mBAAmB,KAAK;oBACpD,WAAW,aAAa,IAAI,YAAY,GAAG,CAAC,mBAAmB,KAAK,EAAE,MAAM;oBAC5E,WAAW,aAAa,IAAI,qBAAqB,KAAK;gBACxD;YACF;QACF;QACA,SAAS,gBAAgB,CAAC;QAE1B,wCAAwC;QACxC,KAAK,CAAC,kBAAkB;IAC1B;IAEA,KAAM,QAAQ,EAAE;QACd,iFAAiF;QAEjF,2CAA2C;QAC3C,IAAI,eAAe,IAAI,CAAC,YAAY,GAAG,EAAE,GAAG;QAC5C,IAAI,CAAC,YAAY,GAAG;QACpB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,aAAa;YAClC,IAAI,YAAY,KAAK,IAAI,KAAK,UAAU,EAAE;gBACxC,YAAY,KAAK,GAAG;gBACpB,CAAC,gBAAgB,CAAC,eAAe,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,QAAQ,CAAA;oBACrD,IAAI,KAAK,UAAU,EAAE;wBACnB,KAAK,IAAI,CAAC;oBACZ,OAAO;wBACL;oBACF;gBACF;YACF;QACF;QAEA,4EAA4E;QAC5E,IAAI,cAAc;YAChB,IAAI,CAAC,aAAa,CAAC;YAEnB,QAAQ,GAAG,CAAC,cAAc,IAAI,CAAC;gBAC7B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI;gBACzB,MAAM,oBAAoB,SAAS,UAAU;gBAC7C,IAAI,gBAAgB,iBAAiB,CAAC,oBAAoB,IAAI,iBAAiB,CAAC,oBAAoB,CAAC,KAAK,IAAI,IAAI,YAAY;gBAC9H,IAAI,sBAAsB,iBAAiB,CAAC,mBAAmB,IAAI,iBAAiB,CAAC,mBAAmB,CAAC,KAAK,IAAI,IAAI,aAAa;gBACnI,IAAI,qBAAqB,iBAAiB,CAAC,oBAAoB,IAAI,iBAAiB,CAAC,oBAAoB,CAAC,KAAK,IAAI,IAAI,aAAa;gBAEpI,4EAA4E;gBAC5E,IAAI,kBAAkB;gBACtB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,cAAc,EAAE;oBACpD,IAAI,gBAAgB;wBAClB,mBAAmB,eAAe,iBAAiB,CAAC,MAAM;wBAC1D,IAAI,CAAC,eAAe,GAAG,gBAAgB,mCAAmC;oBAC5E;gBACF;gBACA,IAAI,oBAAoB,cAAc,MAAM,EAAE;oBAC5C,gBAAgB,eAAe,eAAe;oBAC9C,sBAAsB,eAAe,qBAAqB;oBAC1D,qBAAqB,eAAe,oBAAoB,kBAAkB;gBAC5E;gBAEA,wBAAwB;gBACxB,IAAI,cAAc;gBAClB,IAAI,aAAa;gBACjB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,cAAc,EAAE;oBACpD,IAAI,gBAAgB;wBAClB,MAAM,aAAa,eAAe,iBAAiB,CAAC,MAAM;wBAC1D,cAAc,IAAI,CAAC,aAAa,YAAY,aAAa;wBAEzD,mFAAmF;wBACnF,oBAAoB,GAAG,CAAC,eAAe,iBAAiB,EAAE,YAAY,aAAa;wBACnF,mBAAmB,GAAG,CAAC,eAAe,WAAW,EAAE,aAAa,GAAG,CAAC,aAAa,UAAU,IAAI;wBAE/F,cAAc;wBACd,YAAY,KAAK,GAAG;oBACtB;gBACF;gBAEA,iCAAiC;gBACjC,SAAS,mBAAmB,CAAC,qBAAqB,eAAe;gBACjE,SAAS,YAAY,CAAC,qBAAqB,QAAQ,CAAC,oJAAA,CAAA,mBAAgB;gBACpE,SAAS,mBAAmB,CAAC,oBAAoB,qBAAqB;gBACtE,SAAS,mBAAmB,CAAC,qBAAqB,oBAAoB;gBAEtE,IAAI,CAAC,YAAY;gBAEjB,IAAI,CAAC,aAAa,CAAC;gBACnB,IAAI,UAAU;oBACZ;gBACF;YACF;QACF;IACF;IAEA,KAAM,MAAM,EAAE;QACZ,IAAI,kBAAkB,aAAa;YACjC,KAAK,CAAC,KAAK;YACX,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,GAAG,OAAS,IAAI,CAAC,UAAU,CAAC;YACnD,OAAO,QAAQ,CAAC,OAAO,CAAC,CAAC,GAAG,OAAS,IAAI,CAAC,OAAO,CAAC;QACpD;QACA,OAAO,IAAI;IACb;IAEA,UAAW;QACT,KAAK,CAAC;QACN,OAAO,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,CAAA,MAAO,IAAI,OAAO;IAC9D;AACF;AAEA,SAAS,eAAgB,MAAM,EAAE,SAAS;IACxC,MAAM,OAAO,IAAI,OAAO,WAAW,CAAC;IACpC,KAAK,GAAG,CAAC,OAAO,QAAQ,CAAC,GAAG;IAC5B,OAAO;AACT;AAEA,SAAS,0BAA2B,YAAY;IAC9C,MAAM,iBAAiB;IACvB,MAAM,qBAAqB;IAE3B,8EAA8E;IAC9E,2EAA2E;IAC3E,qEAAqE;IAErE,gCAAgC;IAChC,IAAI,gBAAgB,CAAA,GAAA,sLAAA,CAAA,wBAAqB,AAAD,EAAE,cAAc;QACtD,SAAS;QACT,UAAU;YACR,CAAC,mBAAmB,EAAE;gBAAE,OAAO,IAAI,oJAAA,CAAA,UAAO;YAAG;YAC7C,CAAC,eAAe,EAAE;gBAAE,OAAO;YAAK;QAClC;QACA,gBAAgB;QAChB,YAAY,CAAC;8BACa,EAAE,eAAe;mBAC5B,EAAE,mBAAmB;sBAClB,EAAE,oBAAoB;;;kBAG1B,EAAE,oBAAoB,GAAG,EAAE,gBAAgB,OAAO,CAAC,GAAG;kBACtD,EAAE,mBAAmB;oEAC6B,EAAE,mBAAmB;yBAChE,EAAE,eAAe;;IAEtC,CAAC;QACD,kDAAkD;QAClD,iBAAiB,CAAC;;;;;;;;IAQlB,CAAC;IACH;IAEA,uBAAuB;IACvB,gBAAgB,0BAA0B;IAE1C,yDAAyD;IACzD,gBAAgB,CAAA,GAAA,sLAAA,CAAA,wBAAqB,AAAD,EAAE,eAAe;QACnD,SAAS;QACT,UAAU;YACR,kBAAkB;gBAAC,OAAO;YAAK;QACjC;QACA,gBAAe,OAAO;YACpB,gDAAgD;YAChD,MAAM,kBAAkB;gBACtB;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YACD,gBAAgB,OAAO,CAAC,CAAA;gBACtB,UAAU,iBAAiB,SAAS;YACtC;YACA,OAAO;QACT;QACA,gBAAgB;QAChB,YAAY,CAAC;;;;;IAKb,CAAC;QACD,kDAAkD;QAClD,iBAAiB,CAAC;;;;;;;;;;;;;;;;;;;;;;;IAuBlB,CAAC;IACH;IAEA,cAAc,gBAAgB,GAAG,CAAC;QAChC,cAAc,QAAQ,CAAC,eAAe,CAAC,KAAK,GAAG;QAC/C,cAAc,QAAQ,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,KAAK,CAAC,KAAK,EAAE,QAAQ,KAAK,CAAC,MAAM;IAChG;IACA,OAAO;AACT;AAEA;;;;CAIC,GACD,SAAS,iBAAiB,EAAC,YAAY,EAAE,cAAc,EAAC,EAAE,WAAW,EAAE,cAAc,WAAW;IAC9F,MAAM,YAAY,IAAI,OAAO,CAAC,4CAA4C,EAAE,YAAY,GAAG,CAAC;IAE5F,IAAI;IACJ,IAAI,qBAAqB;IACzB,iBAAiB,eAAe,OAAO,CAAC,WAAW,CAAC,IAAI;QACtD,qBAAqB;QACrB,OAAO,CAAC,QAAQ,EAAE,OAAO,GAAG,CAAC,EAAE,aAAa;IAC9C;IAEA,IAAI,mBAAmB;IACvB,eAAe,aAAa,OAAO,CAAC,WAAW,CAAC,GAAG;QACjD,mBAAmB;QACnB,OAAO,GAAG,qBAAqB,YAAY,GAAG,CAAC,EAAE,OAAO,GAAG,CAAC,EAAE,aAAa;IAC7E;IACA,IAAI,CAAC,kBAAkB;QACrB,eAAe,GAAG,qBAAqB,YAAY,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY,GAAG,EAAE,cAAc;IAClG;IACA,OAAO;QAAC;QAAc;IAAc;AACtC;AAEA,0EAA0E;AAE1E;;;;;;;CAOC,GAED;;;;;;CAMC,GACD,SAAS,gBAAgB,cAAc,EAAE,CAAC,EAAE,CAAC;IAC3C,IAAI,eAAe;IACnB,MAAM,OAAO,iBAAiB;IAE9B,8BAA8B;IAC9B,IAAI,aAAa;IACjB,KAAK,OAAO,CAAC,CAAA;QACX,IAAI,CAAC,cAAc,KAAK,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,IAAI,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,GAAG,WAAW,MAAM,IAAI,IAAI;YACpH,aAAa;QACf;IACF;IAEA,+CAA+C;IAC/C,WAAW,MAAM,CAAC,OAAO,CAAC,CAAA;QACxB,IAAI,CAAC,gBAAgB,KAAK,GAAG,CAAC,IAAI,MAAM,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,aAAa,CAAC,GAAG;YACzE,eAAe;QACjB;IACF;IACA,OAAO;AACT;AAGA,MAAM,cAAc,IAAI;AAExB;;;;;;;CAOC,GACD,SAAS,kBAAkB,cAAc,EAAE,KAAK,EAAE,GAAG;IACnD,IAAI;IACJ,IAAI,gBAAgB;QAClB,2EAA2E;QAC3E,IAAI,aAAa,YAAY,GAAG,CAAC;QACjC,IAAI,cAAc,WAAW,KAAK,KAAK,SAAS,WAAW,GAAG,KAAK,KAAK;YACtE,OAAO,WAAW,KAAK;QACzB;QAEA,MAAM,EAAC,cAAc,EAAC,GAAG;QAEzB,YAAY;QACZ,IAAI,MAAM,OAAO;YACf,MAAM,IAAI;YACV,QAAQ;YACR,MAAM;QACR;QACA,QAAQ,KAAK,GAAG,CAAC,OAAO;QACxB,MAAM,KAAK,GAAG,CAAC,KAAK,eAAe,MAAM,GAAG;QAE5C,2FAA2F;QAC3F,kEAAkE;QAClE,QAAQ,EAAE;QACV,IAAI,cAAc;QAClB,IAAK,IAAI,IAAI,OAAO,IAAI,KAAK,IAAK;YAChC,MAAM,KAAK,cAAc,CAAC,IAAI,EAAE;YAChC,MAAM,KAAK,cAAc,CAAC,IAAI,IAAI,EAAE;YACpC,MAAM,OAAO,KAAK,GAAG,CAAC,IAAI;YAC1B,MAAM,QAAQ,KAAK,GAAG,CAAC,IAAI;YAC3B,MAAM,SAAS,cAAc,CAAC,IAAI,IAAI,EAAE;YACxC,MAAM,MAAM,cAAc,CAAC,IAAI,IAAI,EAAE;YACrC,IAAI,CAAC,eAAe,WAAW,YAAY,MAAM,IAAI,QAAQ,YAAY,GAAG,IAAI,OAAO,YAAY,KAAK,IAAI,QAAQ,YAAY,IAAI,EAAE;gBACpI,cAAc;oBACZ,MAAM;oBACN,OAAO,CAAC;oBACR;oBACA;gBACF;gBACA,MAAM,IAAI,CAAC;YACb;YACA,YAAY,IAAI,GAAG,KAAK,GAAG,CAAC,MAAM,YAAY,IAAI;YAClD,YAAY,KAAK,GAAG,KAAK,GAAG,CAAC,OAAO,YAAY,KAAK;QACvD;QAEA,uEAAuE;QACvE,MAAM,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,MAAM,GAAG,EAAE,MAAM,IAAI,EAAE,IAAI,GAAG,EAAE,IAAI;QAC3D,IAAK,IAAI,IAAI,MAAM,MAAM,GAAG,GAAG,MAAM,GAAI;YACvC,MAAM,QAAQ,KAAK,CAAC,EAAE;YACtB,MAAM,QAAQ,KAAK,CAAC,IAAI,EAAE;YAC1B,IAAI,MAAM,MAAM,KAAK,MAAM,MAAM,IAAI,MAAM,GAAG,KAAK,MAAM,GAAG,IAAI,MAAM,IAAI,IAAI,MAAM,KAAK,IAAI,MAAM,KAAK,IAAI,MAAM,IAAI,EAAE;gBACtH,MAAM,IAAI,GAAG,KAAK,GAAG,CAAC,MAAM,IAAI,EAAE,MAAM,IAAI;gBAC5C,MAAM,KAAK,GAAG,KAAK,GAAG,CAAC,MAAM,KAAK,EAAE,MAAM,KAAK;gBAC/C,MAAM,MAAM,CAAC,GAAG;YAClB;QACF;QAEA,YAAY,GAAG,CAAC,gBAAgB;YAAC;YAAO;YAAK;QAAK;IACpD;IACA,OAAO;AACT;AAEA,MAAM,oBAAoB,IAAI;AAE9B;;;;;CAKC,GACD,SAAS,iBAAiB,cAAc;IACtC,6DAA6D;IAC7D,IAAI,OAAO,kBAAkB,GAAG,CAAC;IACjC,IAAI,CAAC,MAAM;QACT,OAAO,EAAE;QACT,MAAM,EAAC,cAAc,EAAC,GAAG;QACzB,IAAI;QAEJ,MAAM,aAAa,CAAC,GAAG,QAAQ,KAAK;YAClC,8CAA8C;YAC9C,IAAI,CAAC,UAAW,MAAM,CAAC,OAAO,GAAG,GAAG,OAAO,MAAM,IAAI,GAAI;gBACvD,KAAK,IAAI,CAAC,SAAS;oBAAC;oBAAQ;oBAAK,QAAQ,EAAE;gBAAA;YAC7C;YACA,sCAAsC;YACtC,IAAI,MAAM,OAAO,GAAG,EAAE,OAAO,GAAG,GAAG;YACnC,IAAI,SAAS,OAAO,MAAM,EAAE,OAAO,MAAM,GAAG;YAC5C,OAAO,MAAM,CAAC,IAAI,CAAC;gBACjB;gBACA,GAAG;gBACH,QAAQ,MAAM;gBACd;YACF;QACF;QAEA,IAAI,IAAI;QACR,MAAO,IAAI,eAAe,MAAM,EAAE,KAAK,EAAG;YACxC,WAAW,cAAc,CAAC,EAAE,EAAE,cAAc,CAAC,IAAI,EAAE,EAAE,cAAc,CAAC,IAAI,EAAE,EAAE,IAAI;QAClF;QACA,0CAA0C;QAC1C,WAAW,cAAc,CAAC,IAAI,EAAE,EAAE,cAAc,CAAC,IAAI,EAAE,EAAE,cAAc,CAAC,IAAI,EAAE,EAAE,IAAI;IACtF;IACA,kBAAkB,GAAG,CAAC,gBAAgB;IACtC,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 20268, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20274, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/%40react-three/drei/core/Text.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Text as Text$1, preloadFont } from 'troika-three-text';\nimport { useThree } from '@react-three/fiber';\nimport { suspend } from 'suspend-react';\n\nconst Text = /* @__PURE__ */React.forwardRef(({\n  sdfGlyphSize = 64,\n  anchorX = 'center',\n  anchorY = 'middle',\n  font,\n  fontSize = 1,\n  children,\n  characters,\n  onSync,\n  ...props\n}, ref) => {\n  const invalidate = useThree(({\n    invalidate\n  }) => invalidate);\n  const [troikaMesh] = React.useState(() => new Text$1());\n  const [nodes, text] = React.useMemo(() => {\n    const n = [];\n    let t = '';\n    React.Children.forEach(children, child => {\n      if (typeof child === 'string' || typeof child === 'number') {\n        t += child;\n      } else {\n        n.push(child);\n      }\n    });\n    return [n, t];\n  }, [children]);\n  suspend(() => new Promise(res => preloadFont({\n    font,\n    characters\n  }, res)), ['troika-text', font, characters]);\n  React.useLayoutEffect(() => void troikaMesh.sync(() => {\n    invalidate();\n    if (onSync) onSync(troikaMesh);\n  }));\n  React.useEffect(() => {\n    return () => troikaMesh.dispose();\n  }, [troikaMesh]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: troikaMesh,\n    ref: ref,\n    font: font,\n    text: text,\n    anchorX: anchorX,\n    anchorY: anchorY,\n    fontSize: fontSize,\n    sdfGlyphSize: sdfGlyphSize\n  }, props), nodes);\n});\n\nexport { Text };\n"],"names":[],"mappings":";;;AAAA;AACA;AAEA;AADA;AAEA;;;;;;AAEA,MAAM,OAAO,aAAa,GAAE,8JAAM,UAAU,CAAC,CAAC,EAC5C,eAAe,EAAE,EACjB,UAAU,QAAQ,EAClB,UAAU,QAAQ,EAClB,IAAI,EACJ,WAAW,CAAC,EACZ,QAAQ,EACR,UAAU,EACV,MAAM,EACN,GAAG,OACJ,EAAE;IACD,MAAM,aAAa,CAAA,GAAA,gNAAA,CAAA,WAAQ,AAAD;qCAAE,CAAC,EAC3B,UAAU,EACX,GAAK;;IACN,MAAM,CAAC,WAAW,GAAG,8JAAM,QAAQ;yBAAC,IAAM,IAAI,oLAAA,CAAA,OAAM;;IACpD,MAAM,CAAC,OAAO,KAAK,GAAG,8JAAM,OAAO;wBAAC;YAClC,MAAM,IAAI,EAAE;YACZ,IAAI,IAAI;YACR,8JAAM,QAAQ,CAAC,OAAO,CAAC;gCAAU,CAAA;oBAC/B,IAAI,OAAO,UAAU,YAAY,OAAO,UAAU,UAAU;wBAC1D,KAAK;oBACP,OAAO;wBACL,EAAE,IAAI,CAAC;oBACT;gBACF;;YACA,OAAO;gBAAC;gBAAG;aAAE;QACf;uBAAG;QAAC;KAAS;IACb,CAAA,GAAA,4IAAA,CAAA,UAAO,AAAD,EAAE,IAAM,IAAI,QAAQ,CAAA,MAAO,CAAA,GAAA,oLAAA,CAAA,cAAW,AAAD,EAAE;gBAC3C;gBACA;YACF,GAAG,OAAO;QAAC;QAAe;QAAM;KAAW;IAC3C,8JAAM,eAAe;gCAAC,IAAM,KAAK,WAAW,IAAI;wCAAC;oBAC/C;oBACA,IAAI,QAAQ,OAAO;gBACrB;;;IACA,8JAAM,SAAS;0BAAC;YACd;kCAAO,IAAM,WAAW,OAAO;;QACjC;yBAAG;QAAC;KAAW;IACf,OAAO,WAAW,GAAE,8JAAM,aAAa,CAAC,aAAa,CAAA,GAAA,kKAAA,CAAA,UAAQ,AAAD,EAAE;QAC5D,QAAQ;QACR,KAAK;QACL,MAAM;QACN,MAAM;QACN,SAAS;QACT,SAAS;QACT,UAAU;QACV,cAAc;IAChB,GAAG,QAAQ;AACb","ignoreList":[0]}},
    {"offset": {"line": 20352, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20368, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/%40react-three/drei/core/shaderMaterial.js"],"sourcesContent":["import * as THREE from 'three';\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n  const material = class material extends THREE.ShaderMaterial {\n    constructor(parameters = {}) {\n      const entries = Object.entries(uniforms);\n      // Create unforms and shaders\n      super({\n        uniforms: entries.reduce((acc, [name, value]) => {\n          const uniform = THREE.UniformsUtils.clone({\n            [name]: {\n              value\n            }\n          });\n          return {\n            ...acc,\n            ...uniform\n          };\n        }, {}),\n        vertexShader,\n        fragmentShader\n      });\n      // Create getter/setters\n      this.key = '';\n      entries.forEach(([name]) => Object.defineProperty(this, name, {\n        get: () => this.uniforms[name].value,\n        set: v => this.uniforms[name].value = v\n      }));\n\n      // Assign parameters, this might include uniforms\n      Object.assign(this, parameters);\n      // Call onInit\n      if (onInit) onInit(this);\n    }\n  };\n  material.key = THREE.MathUtils.generateUUID();\n  return material;\n}\n\nexport { shaderMaterial };\n"],"names":[],"mappings":";;;AAAA;;AAEA,SAAS,eAAe,QAAQ,EAAE,YAAY,EAAE,cAAc,EAAE,MAAM;IACpE,MAAM,WAAW,MAAM,iBAAiB,qJAAM,cAAc;QAC1D,YAAY,aAAa,CAAC,CAAC,CAAE;YAC3B,MAAM,UAAU,OAAO,OAAO,CAAC;YAC/B,6BAA6B;YAC7B,KAAK,CAAC;gBACJ,UAAU,QAAQ,MAAM,CAAC,CAAC,KAAK,CAAC,MAAM,MAAM;oBAC1C,MAAM,UAAU,qJAAM,aAAa,CAAC,KAAK,CAAC;wBACxC,CAAC,KAAK,EAAE;4BACN;wBACF;oBACF;oBACA,OAAO;wBACL,GAAG,GAAG;wBACN,GAAG,OAAO;oBACZ;gBACF,GAAG,CAAC;gBACJ;gBACA;YACF;YACA,wBAAwB;YACxB,IAAI,CAAC,GAAG,GAAG;YACX,QAAQ,OAAO,CAAC,CAAC,CAAC,KAAK,GAAK,OAAO,cAAc,CAAC,IAAI,EAAE,MAAM;oBAC5D,KAAK,IAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK;oBACpC,KAAK,CAAA,IAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG;gBACxC;YAEA,iDAAiD;YACjD,OAAO,MAAM,CAAC,IAAI,EAAE;YACpB,cAAc;YACd,IAAI,QAAQ,OAAO,IAAI;QACzB;IACF;IACA,SAAS,GAAG,GAAG,qJAAM,SAAS,CAAC,YAAY;IAC3C,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 20409, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20415, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/%40react-three/drei/materials/DiscardMaterial.js"],"sourcesContent":["import { shaderMaterial } from '../core/shaderMaterial.js';\n\nconst DiscardMaterial = /* @__PURE__ */shaderMaterial({}, 'void main() { }', 'void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }');\n\nexport { DiscardMaterial };\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,kBAAkB,aAAa,GAAE,CAAA,GAAA,qKAAA,CAAA,iBAAc,AAAD,EAAE,CAAC,GAAG,mBAAmB","ignoreList":[0]}},
    {"offset": {"line": 20422, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20428, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/%40react-three/drei/core/Fbo.js"],"sourcesContent":["import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\n\n// TODO: consume this from three >r154 when SemVer allows\n\n// 👇 uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\nfunction useFBO(/** Width in pixels, or settings (will render fullscreen by default) */\nwidth, /** Height in pixels */\nheight, /**Settings */\nsettings) {\n  const size = useThree(state => state.size);\n  const viewport = useThree(state => state.viewport);\n  const _width = typeof width === 'number' ? width : size.width * viewport.dpr;\n  const _height = typeof height === 'number' ? height : size.height * viewport.dpr;\n  const _settings = (typeof width === 'number' ? settings : width) || {};\n  const {\n    samples = 0,\n    depth,\n    ...targetSettings\n  } = _settings;\n  const target = React.useMemo(() => {\n    const target = new THREE.WebGLRenderTarget(_width, _height, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      type: THREE.HalfFloatType,\n      ...targetSettings\n    });\n    if (depth) {\n      target.depthTexture = new THREE.DepthTexture(_width, _height, THREE.FloatType);\n    }\n    target.samples = samples;\n    return target;\n  }, []);\n  React.useLayoutEffect(() => {\n    target.setSize(_width, _height);\n    if (samples) target.samples = samples;\n  }, [samples, target, _width, _height]);\n  React.useEffect(() => {\n    return () => target.dispose();\n  }, []);\n  return target;\n}\nconst Fbo = ({\n  children,\n  width,\n  height,\n  ...settings\n}) => {\n  const target = useFBO(width, height, settings);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(target));\n};\n\nexport { Fbo, useFBO };\n"],"names":[],"mappings":";;;;AAAA;AAEA;AADA;;;;AAGA,yDAAyD;AAEzD,2DAA2D;AAC3D,iDAAiD;AACjD,SAAS,OAAO,qEAAqE,GACrF,KAAK,EAAE,qBAAqB,GAC5B,MAAM,EAAE,YAAY,GACpB,QAAQ;IACN,MAAM,OAAO,CAAA,GAAA,gNAAA,CAAA,WAAQ,AAAD;iCAAE,CAAA,QAAS,MAAM,IAAI;;IACzC,MAAM,WAAW,CAAA,GAAA,gNAAA,CAAA,WAAQ,AAAD;qCAAE,CAAA,QAAS,MAAM,QAAQ;;IACjD,MAAM,SAAS,OAAO,UAAU,WAAW,QAAQ,KAAK,KAAK,GAAG,SAAS,GAAG;IAC5E,MAAM,UAAU,OAAO,WAAW,WAAW,SAAS,KAAK,MAAM,GAAG,SAAS,GAAG;IAChF,MAAM,YAAY,CAAC,OAAO,UAAU,WAAW,WAAW,KAAK,KAAK,CAAC;IACrE,MAAM,EACJ,UAAU,CAAC,EACX,KAAK,EACL,GAAG,gBACJ,GAAG;IACJ,MAAM,SAAS,8JAAM,OAAO;kCAAC;YAC3B,MAAM,SAAS,IAAI,qJAAM,iBAAiB,CAAC,QAAQ,SAAS;gBAC1D,WAAW,qJAAM,YAAY;gBAC7B,WAAW,qJAAM,YAAY;gBAC7B,MAAM,qJAAM,aAAa;gBACzB,GAAG,cAAc;YACnB;YACA,IAAI,OAAO;gBACT,OAAO,YAAY,GAAG,IAAI,qJAAM,YAAY,CAAC,QAAQ,SAAS,qJAAM,SAAS;YAC/E;YACA,OAAO,OAAO,GAAG;YACjB,OAAO;QACT;iCAAG,EAAE;IACL,8JAAM,eAAe;kCAAC;YACpB,OAAO,OAAO,CAAC,QAAQ;YACvB,IAAI,SAAS,OAAO,OAAO,GAAG;QAChC;iCAAG;QAAC;QAAS;QAAQ;QAAQ;KAAQ;IACrC,8JAAM,SAAS;4BAAC;YACd;oCAAO,IAAM,OAAO,OAAO;;QAC7B;2BAAG,EAAE;IACL,OAAO;AACT;AACA,MAAM,MAAM,CAAC,EACX,QAAQ,EACR,KAAK,EACL,MAAM,EACN,GAAG,UACJ;IACC,MAAM,SAAS,OAAO,OAAO,QAAQ;IACrC,OAAO,WAAW,GAAE,8JAAM,aAAa,CAAC,8JAAM,QAAQ,EAAE,MAAM,YAAY,OAAO,KAAK,IAAI,SAAS;AACrG","ignoreList":[0]}},
    {"offset": {"line": 20492, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20498, "column": 0}, "map": {"version":3,"sources":["file:///Users/jay/personal/dczii.github.io/node_modules/%40react-three/drei/core/MeshTransmissionMaterial.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useFrame } from '@react-three/fiber';\nimport { useFBO } from './Fbo.js';\nimport { DiscardMaterial } from '../materials/DiscardMaterial.js';\n\nclass MeshTransmissionMaterialImpl extends THREE.MeshPhysicalMaterial {\n  constructor(samples = 6, transmissionSampler = false) {\n    super();\n    this.uniforms = {\n      chromaticAberration: {\n        value: 0.05\n      },\n      // Transmission must always be 0, unless transmissionSampler is being used\n      transmission: {\n        value: 0\n      },\n      // Instead a workaround is used, see below for reasons why\n      _transmission: {\n        value: 1\n      },\n      transmissionMap: {\n        value: null\n      },\n      // Roughness is 1 in THREE.MeshPhysicalMaterial but it makes little sense in a transmission material\n      roughness: {\n        value: 0\n      },\n      thickness: {\n        value: 0\n      },\n      thicknessMap: {\n        value: null\n      },\n      attenuationDistance: {\n        value: Infinity\n      },\n      attenuationColor: {\n        value: new THREE.Color('white')\n      },\n      anisotropicBlur: {\n        value: 0.1\n      },\n      time: {\n        value: 0\n      },\n      distortion: {\n        value: 0.0\n      },\n      distortionScale: {\n        value: 0.5\n      },\n      temporalDistortion: {\n        value: 0.0\n      },\n      buffer: {\n        value: null\n      }\n    };\n    this.onBeforeCompile = shader => {\n      shader.uniforms = {\n        ...shader.uniforms,\n        ...this.uniforms\n      };\n\n      // Fix for r153-r156 anisotropy chunks\n      // https://github.com/mrdoob/three.js/pull/26716\n      if (this.anisotropy > 0) shader.defines.USE_ANISOTROPY = '';\n\n      // If the transmission sampler is active inject a flag\n      if (transmissionSampler) shader.defines.USE_SAMPLER = '';\n      // Otherwise we do use use .transmission and must therefore force USE_TRANSMISSION\n      // because threejs won't inject it for us\n      else shader.defines.USE_TRANSMISSION = '';\n\n      // Head\n      shader.fragmentShader = /*glsl*/`\n      uniform float chromaticAberration;         \n      uniform float anisotropicBlur;      \n      uniform float time;\n      uniform float distortion;\n      uniform float distortionScale;\n      uniform float temporalDistortion;\n      uniform sampler2D buffer;\n\n      vec3 random3(vec3 c) {\n        float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n        vec3 r;\n        r.z = fract(512.0*j);\n        j *= .125;\n        r.x = fract(512.0*j);\n        j *= .125;\n        r.y = fract(512.0*j);\n        return r-0.5;\n      }\n\n      uint hash( uint x ) {\n        x += ( x << 10u );\n        x ^= ( x >>  6u );\n        x += ( x <<  3u );\n        x ^= ( x >> 11u );\n        x += ( x << 15u );\n        return x;\n      }\n\n      // Compound versions of the hashing algorithm I whipped together.\n      uint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }\n      uint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }\n      uint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }\n\n      // Construct a float with half-open range [0:1] using low 23 bits.\n      // All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.\n      float floatConstruct( uint m ) {\n        const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask\n        const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32\n        m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)\n        m |= ieeeOne;                          // Add fractional part to 1.0\n        float  f = uintBitsToFloat( m );       // Range [1:2]\n        return f - 1.0;                        // Range [0:1]\n      }\n\n      // Pseudo-random value in half-open range [0:1].\n      float randomBase( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }\n      float randomBase( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n      float randomBase( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n      float randomBase( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n      float rand(float seed) {\n        float result = randomBase(vec3(gl_FragCoord.xy, seed));\n        return result;\n      }\n\n      const float F3 =  0.3333333;\n      const float G3 =  0.1666667;\n\n      float snoise(vec3 p) {\n        vec3 s = floor(p + dot(p, vec3(F3)));\n        vec3 x = p - s + dot(s, vec3(G3));\n        vec3 e = step(vec3(0.0), x - x.yzx);\n        vec3 i1 = e*(1.0 - e.zxy);\n        vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n        vec3 x1 = x - i1 + G3;\n        vec3 x2 = x - i2 + 2.0*G3;\n        vec3 x3 = x - 1.0 + 3.0*G3;\n        vec4 w, d;\n        w.x = dot(x, x);\n        w.y = dot(x1, x1);\n        w.z = dot(x2, x2);\n        w.w = dot(x3, x3);\n        w = max(0.6 - w, 0.0);\n        d.x = dot(random3(s), x);\n        d.y = dot(random3(s + i1), x1);\n        d.z = dot(random3(s + i2), x2);\n        d.w = dot(random3(s + 1.0), x3);\n        w *= w;\n        w *= w;\n        d *= w;\n        return dot(d, vec4(52.0));\n      }\n\n      float snoiseFractal(vec3 m) {\n        return 0.5333333* snoise(m)\n              +0.2666667* snoise(2.0*m)\n              +0.1333333* snoise(4.0*m)\n              +0.0666667* snoise(8.0*m);\n      }\\n` + shader.fragmentShader;\n\n      // Remove transmission\n      shader.fragmentShader = shader.fragmentShader.replace('#include <transmission_pars_fragment>', /*glsl*/`\n        #ifdef USE_TRANSMISSION\n          // Transmission code is based on glTF-Sampler-Viewer\n          // https://github.com/KhronosGroup/glTF-Sample-Viewer\n          uniform float _transmission;\n          uniform float thickness;\n          uniform float attenuationDistance;\n          uniform vec3 attenuationColor;\n          #ifdef USE_TRANSMISSIONMAP\n            uniform sampler2D transmissionMap;\n          #endif\n          #ifdef USE_THICKNESSMAP\n            uniform sampler2D thicknessMap;\n          #endif\n          uniform vec2 transmissionSamplerSize;\n          uniform sampler2D transmissionSamplerMap;\n          uniform mat4 modelMatrix;\n          uniform mat4 projectionMatrix;\n          varying vec3 vWorldPosition;\n          vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n            // Direction of refracted light.\n            vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n            // Compute rotation-independant scaling of the model matrix.\n            vec3 modelScale;\n            modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n            modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n            modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n            // The thickness is specified in local space.\n            return normalize( refractionVector ) * thickness * modelScale;\n          }\n          float applyIorToRoughness( const in float roughness, const in float ior ) {\n            // Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and\n            // an IOR of 1.5 results in the default amount of microfacet refraction.\n            return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n          }\n          vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n            float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );            \n            #ifdef USE_SAMPLER\n              #ifdef texture2DLodEXT\n                return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod);\n              #else\n                return texture2D(transmissionSamplerMap, fragCoord.xy, framebufferLod);\n              #endif\n            #else\n              return texture2D(buffer, fragCoord.xy);\n            #endif\n          }\n          vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n            if ( isinf( attenuationDistance ) ) {\n              // Attenuation distance is +∞, i.e. the transmitted color is not attenuated at all.\n              return radiance;\n            } else {\n              // Compute light attenuation using Beer's law.\n              vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n              vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance ); // Beer's law\n              return transmittance * radiance;\n            }\n          }\n          vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n            const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n            const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n            const in vec3 attenuationColor, const in float attenuationDistance ) {\n            vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n            vec3 refractedRayExit = position + transmissionRay;\n            // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.\n            vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n            vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n            refractionCoords += 1.0;\n            refractionCoords /= 2.0;\n            // Sample framebuffer to get pixel the refracted ray hits.\n            vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n            vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n            // Get the specular component.\n            vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n            return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n          }\n        #endif\\n`);\n\n      // Add refraction\n      shader.fragmentShader = shader.fragmentShader.replace('#include <transmission_fragment>', /*glsl*/`  \n        // Improve the refraction to use the world pos\n        material.transmission = _transmission;\n        material.transmissionAlpha = 1.0;\n        material.thickness = thickness;\n        material.attenuationDistance = attenuationDistance;\n        material.attenuationColor = attenuationColor;\n        #ifdef USE_TRANSMISSIONMAP\n          material.transmission *= texture2D( transmissionMap, vUv ).r;\n        #endif\n        #ifdef USE_THICKNESSMAP\n          material.thickness *= texture2D( thicknessMap, vUv ).g;\n        #endif\n        \n        vec3 pos = vWorldPosition;\n        float runningSeed = 0.0;\n        vec3 v = normalize( cameraPosition - pos );\n        vec3 n = inverseTransformDirection( normal, viewMatrix );\n        vec3 transmission = vec3(0.0);\n        float transmissionR, transmissionB, transmissionG;\n        float randomCoords = rand(runningSeed++);\n        float thickness_smear = thickness * max(pow(roughnessFactor, 0.33), anisotropicBlur);\n        vec3 distortionNormal = vec3(0.0);\n        vec3 temporalOffset = vec3(time, -time, -time) * temporalDistortion;\n        if (distortion > 0.0) {\n          distortionNormal = distortion * vec3(snoiseFractal(vec3((pos * distortionScale + temporalOffset))), snoiseFractal(vec3(pos.zxy * distortionScale - temporalOffset)), snoiseFractal(vec3(pos.yxz * distortionScale + temporalOffset)));\n        }\n        for (float i = 0.0; i < ${samples}.0; i ++) {\n          vec3 sampleNorm = normalize(n + roughnessFactor * roughnessFactor * 2.0 * normalize(vec3(rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5)) * pow(rand(runningSeed++), 0.33) + distortionNormal);\n          transmissionR = getIBLVolumeRefraction(\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness  + thickness_smear * (i + randomCoords) / float(${samples}),\n            material.attenuationColor, material.attenuationDistance\n          ).r;\n          transmissionG = getIBLVolumeRefraction(\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior  * (1.0 + chromaticAberration * (i + randomCoords) / float(${samples})) , material.thickness + thickness_smear * (i + randomCoords) / float(${samples}),\n            material.attenuationColor, material.attenuationDistance\n          ).g;\n          transmissionB = getIBLVolumeRefraction(\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior * (1.0 + 2.0 * chromaticAberration * (i + randomCoords) / float(${samples})), material.thickness + thickness_smear * (i + randomCoords) / float(${samples}),\n            material.attenuationColor, material.attenuationDistance\n          ).b;\n          transmission.r += transmissionR;\n          transmission.g += transmissionG;\n          transmission.b += transmissionB;\n        }\n        transmission /= ${samples}.0;\n        totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\\n`);\n    };\n    Object.keys(this.uniforms).forEach(name => Object.defineProperty(this, name, {\n      get: () => this.uniforms[name].value,\n      set: v => this.uniforms[name].value = v\n    }));\n  }\n}\nconst MeshTransmissionMaterial = /* @__PURE__ */React.forwardRef(({\n  buffer,\n  transmissionSampler = false,\n  backside = false,\n  side = THREE.FrontSide,\n  transmission = 1,\n  thickness = 0,\n  backsideThickness = 0,\n  backsideEnvMapIntensity = 1,\n  samples = 10,\n  resolution,\n  backsideResolution,\n  background,\n  anisotropy,\n  anisotropicBlur,\n  ...props\n}, fref) => {\n  extend({\n    MeshTransmissionMaterial: MeshTransmissionMaterialImpl\n  });\n  const ref = React.useRef(null);\n  const [discardMaterial] = React.useState(() => new DiscardMaterial());\n  const fboBack = useFBO(backsideResolution || resolution);\n  const fboMain = useFBO(resolution);\n  let oldBg;\n  let oldEnvMapIntensity;\n  let oldTone;\n  let parent;\n  useFrame(state => {\n    ref.current.time = state.clock.getElapsedTime();\n    // Render only if the buffer matches the built-in and no transmission sampler is set\n    if (ref.current.buffer === fboMain.texture && !transmissionSampler) {\n      parent = ref.current.__r3f.parent;\n      if (parent) {\n        // Save defaults\n        oldTone = state.gl.toneMapping;\n        oldBg = state.scene.background;\n        oldEnvMapIntensity = ref.current.envMapIntensity;\n\n        // Switch off tonemapping lest it double tone maps\n        // Save the current background and set the HDR as the new BG\n        // Use discardmaterial, the parent will be invisible, but it's shadows will still be cast\n        state.gl.toneMapping = THREE.NoToneMapping;\n        if (background) state.scene.background = background;\n        parent.material = discardMaterial;\n        if (backside) {\n          // Render into the backside buffer\n          state.gl.setRenderTarget(fboBack);\n          state.gl.render(state.scene, state.camera);\n          // And now prepare the material for the main render using the backside buffer\n          parent.material = ref.current;\n          parent.material.buffer = fboBack.texture;\n          parent.material.thickness = backsideThickness;\n          parent.material.side = THREE.BackSide;\n          parent.material.envMapIntensity = backsideEnvMapIntensity;\n        }\n\n        // Render into the main buffer\n        state.gl.setRenderTarget(fboMain);\n        state.gl.render(state.scene, state.camera);\n        parent.material = ref.current;\n        parent.material.thickness = thickness;\n        parent.material.side = side;\n        parent.material.buffer = fboMain.texture;\n        parent.material.envMapIntensity = oldEnvMapIntensity;\n\n        // Set old state back\n        state.scene.background = oldBg;\n        state.gl.setRenderTarget(null);\n        state.gl.toneMapping = oldTone;\n      }\n    }\n  });\n\n  // Forward ref\n  React.useImperativeHandle(fref, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"meshTransmissionMaterial\", _extends({\n    // Samples must re-compile the shader so we memoize it\n    args: [samples, transmissionSampler],\n    ref: ref\n  }, props, {\n    buffer: buffer || fboMain.texture\n    // @ts-ignore\n    ,\n    _transmission: transmission\n    // In order for this to not incur extra cost \"transmission\" must be set to 0 and treated as a reserved prop.\n    // This is because THREE.WebGLRenderer will check for transmission > 0 and execute extra renders.\n    // The exception is when transmissionSampler is set, in which case we are using three's built in sampler.\n    ,\n    anisotropicBlur: anisotropicBlur !== null && anisotropicBlur !== void 0 ? anisotropicBlur : anisotropy,\n    transmission: transmissionSampler ? transmission : 0,\n    thickness: thickness,\n    side: side\n  }));\n});\n\nexport { MeshTransmissionMaterial };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 20883, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}